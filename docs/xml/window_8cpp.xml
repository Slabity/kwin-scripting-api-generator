<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="window_8cpp" kind="file" language="C++">
    <compoundname>window.cpp</compoundname>
    <includes refid="window_8h" local="yes">window.h</includes>
    <includes refid="globals_8h" local="yes">effect/globals.h</includes>
    <includes refid="common_8h" local="yes">utils/common.h</includes>
    <includes refid="appmenu_8h" local="yes">appmenu.h</includes>
    <includes refid="client__machine_8h" local="yes">client_machine.h</includes>
    <includes refid="compositor_8h" local="yes">compositor.h</includes>
    <includes refid="core_2output_8h" local="yes">core/output.h</includes>
    <includes refid="decoratedwindow_8h" local="yes">decorations/decoratedwindow.h</includes>
    <includes refid="decorationpalette_8h" local="yes">decorations/decorationpalette.h</includes>
    <includes refid="focuschain_8h" local="yes">focuschain.h</includes>
    <includes refid="input_8h" local="yes">input.h</includes>
    <includes refid="outline_8h" local="yes">outline.h</includes>
    <includes refid="placement_8h" local="yes">placement.h</includes>
    <includes refid="pointer__input_8h" local="yes">pointer_input.h</includes>
    <includes refid="windowitem_8h" local="yes">scene/windowitem.h</includes>
    <includes refid="workspacescene_8h" local="yes">scene/workspacescene.h</includes>
    <includes refid="screenedge_8h" local="yes">screenedge.h</includes>
    <includes refid="shadow_8h" local="yes">shadow.h</includes>
    <includes refid="tilemanager_8h" local="yes">tiles/tilemanager.h</includes>
    <includes refid="useractions_8h" local="yes">useractions.h</includes>
    <includes refid="virtualdesktops_8h" local="yes">virtualdesktops.h</includes>
    <includes refid="wayland_2output_8h" local="yes">wayland/output.h</includes>
    <includes refid="plasmawindowmanagement_8h" local="yes">wayland/plasmawindowmanagement.h</includes>
    <includes refid="surface_8h" local="yes">wayland/surface.h</includes>
    <includes refid="wayland__server_8h" local="yes">wayland_server.h</includes>
    <includes refid="workspace_8h" local="yes">workspace.h</includes>
    <includes local="no">KDecoration3/DecoratedWindow</includes>
    <includes local="no">KDecoration3/Decoration</includes>
    <includes local="no">KDesktopFile</includes>
    <includes local="no">QDebug</includes>
    <includes local="no">QDir</includes>
    <includes local="no">QJSEngine</includes>
    <includes local="no">QMouseEvent</includes>
    <includes local="no">QStyleHints</includes>
    <includes local="yes">moc_window.cpp</includes>
    <incdepgraph>
      <node id="48">
        <label>appmenu.h</label>
        <link refid="appmenu_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="49">
        <label>client_machine.h</label>
        <link refid="client__machine_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="50">
        <label>compositor.h</label>
        <link refid="compositor_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="15">
        <label>core/colorspace.h</label>
        <link refid="colorspace_8h"/>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="62">
        <label>core/inputdevice.h</label>
        <link refid="inputdevice_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>core/output.h</label>
        <link refid="core_2output_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="102">
        <label>core/renderbackend.h</label>
        <link refid="renderbackend_8h"/>
        <childnode refid="103" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="104" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="82">
        <label>core/renderlayerdelegate.h</label>
        <link refid="renderlayerdelegate_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>renderloop.h</label>
        <link refid="renderloop_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="103">
        <label>core/rendertarget.h</label>
        <link refid="rendertarget_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="24">
        <label>cursor.h</label>
        <link refid="cursor_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="52">
        <label>decorations/decoratedwindow.h</label>
        <link refid="decoratedwindow_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
      </node>
      <node id="55">
        <label>decorations/decorationpalette.h</label>
        <link refid="decorationpalette_8h"/>
        <childnode refid="56" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="57" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="58" relation="include">
        </childnode>
        <childnode refid="59" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>effect/globals.h</label>
        <link refid="globals_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="60">
        <label>focuschain.h</label>
        <link refid="focuschain_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="61">
        <label>input.h</label>
        <link refid="input_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="62" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
      </node>
      <node id="29">
        <label>main.h</label>
        <link refid="main_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
      </node>
      <node id="74">
        <label>opengl/glvertexbuffer.h</label>
        <link refid="glvertexbuffer_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
      </node>
      <node id="28">
        <label>options.h</label>
        <link refid="options_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="64">
        <label>outline.h</label>
        <link refid="outline_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="65">
        <label>placement.h</label>
        <link refid="placement_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="66">
        <label>pointer_input.h</label>
        <link refid="pointer__input_8h"/>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
      </node>
      <node id="35">
        <label>rules.h</label>
        <link refid="rules_8h"/>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
      </node>
      <node id="72">
        <label>scene/item.h</label>
        <link refid="item_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
      </node>
      <node id="73">
        <label>scene/itemgeometry.h</label>
        <link refid="itemgeometry_8h"/>
        <childnode refid="74" relation="include">
        </childnode>
      </node>
      <node id="81">
        <label>scene/scene.h</label>
        <link refid="scene_8h"/>
        <childnode refid="82" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="71">
        <label>scene/windowitem.h</label>
        <link refid="windowitem_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
      </node>
      <node id="80">
        <label>scene/workspacescene.h</label>
        <link refid="workspacescene_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
      </node>
      <node id="83">
        <label>screenedge.h</label>
        <link refid="screenedge_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="87">
        <label>scripting/tilemodel.h</label>
        <link refid="tilemodel_8h"/>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="90" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="91" relation="include">
        </childnode>
      </node>
      <node id="84">
        <label>shadow.h</label>
        <link refid="shadow_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="107">
        <label>sm.h</label>
        <link refid="sm_8h"/>
        <childnode refid="108" relation="include">
        </childnode>
        <childnode refid="109" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="110" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="111" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="86">
        <label>customtile.h</label>
        <link refid="customtile_8h"/>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="92">
        <label>quicktile.h</label>
        <link refid="quicktile_8h"/>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="88">
        <label>tiles/tile.h</label>
        <link refid="tile_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="89" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
      </node>
      <node id="85">
        <label>tiles/tilemanager.h</label>
        <link refid="tilemanager_8h"/>
        <childnode refid="86" relation="include">
        </childnode>
        <childnode refid="92" relation="include">
        </childnode>
        <childnode refid="87" relation="include">
        </childnode>
        <childnode refid="88" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="90" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="91" relation="include">
        </childnode>
      </node>
      <node id="93">
        <label>useractions.h</label>
        <link refid="useractions_8h"/>
        <childnode refid="94" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="95" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
      </node>
      <node id="37">
        <label>utils/common.h</label>
        <link refid="common_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
      </node>
      <node id="67">
        <label>utils/cursortheme.h</label>
        <link refid="cursortheme_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
      </node>
      <node id="14">
        <label>utils/edid.h</label>
        <link refid="edid_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="104">
        <label>utils/filedescriptor.h</label>
        <link refid="filedescriptor_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="38">
        <label>utils/version.h</label>
        <link refid="version_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
      </node>
      <node id="96">
        <label>virtualdesktops.h</label>
        <link refid="virtualdesktops_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="97" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="98" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
      </node>
      <node id="99">
        <label>wayland/output.h</label>
        <link refid="wayland_2output_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="100">
        <label>wayland/plasmawindowmanagement.h</label>
        <link refid="plasmawindowmanagement_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="101">
        <label>wayland/surface.h</label>
        <link refid="surface_8h"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="102" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
      </node>
      <node id="105">
        <label>wayland_server.h</label>
        <link refid="wayland__server_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="63" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>kwin/src/window.cpp</label>
        <link refid="window_8cpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="60" relation="include">
        </childnode>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
        <childnode refid="85" relation="include">
        </childnode>
        <childnode refid="93" relation="include">
        </childnode>
        <childnode refid="96" relation="include">
        </childnode>
        <childnode refid="99" relation="include">
        </childnode>
        <childnode refid="100" relation="include">
        </childnode>
        <childnode refid="101" relation="include">
        </childnode>
        <childnode refid="105" relation="include">
        </childnode>
        <childnode refid="106" relation="include">
        </childnode>
        <childnode refid="113" relation="include">
        </childnode>
        <childnode refid="114" relation="include">
        </childnode>
        <childnode refid="115" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="116" relation="include">
        </childnode>
        <childnode refid="117" relation="include">
        </childnode>
        <childnode refid="118" relation="include">
        </childnode>
        <childnode refid="119" relation="include">
        </childnode>
        <childnode refid="120" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>window.h</label>
        <link refid="window_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="106">
        <label>workspace.h</label>
        <link refid="workspace_8h"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="107" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="112" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="110" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
      </node>
      <node id="56">
        <label>KColorScheme</label>
      </node>
      <node id="98">
        <label>KConfig</label>
      </node>
      <node id="111">
        <label>KConfigGroup</label>
      </node>
      <node id="34">
        <label>KConfigWatcher</label>
      </node>
      <node id="113">
        <label>KDecoration3/DecoratedWindow</label>
      </node>
      <node id="114">
        <label>KDecoration3/Decoration</label>
      </node>
      <node id="57">
        <label>KDecoration3/DecorationSettings</label>
      </node>
      <node id="53">
        <label>KDecoration3/Private/DecoratedWindowPrivate</label>
      </node>
      <node id="115">
        <label>KDesktopFile</label>
      </node>
      <node id="26">
        <label>KSharedConfig</label>
      </node>
      <node id="90">
        <label>QAbstractItemModel</label>
      </node>
      <node id="31">
        <label>QAbstractNativeEventFilter</label>
      </node>
      <node id="97">
        <label>QAction</label>
      </node>
      <node id="32">
        <label>QApplication</label>
      </node>
      <node id="18">
        <label>QByteArray</label>
      </node>
      <node id="75">
        <label>QColor</label>
      </node>
      <node id="8">
        <label>QCoreApplication</label>
      </node>
      <node id="108">
        <label>QDBusContext</label>
      </node>
      <node id="109">
        <label>QDataStream</label>
      </node>
      <node id="54">
        <label>QDeadlineTimer</label>
      </node>
      <node id="21">
        <label>QDebug</label>
      </node>
      <node id="95">
        <label>QDialog</label>
      </node>
      <node id="116">
        <label>QDir</label>
      </node>
      <node id="43">
        <label>QElapsedTimer</label>
      </node>
      <node id="58">
        <label>QFileSystemWatcher</label>
      </node>
      <node id="25">
        <label>QHash</label>
      </node>
      <node id="44">
        <label>QIcon</label>
      </node>
      <node id="9">
        <label>QImage</label>
      </node>
      <node id="117">
        <label>QJSEngine</label>
      </node>
      <node id="91">
        <label>QJsonValue</label>
      </node>
      <node id="45">
        <label>QKeySequence</label>
      </node>
      <node id="19">
        <label>QList</label>
      </node>
      <node id="40">
        <label>QLoggingCategory</label>
      </node>
      <node id="17">
        <label>QMatrix4x4</label>
      </node>
      <node id="118">
        <label>QMouseEvent</label>
      </node>
      <node id="13">
        <label>QObject</label>
      </node>
      <node id="59">
        <label>QPalette</label>
      </node>
      <node id="10">
        <label>QPoint</label>
      </node>
      <node id="70">
        <label>QPointF</label>
      </node>
      <node id="46">
        <label>QPointer</label>
      </node>
      <node id="33">
        <label>QProcessEnvironment</label>
      </node>
      <node id="22">
        <label>QRect</label>
      </node>
      <node id="36">
        <label>QRectF</label>
      </node>
      <node id="51">
        <label>QRegion</label>
      </node>
      <node id="63">
        <label>QSet</label>
      </node>
      <node id="68">
        <label>QSharedDataPointer</label>
      </node>
      <node id="20">
        <label>QSize</label>
      </node>
      <node id="39">
        <label>QString</label>
      </node>
      <node id="110">
        <label>QStringList</label>
      </node>
      <node id="119">
        <label>QStyleHints</label>
      </node>
      <node id="47">
        <label>QTimer</label>
      </node>
      <node id="79">
        <label>QTransform</label>
      </node>
      <node id="23">
        <label>QUuid</label>
      </node>
      <node id="11">
        <label>QVariant</label>
      </node>
      <node id="12">
        <label>QVector2D</label>
      </node>
      <node id="69">
        <label>chrono</label>
      </node>
      <node id="41">
        <label>climits</label>
      </node>
      <node id="7">
        <label>config-kwin.h</label>
      </node>
      <node id="76">
        <label>epoxy/gl.h</label>
      </node>
      <node id="42">
        <label>functional</label>
      </node>
      <node id="4">
        <label>kwin_export.h</label>
      </node>
      <node id="30">
        <label>memory</label>
      </node>
      <node id="120">
        <label>moc_window.cpp</label>
      </node>
      <node id="112">
        <label>netwm_def.h</label>
      </node>
      <node id="16">
        <label>optional</label>
      </node>
      <node id="77">
        <label>ranges</label>
      </node>
      <node id="78">
        <label>span</label>
      </node>
      <node id="94">
        <label>ui_shortcutdialog.h</label>
      </node>
      <node id="89">
        <label>virtualdesktops.h</label>
      </node>
      <node id="27">
        <label>xcb/xcb.h</label>
      </node>
    </incdepgraph>
    <innernamespace refid="namespace_k_win">KWin</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/><sp/><sp/><sp/>KWin<sp/>-<sp/>the<sp/>KDE<sp/>window<sp/>manager</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/><sp/><sp/><sp/>This<sp/>file<sp/>is<sp/>part<sp/>of<sp/>the<sp/>KDE<sp/>project.</highlight></codeline>
<codeline lineno="4"><highlight class="comment"></highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/><sp/><sp/><sp/>SPDX-FileCopyrightText:<sp/>2015<sp/>Martin<sp/>Gräßlin<sp/>&lt;mgraesslin@kde.org&gt;</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/><sp/><sp/><sp/>SPDX-FileCopyrightText:<sp/>2019<sp/>Vlad<sp/>Zahorodnii<sp/>&lt;vlad.zahorodnii@kde.org&gt;</highlight></codeline>
<codeline lineno="7"><highlight class="comment"></highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/><sp/><sp/><sp/>SPDX-License-Identifier:<sp/>GPL-2.0-or-later</highlight></codeline>
<codeline lineno="9"><highlight class="comment">*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="window_8h" kindref="compound">window.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="globals_8h" kindref="compound">effect/globals.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="common_8h" kindref="compound">utils/common.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>KWIN_BUILD_ACTIVITIES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="activities_8h" kindref="compound">activities.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="appmenu_8h" kindref="compound">appmenu.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="client__machine_8h" kindref="compound">client_machine.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="compositor_8h" kindref="compound">compositor.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="core_2output_8h" kindref="compound">core/output.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="decoratedwindow_8h" kindref="compound">decorations/decoratedwindow.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="decorationpalette_8h" kindref="compound">decorations/decorationpalette.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="focuschain_8h" kindref="compound">focuschain.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="input_8h" kindref="compound">input.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="outline_8h" kindref="compound">outline.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="placement_8h" kindref="compound">placement.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pointer__input_8h" kindref="compound">pointer_input.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="windowitem_8h" kindref="compound">scene/windowitem.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="workspacescene_8h" kindref="compound">scene/workspacescene.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="screenedge_8h" kindref="compound">screenedge.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="shadow_8h" kindref="compound">shadow.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>KWIN_BUILD_TABBOX</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="tabbox_8h" kindref="compound">tabbox/tabbox.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="tilemanager_8h" kindref="compound">tiles/tilemanager.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="useractions_8h" kindref="compound">useractions.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="virtualdesktops_8h" kindref="compound">virtualdesktops.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="wayland_2output_8h" kindref="compound">wayland/output.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="plasmawindowmanagement_8h" kindref="compound">wayland/plasmawindowmanagement.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="surface_8h" kindref="compound">wayland/surface.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="wayland__server_8h" kindref="compound">wayland_server.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="workspace_8h" kindref="compound">workspace.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;KDecoration3/DecoratedWindow&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;KDecoration3/Decoration&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;KDesktopFile&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QDebug&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QDir&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QJSEngine&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QMouseEvent&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;QStyleHints&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespace_k_win" kindref="compound">KWin</ref></highlight></codeline>
<codeline lineno="55"><highlight class="normal">{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal">QHash&lt;QString,<sp/>std::weak_ptr&lt;Decoration::DecorationPalette&gt;&gt;<sp/><ref refid="class_k_win_1_1_window_1a9fda98051b25624be54619573b64ffb4" kindref="member">Window::s_palettes</ref>;</highlight></codeline>
<codeline lineno="58"><highlight class="normal">std::shared_ptr&lt;Decoration::DecorationPalette&gt;<sp/><ref refid="class_k_win_1_1_window_1aed6539e49519ddd40f9c45665ae9cf58" kindref="member">Window::s_defaultPalette</ref>;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60" refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window::Window</ref>()</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_k_win_1_1_window_1aa8d74436db9dba2de3f297c459c62ca4" kindref="member">ready_for_painting</ref>(false)</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>,<sp/><ref refid="class_k_win_1_1_window_1a5371907d36cfc708d29493db67dc55b8" kindref="member">m_internalId</ref>(QUuid::createUuid())</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>,<sp/><ref refid="class_k_win_1_1_window_1ae54e6b7244395a9a4a9c7bb9ab0cf939" kindref="member">m_clientMachine</ref>(new<sp/><ref refid="class_k_win_1_1_client_machine" kindref="compound">ClientMachine</ref>(this))</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>,<sp/><ref refid="class_k_win_1_1_window_1a3d1d1e31100e981a40ed4d01467c9b01" kindref="member">m_skipCloseAnimation</ref>(false)</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>,<sp/><ref refid="class_k_win_1_1_window_1a9e81ea2b202e22419de25715d6d9d995" kindref="member">m_colorScheme</ref>(QStringLiteral(</highlight><highlight class="stringliteral">&quot;kdeglobals&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="66"><highlight class="normal">{</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>QJSEngine::setObjectOwnership(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>QJSEngine::CppOwnership);</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1aaa748e21e5fd562e204c3ce1e7410e4c" kindref="member">Window::bufferGeometryChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a0fcac52cd277eab8f40d1c5172a4b5b4" kindref="member">Window::inputTransformationChanged</ref>);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a010201206994e942640621e136fb90c4" kindref="member">Window::interactiveMoveResizeStarted</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a9356b0ac19763187d49f27e195ad4c5e" kindref="member">Window::moveResizedChanged</ref>);</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a6e7ab55b455103df20931b548729169a" kindref="member">Window::interactiveMoveResizeFinished</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a9356b0ac19763187d49f27e195ad4c5e" kindref="member">Window::moveResizedChanged</ref>);</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a9507fbaee33b1a8e28fbd6bf78779891" kindref="member">Window::paletteChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a2aa1fc2ef7187d8f8ed3f3bb60e1df9b" kindref="member">Window::triggerDecorationRepaint</ref>);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>user<sp/>manually<sp/>moved<sp/>the<sp/>window,<sp/>don&apos;t<sp/>restore<sp/>it<sp/>after<sp/>the<sp/>keyboard<sp/>closes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a6e7ab55b455103df20931b548729169a" kindref="member">Window::interactiveMoveResizeFinished</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref><sp/>=<sp/>QRectF();</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a08cad7d21d3195ccc0829c2c0f1f9c95" kindref="member">Window::maximizedChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref><sp/>=<sp/>QRectF();</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a469e95b9f51c551643a0e4bdf46e0203" kindref="member">Window::fullScreenChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref><sp/>=<sp/>QRectF();</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>replace<sp/>on-screen-display<sp/>on<sp/>size<sp/>changes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ac20682dc9062e09db6ed01b2cf7c6097" kindref="member">Window::frameGeometryChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;old)<sp/>{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3081e1e30178d43b6e73b42e383191bd" kindref="member">isOnScreenDisplay</ref>()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a0cd1f979061accdf5d743f3089360132" kindref="member">frameGeometry</ref>().isEmpty()<sp/>&amp;&amp;<sp/>old.size()<sp/>!=<sp/><ref refid="class_k_win_1_1_window_1a0cd1f979061accdf5d743f3089360132" kindref="member">frameGeometry</ref>().<ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>()<sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1a1aae947c69f1f83740db61c11d5524c2" kindref="member">isPlaceable</ref>())<sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a895516d998d121ec543bce0b65cd5ddf" kindref="member">placement</ref>()-&gt;<ref refid="class_k_win_1_1_placement_1a88d130d08a017b3d1dae128f8a1e359b" kindref="member">place</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a8a4463af95e4961719929955d4eabd0d" kindref="member">PlacementArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;activeOutput()));</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;applicationMenu(),<sp/>&amp;<ref refid="class_k_win_1_1_application_menu_1a72c444ca8ac388c6527811af8da5bd9b" kindref="member">ApplicationMenu::applicationMenuEnabledChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]<sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a71e3866d32586ef81815db5d089295f9" kindref="member">hasApplicationMenuChanged</ref>(<ref refid="class_k_win_1_1_window_1ae023877c81ca2684d535e7d7f89e4ce7" kindref="member">hasApplicationMenu</ref>());</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(&amp;<ref refid="class_k_win_1_1_window_1a082147340c5e5bad774726702cc59d69" kindref="member">m_offscreenFramecallbackTimer</ref>,<sp/>&amp;QTimer::timeout,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1af9b82e7eb525e57206489164ae67df78" kindref="member">Window::maybeSendFrameCallback</ref>);</highlight></codeline>
<codeline lineno="98"><highlight class="normal">}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100" refid="class_k_win_1_1_window_1adb30fbdfb7094449cb1f97e177a22432" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_window_1adb30fbdfb7094449cb1f97e177a22432" kindref="member">Window::~Window</ref>()</highlight></codeline>
<codeline lineno="101"><highlight class="normal">{</highlight></codeline>
<codeline lineno="102"><highlight class="normal">}</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104" refid="class_k_win_1_1_window_1ad9117ba1a2dcfae844dfb15f3beb5ae3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ad9117ba1a2dcfae844dfb15f3beb5ae3" kindref="member">Window::ref</ref>()</highlight></codeline>
<codeline lineno="105"><highlight class="normal">{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/>++<ref refid="class_k_win_1_1_window_1afdc3cc5183afb301b1beb45eef23b018" kindref="member">m_refCount</ref>;</highlight></codeline>
<codeline lineno="107"><highlight class="normal">}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109" refid="class_k_win_1_1_window_1a212fbc7e400c510205ba9fd3611968d5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a212fbc7e400c510205ba9fd3611968d5" kindref="member">Window::unref</ref>()</highlight></codeline>
<codeline lineno="110"><highlight class="normal">{</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT(<ref refid="class_k_win_1_1_window_1afdc3cc5183afb301b1beb45eef23b018" kindref="member">m_refCount</ref><sp/>&gt;<sp/>0);</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>--<ref refid="class_k_win_1_1_window_1afdc3cc5183afb301b1beb45eef23b018" kindref="member">m_refCount</ref>;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1afdc3cc5183afb301b1beb45eef23b018" kindref="member">m_refCount</ref>)<sp/>{</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a8f95d5441e07c467333307a930979994" kindref="member">m_deleted</ref>)<sp/>{</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1ad4e5231fe7b66b90cf49eeaf9046b408" kindref="member">removeDeleted</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="120"><highlight class="normal">}</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122" refid="namespace_k_win_1a20b010dc69290014265d53445321d6a6" refkind="member"><highlight class="normal">QDebug<sp/><ref refid="namespace_k_win_1a40cfe09792c9b4d026b82c833b6497fc" kindref="member">operator&lt;&lt;</ref>(QDebug<sp/>debug,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window" kindref="compound">Window</ref><sp/>*window)</highlight></codeline>
<codeline lineno="123"><highlight class="normal">{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>QDebugStateSaver<sp/>saver(debug);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>debug.nospace();</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(window)<sp/>{</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug<sp/>&lt;&lt;<sp/>window-&gt;metaObject()-&gt;className()<sp/>&lt;&lt;<sp/></highlight><highlight class="charliteral">&apos;(&apos;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keyword">const<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(window);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_surface_interface" kindref="compound">SurfaceInterface</ref><sp/>*surface<sp/>=<sp/>window-&gt;<ref refid="class_k_win_1_1_window_1a379c25dec85d7b0aee3b79676327b9b6" kindref="member">surface</ref>())<sp/>{</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>surface=&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>surface;</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(window-&gt;<ref refid="class_k_win_1_1_window_1a5f50be966c1885fe61b8a54e2dd584d8" kindref="member">isClient</ref>())<sp/>{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!window-&gt;<ref refid="class_k_win_1_1_window_1abc2ff83881725b11c8d72178012a2a88" kindref="member">isPopupWindow</ref>())<sp/>{</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>caption=&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>window-&gt;<ref refid="class_k_win_1_1_window_1a9a91fff09e5795dce9c1732082ff09b4" kindref="member">caption</ref>();</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(window-&gt;<ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>())<sp/>{</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>transientFor=&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>window-&gt;<ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>();</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(debug.verbosity()<sp/>&gt;<sp/>2)<sp/>{</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>frameGeometry=&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>window-&gt;<ref refid="class_k_win_1_1_window_1a0cd1f979061accdf5d743f3089360132" kindref="member">frameGeometry</ref>();</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>resourceName=&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>window-&gt;<ref refid="class_k_win_1_1_window_1a927f981105a03011681b42d6644834f0" kindref="member">resourceName</ref>();</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>resourceClass=&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>window-&gt;<ref refid="class_k_win_1_1_window_1a825429c1c8c6f5b6721752eac7da370d" kindref="member">resourceClass</ref>();</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug<sp/>&lt;&lt;<sp/></highlight><highlight class="charliteral">&apos;)&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>debug<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Window(0x0)&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>debug;</highlight></codeline>
<codeline lineno="149"><highlight class="normal">}</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151" refid="class_k_win_1_1_window_1ab2223644425271a233b5deb303fb8e59" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1ab2223644425271a233b5deb303fb8e59" kindref="member">Window::visibleGeometry</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="152"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_item" kindref="compound">WindowItem</ref><sp/>*item<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a0094149b3a29d3b0240918e695fdb3fa" kindref="member">windowItem</ref>())<sp/>{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>item-&gt;mapToScene(item-&gt;boundingRect());</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QRectF();</highlight></codeline>
<codeline lineno="157"><highlight class="normal">}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="163" refid="class_k_win_1_1_window_1a65fa8eaf5936ace6355431d739438a3e" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_k_win_1_1_window_1a65fa8eaf5936ace6355431d739438a3e" kindref="member">Window::wmClientMachine</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>use_localhost)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="164"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1ae54e6b7244395a9a4a9c7bb9ab0cf939" kindref="member">m_clientMachine</ref>)<sp/>{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>this<sp/>should<sp/>never<sp/>happen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QString();</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(use_localhost<sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1ae54e6b7244395a9a4a9c7bb9ab0cf939" kindref="member">m_clientMachine</ref>-&gt;isLocal())<sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>special<sp/>name<sp/>for<sp/>the<sp/>local<sp/>machine<sp/>(localhost)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_client_machine_1ab1ffb3f686fb9c7d2b4f170914217dda" kindref="member">ClientMachine::localhost</ref>();</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae54e6b7244395a9a4a9c7bb9ab0cf939" kindref="member">m_clientMachine</ref>-&gt;hostName();</highlight></codeline>
<codeline lineno="174"><highlight class="normal">}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176" refid="class_k_win_1_1_window_1a38800a8310bd13d63a6a3e18a50028d4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a38800a8310bd13d63a6a3e18a50028d4" kindref="member">Window::setResourceClass</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;name,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;className)</highlight></codeline>
<codeline lineno="177"><highlight class="normal">{</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ab2c297c768db712d6bf9961ac1fabb04" kindref="member">resource_name</ref><sp/>=<sp/>name;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9425218f438709c0bf0dac60fb7e2786" kindref="member">resource_class</ref><sp/>=<sp/>className;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1ada6d2b84af63fc37f49fd43da8d8592d" kindref="member">windowClassChanged</ref>();</highlight></codeline>
<codeline lineno="181"><highlight class="normal">}</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183" refid="class_k_win_1_1_window_1a41cf2858ec31edde92b788747ddf1177" refkind="member"><highlight class="normal">qreal<sp/><ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">Window::opacity</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="184"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1abb36a6011f877745c67c573119c6a5c6" kindref="member">m_opacity</ref>;</highlight></codeline>
<codeline lineno="186"><highlight class="normal">}</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188" refid="class_k_win_1_1_window_1a294f762b7e595263d56cb155330f19fd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a294f762b7e595263d56cb155330f19fd" kindref="member">Window::setOpacity</ref>(qreal<sp/><ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">opacity</ref>)</highlight></codeline>
<codeline lineno="189"><highlight class="normal">{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">opacity</ref><sp/>=<sp/>std::clamp(<ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">opacity</ref>,<sp/>0.0,<sp/>1.0);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1abb36a6011f877745c67c573119c6a5c6" kindref="member">m_opacity</ref><sp/>==<sp/><ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">opacity</ref>)<sp/>{</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>qreal<sp/>oldOpacity<sp/>=<sp/><ref refid="class_k_win_1_1_window_1abb36a6011f877745c67c573119c6a5c6" kindref="member">m_opacity</ref>;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1abb36a6011f877745c67c573119c6a5c6" kindref="member">m_opacity</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">opacity</ref>;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a5c56ad8046349bf9a87a26d73fd17c37" kindref="member">opacityChanged</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>oldOpacity);</highlight></codeline>
<codeline lineno="197"><highlight class="normal">}</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199" refid="class_k_win_1_1_window_1a39805264749f963ab793849f002df2cd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a39805264749f963ab793849f002df2cd" kindref="member">Window::setupCompositing</ref>()</highlight></codeline>
<codeline lineno="200"><highlight class="normal">{</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_workspace_scene" kindref="compound">WorkspaceScene</ref><sp/>*scene<sp/>=<sp/><ref refid="class_k_win_1_1_compositor_1aec1859708602d6270fb960c919a23cd7" kindref="member">Compositor::self</ref>()-&gt;<ref refid="class_k_win_1_1_compositor_1a42a38d690d77c464869c520189c99904" kindref="member">scene</ref>();</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!scene)<sp/>{</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a3794a446f3a4460ef3417eefc3ef0ba6" kindref="member">createItem</ref>(scene-&gt;<ref refid="class_k_win_1_1_workspace_scene_1a667f69f314ea925c2b4d9b7735d22e03" kindref="member">containerItem</ref>());</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1a0094149b3a29d3b0240918e695fdb3fa" kindref="member">windowItem</ref>(),<sp/>&amp;<ref refid="class_k_win_1_1_item_1a2424c89c8f2411b64cc7c97e25e905b5" kindref="member">WindowItem::positionChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ad79ce26eab7a39f0c38b62cdf22f4698" kindref="member">Window::visibleGeometryChanged</ref>);</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1a0094149b3a29d3b0240918e695fdb3fa" kindref="member">windowItem</ref>(),<sp/>&amp;<ref refid="class_k_win_1_1_item_1afe542ac410794a496433aa91921fcc51" kindref="member">WindowItem::boundingRectChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ad79ce26eab7a39f0c38b62cdf22f4698" kindref="member">Window::visibleGeometryChanged</ref>);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="212"><highlight class="normal">}</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214" refid="class_k_win_1_1_window_1a7eae1931b3b428d2d59ff49ab95d010c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7eae1931b3b428d2d59ff49ab95d010c" kindref="member">Window::finishCompositing</ref>()</highlight></codeline>
<codeline lineno="215"><highlight class="normal">{</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref>.reset();</highlight></codeline>
<codeline lineno="217"><highlight class="normal">}</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219" refid="class_k_win_1_1_window_1a595f38fca83c2083b11039c4679983c5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a595f38fca83c2083b11039c4679983c5" kindref="member">Window::setReadyForPainting</ref>()</highlight></codeline>
<codeline lineno="220"><highlight class="normal">{</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aa8d74436db9dba2de3f297c459c62ca4" kindref="member">ready_for_painting</ref>)<sp/>{</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aa8d74436db9dba2de3f297c459c62ca4" kindref="member">ready_for_painting</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a4890a0258935c363bad64f8681c3af11" kindref="member">readyForPaintingChanged</ref>();</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="225"><highlight class="normal">}</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227" refid="class_k_win_1_1_window_1a61b3745b4ffca0d122acc9fc0c8e0c4f" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">Window::output</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="228"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a87aebec66b33eebf680520b5eb66fbd4" kindref="member">m_output</ref>;</highlight></codeline>
<codeline lineno="230"><highlight class="normal">}</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232" refid="class_k_win_1_1_window_1a8018decfe708255ffd09b957dc2d14b8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a8018decfe708255ffd09b957dc2d14b8" kindref="member">Window::setOutput</ref>(<ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>)</highlight></codeline>
<codeline lineno="233"><highlight class="normal">{</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a87aebec66b33eebf680520b5eb66fbd4" kindref="member">m_output</ref><sp/>!=<sp/><ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>)<sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a87aebec66b33eebf680520b5eb66fbd4" kindref="member">m_output</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a7dbccaac47d2333da22ab4acb4897381" kindref="member">outputChanged</ref>();</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="238"><highlight class="normal">}</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240" refid="class_k_win_1_1_window_1a7511675b840c00baeccfaa211fa39ff6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7511675b840c00baeccfaa211fa39ff6" kindref="member">Window::isOnActiveOutput</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="241"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0a700ea4c908f6907d172e7754c38db7" kindref="member">isOnOutput</ref>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;activeOutput());</highlight></codeline>
<codeline lineno="243"><highlight class="normal">}</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245" refid="class_k_win_1_1_window_1a0a700ea4c908f6907d172e7754c38db7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0a700ea4c908f6907d172e7754c38db7" kindref="member">Window::isOnOutput</ref>(<ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="246"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>-&gt;geometry().intersects(<ref refid="class_k_win_1_1_window_1a0cd1f979061accdf5d743f3089360132" kindref="member">frameGeometry</ref>().toRect());</highlight></codeline>
<codeline lineno="248"><highlight class="normal">}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250" refid="class_k_win_1_1_window_1a5fc203455636e9bd840465b05c8905e5" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_shadow" kindref="compound">Shadow</ref><sp/>*<ref refid="class_k_win_1_1_window_1a5fc203455636e9bd840465b05c8905e5" kindref="member">Window::shadow</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="251"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a00a0d46c1f63c72d6905cfcea6cb7e90" kindref="member">m_shadow</ref>.get();</highlight></codeline>
<codeline lineno="253"><highlight class="normal">}</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255" refid="class_k_win_1_1_window_1a5d25daf1a543308b42b9c90d98d7f213" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a5d25daf1a543308b42b9c90d98d7f213" kindref="member">Window::updateShadow</ref>()</highlight></codeline>
<codeline lineno="256"><highlight class="normal">{</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a00a0d46c1f63c72d6905cfcea6cb7e90" kindref="member">m_shadow</ref>)<sp/>{</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a00a0d46c1f63c72d6905cfcea6cb7e90" kindref="member">m_shadow</ref>-&gt;updateShadow())<sp/>{</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a00a0d46c1f63c72d6905cfcea6cb7e90" kindref="member">m_shadow</ref>.reset();</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1aced9f90cb668b5491267d3bc0ab9a530" kindref="member">shadowChanged</ref>();</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a00a0d46c1f63c72d6905cfcea6cb7e90" kindref="member">m_shadow</ref><sp/>=<sp/><ref refid="class_k_win_1_1_shadow_1a3ed5d25255ef7024a47cdf936ce55d54" kindref="member">Shadow::createShadow</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a00a0d46c1f63c72d6905cfcea6cb7e90" kindref="member">m_shadow</ref>)<sp/>{</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1aced9f90cb668b5491267d3bc0ab9a530" kindref="member">shadowChanged</ref>();</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="268"><highlight class="normal">}</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270" refid="class_k_win_1_1_window_1a680b520607df91ff2ee91be0c33c8736" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_effect_window" kindref="compound">EffectWindow</ref><sp/>*<ref refid="class_k_win_1_1_window_1a680b520607df91ff2ee91be0c33c8736" kindref="member">Window::effectWindow</ref>()</highlight></codeline>
<codeline lineno="271"><highlight class="normal">{</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref><sp/>?<sp/><ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref>-&gt;effectWindow()<sp/>:<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="273"><highlight class="normal">}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275" refid="class_k_win_1_1_window_1a54880942e05b529132409817d74a84c3" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_effect_window" kindref="compound">EffectWindow</ref><sp/>*<ref refid="class_k_win_1_1_window_1a680b520607df91ff2ee91be0c33c8736" kindref="member">Window::effectWindow</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="276"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref><sp/>?<sp/><ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref>-&gt;effectWindow()<sp/>:<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="278"><highlight class="normal">}</highlight></codeline>
<codeline lineno="279"><highlight class="normal"></highlight></codeline>
<codeline lineno="280" refid="class_k_win_1_1_window_1aa3e58eb3c6ecd544440b973f68921322" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_surface_item" kindref="compound">SurfaceItem</ref><sp/>*<ref refid="class_k_win_1_1_window_1aa3e58eb3c6ecd544440b973f68921322" kindref="member">Window::surfaceItem</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="281"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref>)<sp/>{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref>-&gt;surfaceItem();</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="286"><highlight class="normal">}</highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288" refid="class_k_win_1_1_window_1af71103e065455ef561cc28fdfb23062b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af71103e065455ef561cc28fdfb23062b" kindref="member">Window::wantsShadowToBeRendered</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="289"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>!<ref refid="class_k_win_1_1_window_1af68e2698e10f68963734220af029279f" kindref="member">isFullScreen</ref>()<sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1aacb57e092c7155d3745e3964c7745ba3" kindref="member">maximizeMode</ref>()<sp/>!=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9abc602b186700b8c6fb525fe2c828e910" kindref="member">MaximizeFull</ref>;</highlight></codeline>
<codeline lineno="291"><highlight class="normal">}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293" refid="class_k_win_1_1_window_1a5f50be966c1885fe61b8a54e2dd584d8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a5f50be966c1885fe61b8a54e2dd584d8" kindref="member">Window::isClient</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="294"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="296"><highlight class="normal">}</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298" refid="class_k_win_1_1_window_1a96111c26765b1c276dc41df14aa1a5af" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a96111c26765b1c276dc41df14aa1a5af" kindref="member">Window::isUnmanaged</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="299"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="301"><highlight class="normal">}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303" refid="class_k_win_1_1_window_1af78348da5a0ad82e99e06f1ca9e64ab4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af78348da5a0ad82e99e06f1ca9e64ab4" kindref="member">Window::elevate</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af78348da5a0ad82e99e06f1ca9e64ab4" kindref="member">elevate</ref>)</highlight></codeline>
<codeline lineno="304"><highlight class="normal">{</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref>)<sp/>{</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1af78348da5a0ad82e99e06f1ca9e64ab4" kindref="member">elevate</ref>)<sp/>{</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref>-&gt;elevate();</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref>-&gt;deelevate();</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="312"><highlight class="normal">}</highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="314" refid="class_k_win_1_1_window_1ac21f9e46d7fcddc2b1196ccc928bb763" refkind="member"><highlight class="normal">pid_t<sp/><ref refid="class_k_win_1_1_window_1a085bf52e9cddc60b0b3d4a4550a60dfd" kindref="member">Window::pid</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="315"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="317"><highlight class="normal">}</highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight></codeline>
<codeline lineno="319" refid="class_k_win_1_1_window_1af690c3506cbea89838a3561d78fc028f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a435b14844e4ed3e2ad1a2b95b7a75b73" kindref="member">Window::skipsCloseAnimation</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="320"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3d1d1e31100e981a40ed4d01467c9b01" kindref="member">m_skipCloseAnimation</ref>;</highlight></codeline>
<codeline lineno="322"><highlight class="normal">}</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324" refid="class_k_win_1_1_window_1a67a344bd50e2d01ad45bf9ecc4ddd6e3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a67a344bd50e2d01ad45bf9ecc4ddd6e3" kindref="member">Window::setSkipCloseAnimation</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)</highlight></codeline>
<codeline lineno="325"><highlight class="normal">{</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(set<sp/>==<sp/><ref refid="class_k_win_1_1_window_1a3d1d1e31100e981a40ed4d01467c9b01" kindref="member">m_skipCloseAnimation</ref>)<sp/>{</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a3d1d1e31100e981a40ed4d01467c9b01" kindref="member">m_skipCloseAnimation</ref><sp/>=<sp/>set;</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a1cb22e123b2f9b94c562e6aa19d0557d" kindref="member">skipCloseAnimationChanged</ref>();</highlight></codeline>
<codeline lineno="331"><highlight class="normal">}</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333" refid="class_k_win_1_1_window_1a379c25dec85d7b0aee3b79676327b9b6" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_surface_interface" kindref="compound">SurfaceInterface</ref><sp/>*<ref refid="class_k_win_1_1_window_1a379c25dec85d7b0aee3b79676327b9b6" kindref="member">Window::surface</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="334"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7fb37fb07218feaab2454465fbed6864" kindref="member">m_surface</ref>;</highlight></codeline>
<codeline lineno="336"><highlight class="normal">}</highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight></codeline>
<codeline lineno="338" refid="class_k_win_1_1_window_1aa1fb45941f94961dd825e503ace0b7d9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aa1fb45941f94961dd825e503ace0b7d9" kindref="member">Window::setSurface</ref>(<ref refid="class_k_win_1_1_surface_interface" kindref="compound">SurfaceInterface</ref><sp/>*<ref refid="class_k_win_1_1_window_1a379c25dec85d7b0aee3b79676327b9b6" kindref="member">surface</ref>)</highlight></codeline>
<codeline lineno="339"><highlight class="normal">{</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a7fb37fb07218feaab2454465fbed6864" kindref="member">m_surface</ref><sp/>==<sp/><ref refid="class_k_win_1_1_window_1a379c25dec85d7b0aee3b79676327b9b6" kindref="member">surface</ref>)<sp/>{</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7fb37fb07218feaab2454465fbed6864" kindref="member">m_surface</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a379c25dec85d7b0aee3b79676327b9b6" kindref="member">surface</ref>;</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a5ab5cf58669820a49608cb46f3ea3e5b" kindref="member">surfaceChanged</ref>();</highlight></codeline>
<codeline lineno="345"><highlight class="normal">}</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347" refid="class_k_win_1_1_window_1af53fc33cb2e1aa0dd500376191484d1b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab6e14702ae2257cc27f72a8ad1e6f881" kindref="member">Window::stackingOrder</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="348"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7ab75d4f6088d9ee485731cc567f294e" kindref="member">m_stackingOrder</ref>;</highlight></codeline>
<codeline lineno="350"><highlight class="normal">}</highlight></codeline>
<codeline lineno="351"><highlight class="normal"></highlight></codeline>
<codeline lineno="352" refid="class_k_win_1_1_window_1aa4540f347a37695c94ad9264bccb108f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aa4540f347a37695c94ad9264bccb108f" kindref="member">Window::setStackingOrder</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>order)</highlight></codeline>
<codeline lineno="353"><highlight class="normal">{</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a7ab75d4f6088d9ee485731cc567f294e" kindref="member">m_stackingOrder</ref><sp/>!=<sp/>order)<sp/>{</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7ab75d4f6088d9ee485731cc567f294e" kindref="member">m_stackingOrder</ref><sp/>=<sp/>order;</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a0c8cc94fcc6cfdee73187c18b6208045" kindref="member">stackingOrderChanged</ref>();</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="358"><highlight class="normal">}</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360" refid="class_k_win_1_1_window_1a6fb0135b41d4cd0334e127adaa674a81" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_k_win_1_1_window_1af885f634335d8664537c240afe0fff3e" kindref="member">Window::windowRole</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="361"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QString();</highlight></codeline>
<codeline lineno="363"><highlight class="normal">}</highlight></codeline>
<codeline lineno="364"><highlight class="normal"></highlight></codeline>
<codeline lineno="365" refid="class_k_win_1_1_window_1af0d6ef568b401a7e593c0652c66b31b1" refkind="member"><highlight class="normal">QMatrix4x4<sp/><ref refid="class_k_win_1_1_window_1af0d6ef568b401a7e593c0652c66b31b1" kindref="member">Window::inputTransformation</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="366"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/>QMatrix4x4<sp/>m;</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/>m.translate(-<ref refid="class_k_win_1_1_window_1a1359c9bf73f8b28bdfe9d5aa19aea1ab" kindref="member">m_bufferGeometry</ref>.x(),<sp/>-<ref refid="class_k_win_1_1_window_1a1359c9bf73f8b28bdfe9d5aa19aea1ab" kindref="member">m_bufferGeometry</ref>.y());</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>m;</highlight></codeline>
<codeline lineno="370"><highlight class="normal">}</highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight></codeline>
<codeline lineno="372" refid="class_k_win_1_1_window_1aaed4b5db1f86e8e62e77a13197ed987f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aaed4b5db1f86e8e62e77a13197ed987f" kindref="member">Window::hitTest</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;point)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="373"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>())<sp/>{</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.inputRegion.contains(<ref refid="namespace_k_win_1ac2130505c2734e5f398d4ad54d7b7558" kindref="member">flooredPoint</ref>(<ref refid="class_k_win_1_1_window_1a9424a239d38ac1d23a06c2db0567d04d" kindref="member">mapToFrame</ref>(point))))<sp/>{</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a7fb37fb07218feaab2454465fbed6864" kindref="member">m_surface</ref><sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1a7fb37fb07218feaab2454465fbed6864" kindref="member">m_surface</ref>-&gt;isMapped())<sp/>{</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7fb37fb07218feaab2454465fbed6864" kindref="member">m_surface</ref>-&gt;inputSurfaceAt(<ref refid="class_k_win_1_1_window_1a9f3e6314899a3ace5b8df65704a41529" kindref="member">mapToLocal</ref>(point));</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>exclusiveContains(<ref refid="class_k_win_1_1_window_1a1359c9bf73f8b28bdfe9d5aa19aea1ab" kindref="member">m_bufferGeometry</ref>,<sp/>point);</highlight></codeline>
<codeline lineno="383"><highlight class="normal">}</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385" refid="class_k_win_1_1_window_1a9424a239d38ac1d23a06c2db0567d04d" refkind="member"><highlight class="normal">QPointF<sp/><ref refid="class_k_win_1_1_window_1a9424a239d38ac1d23a06c2db0567d04d" kindref="member">Window::mapToFrame</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;point)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="386"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>point<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a0cd1f979061accdf5d743f3089360132" kindref="member">frameGeometry</ref>().topLeft();</highlight></codeline>
<codeline lineno="388"><highlight class="normal">}</highlight></codeline>
<codeline lineno="389"><highlight class="normal"></highlight></codeline>
<codeline lineno="390" refid="class_k_win_1_1_window_1a9f3e6314899a3ace5b8df65704a41529" refkind="member"><highlight class="normal">QPointF<sp/><ref refid="class_k_win_1_1_window_1a9f3e6314899a3ace5b8df65704a41529" kindref="member">Window::mapToLocal</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;point)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="391"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>point<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a205c4e3d11f4c4cd184e767829e2afc0" kindref="member">bufferGeometry</ref>().topLeft();</highlight></codeline>
<codeline lineno="393"><highlight class="normal">}</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395" refid="class_k_win_1_1_window_1a7f753460e69ae5649245beb0dd1abd90" refkind="member"><highlight class="normal">QPointF<sp/><ref refid="class_k_win_1_1_window_1a7f753460e69ae5649245beb0dd1abd90" kindref="member">Window::mapFromLocal</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;point)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="396"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>point<sp/>+<sp/><ref refid="class_k_win_1_1_window_1a205c4e3d11f4c4cd184e767829e2afc0" kindref="member">bufferGeometry</ref>().topLeft();</highlight></codeline>
<codeline lineno="398"><highlight class="normal">}</highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight></codeline>
<codeline lineno="400" refid="class_k_win_1_1_window_1abb9526fedfc012f6ad629e79e126af91" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1abb9526fedfc012f6ad629e79e126af91" kindref="member">Window::isLocalhost</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="401"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1ae54e6b7244395a9a4a9c7bb9ab0cf939" kindref="member">m_clientMachine</ref>)<sp/>{</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae54e6b7244395a9a4a9c7bb9ab0cf939" kindref="member">m_clientMachine</ref>-&gt;isLocal();</highlight></codeline>
<codeline lineno="406"><highlight class="normal">}</highlight></codeline>
<codeline lineno="407"><highlight class="normal"></highlight></codeline>
<codeline lineno="408" refid="class_k_win_1_1_window_1af8a628049f3374489651d8db883febd2" refkind="member"><highlight class="normal">QMargins<sp/><ref refid="class_k_win_1_1_window_1af8a628049f3374489651d8db883febd2" kindref="member">Window::frameMargins</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="409"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QMargins(<ref refid="class_k_win_1_1_window_1a704f2db4a15f2ca4e6ae0b163e73c708" kindref="member">borderLeft</ref>(),<sp/><ref refid="class_k_win_1_1_window_1a079dfba93240f19cadab52f478e48e84" kindref="member">borderTop</ref>(),<sp/><ref refid="class_k_win_1_1_window_1a3309d429b01d3670e9fcf4f54917ce46" kindref="member">borderRight</ref>(),<sp/><ref refid="class_k_win_1_1_window_1a7b47bcdf2ffd2ba3113725d2ebfaf822" kindref="member">borderBottom</ref>());</highlight></codeline>
<codeline lineno="411"><highlight class="normal">}</highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight></codeline>
<codeline lineno="413" refid="class_k_win_1_1_window_1af6b077eadf47fd68373d43f94eef23ad" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af6b077eadf47fd68373d43f94eef23ad" kindref="member">Window::belongToSameApplication</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*c1,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*c2,<sp/>SameApplicationChecks<sp/>checks)</highlight></codeline>
<codeline lineno="414"><highlight class="normal">{</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>c1-&gt;<ref refid="class_k_win_1_1_window_1a81a6373276b07edb20b368f23754b287" kindref="member">belongsToSameApplication</ref>(c2,<sp/>checks);</highlight></codeline>
<codeline lineno="416"><highlight class="normal">}</highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418" refid="class_k_win_1_1_window_1a24616d29b6a97cb4b9146cd8dac3f5f8" refkind="member"><highlight class="normal">xcb_timestamp_t<sp/><ref refid="class_k_win_1_1_window_1a24616d29b6a97cb4b9146cd8dac3f5f8" kindref="member">Window::userTime</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="419"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>XCB_TIME_CURRENT_TIME;</highlight></codeline>
<codeline lineno="421"><highlight class="normal">}</highlight></codeline>
<codeline lineno="422"><highlight class="normal"></highlight></codeline>
<codeline lineno="423" refid="class_k_win_1_1_window_1ae740a221f99373e76b5ed57a6edfb5a8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae740a221f99373e76b5ed57a6edfb5a8" kindref="member">Window::setSkipSwitcher</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)</highlight></codeline>
<codeline lineno="424"><highlight class="normal">{</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/>set<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1a5eb4eef09a5d7da72b26d7a62e74b8ce" kindref="member">checkSkipSwitcher</ref>(set);</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(set<sp/>==<sp/><ref refid="class_k_win_1_1_window_1a09ff41ece0cac78c632f0a3218c2602d" kindref="member">skipSwitcher</ref>())<sp/>{</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8329114171869e9d8f47985eb2ce5a0b" kindref="member">m_skipSwitcher</ref><sp/>=<sp/>set;</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a81def43f2990e5a40812c0e076c04565" kindref="member">doSetSkipSwitcher</ref>();</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">updateWindowRules</ref>(<ref refid="class_k_win_1_1_rules_1af260e8f34c4f8e04cc312fe34c135501afe598d667d904cf382db4cea1e0bf2b4" kindref="member">Rules::SkipSwitcher</ref>);</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a097084f43aa41eaa4b55c174712ed556" kindref="member">skipSwitcherChanged</ref>();</highlight></codeline>
<codeline lineno="433"><highlight class="normal">}</highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435" refid="class_k_win_1_1_window_1a9511f02ec7549d4520c56cc8e71341ab" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a9511f02ec7549d4520c56cc8e71341ab" kindref="member">Window::setSkipPager</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>b)</highlight></codeline>
<codeline lineno="436"><highlight class="normal">{</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/>b<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1a60b92d405edd00706ba3489d0bc76d6b" kindref="member">checkSkipPager</ref>(b);</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b<sp/>==<sp/><ref refid="class_k_win_1_1_window_1acab70f6f5c4c1fb524f1616f9cb13e03" kindref="member">skipPager</ref>())<sp/>{</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac4054bc17a49a5ec8b5705ed929a3eb3" kindref="member">m_skipPager</ref><sp/>=<sp/>b;</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae149e3bb83a2a8dd3b8873365ff9c92a" kindref="member">doSetSkipPager</ref>();</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">updateWindowRules</ref>(<ref refid="class_k_win_1_1_rules_1af260e8f34c4f8e04cc312fe34c135501a63b5b672e7e2bdeeafb169eac6e59ea0" kindref="member">Rules::SkipPager</ref>);</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a39a00387940d0f051deff0a6589c5c98" kindref="member">skipPagerChanged</ref>();</highlight></codeline>
<codeline lineno="445"><highlight class="normal">}</highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447" refid="class_k_win_1_1_window_1ae149e3bb83a2a8dd3b8873365ff9c92a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae149e3bb83a2a8dd3b8873365ff9c92a" kindref="member">Window::doSetSkipPager</ref>()</highlight></codeline>
<codeline lineno="448"><highlight class="normal">{</highlight></codeline>
<codeline lineno="449"><highlight class="normal">}</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight></codeline>
<codeline lineno="451" refid="class_k_win_1_1_window_1a02ce5273a16265b92513c1d6f5ca16ce" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a02ce5273a16265b92513c1d6f5ca16ce" kindref="member">Window::setSkipTaskbar</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>b)</highlight></codeline>
<codeline lineno="452"><highlight class="normal">{</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b<sp/>==<sp/><ref refid="class_k_win_1_1_window_1aff0dcb9257a7c18c075605858ef64ad6" kindref="member">skipTaskbar</ref>())<sp/>{</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a056f5f78bc6d3cb6d6cf48ab73fd9ce2" kindref="member">m_skipTaskbar</ref><sp/>=<sp/>b;</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a06f9cf76ca564c6f316aee843a737947" kindref="member">doSetSkipTaskbar</ref>();</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">updateWindowRules</ref>(<ref refid="class_k_win_1_1_rules_1af260e8f34c4f8e04cc312fe34c135501a3778b9a70daa9e6b547b2f621e891237" kindref="member">Rules::SkipTaskbar</ref>);</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a926d32fb86d967e63036b5b4afb0eb65" kindref="member">skipTaskbarChanged</ref>();</highlight></codeline>
<codeline lineno="460"><highlight class="normal">}</highlight></codeline>
<codeline lineno="461"><highlight class="normal"></highlight></codeline>
<codeline lineno="462" refid="class_k_win_1_1_window_1a42e28c55648d7fbd21d164b14d889dea" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a42e28c55648d7fbd21d164b14d889dea" kindref="member">Window::setOriginalSkipTaskbar</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>b)</highlight></codeline>
<codeline lineno="463"><highlight class="normal">{</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a0dcaab2dcb54c92ce99429a62f2bc3e5" kindref="member">m_originalSkipTaskbar</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1abb76689fda6080e8deefcfd9cf9e1d42" kindref="member">checkSkipTaskbar</ref>(b);</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a02ce5273a16265b92513c1d6f5ca16ce" kindref="member">setSkipTaskbar</ref>(<ref refid="class_k_win_1_1_window_1a0dcaab2dcb54c92ce99429a62f2bc3e5" kindref="member">m_originalSkipTaskbar</ref>);</highlight></codeline>
<codeline lineno="466"><highlight class="normal">}</highlight></codeline>
<codeline lineno="467"><highlight class="normal"></highlight></codeline>
<codeline lineno="468" refid="class_k_win_1_1_window_1a06f9cf76ca564c6f316aee843a737947" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a06f9cf76ca564c6f316aee843a737947" kindref="member">Window::doSetSkipTaskbar</ref>()</highlight></codeline>
<codeline lineno="469"><highlight class="normal">{</highlight></codeline>
<codeline lineno="470"><highlight class="normal">}</highlight></codeline>
<codeline lineno="471"><highlight class="normal"></highlight></codeline>
<codeline lineno="472" refid="class_k_win_1_1_window_1a81def43f2990e5a40812c0e076c04565" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a81def43f2990e5a40812c0e076c04565" kindref="member">Window::doSetSkipSwitcher</ref>()</highlight></codeline>
<codeline lineno="473"><highlight class="normal">{</highlight></codeline>
<codeline lineno="474"><highlight class="normal">}</highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="476" refid="class_k_win_1_1_window_1a8711a1631fd015356de884e9ced52c8d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a8711a1631fd015356de884e9ced52c8d" kindref="member">Window::setIcon</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QIcon<sp/>&amp;<ref refid="class_k_win_1_1_window_1a7b0ffef1838f708ffc5c83b5244712f4" kindref="member">icon</ref>)</highlight></codeline>
<codeline lineno="477"><highlight class="normal">{</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae6c87b2230a834ac55ec726fd3bc2573" kindref="member">m_icon</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a7b0ffef1838f708ffc5c83b5244712f4" kindref="member">icon</ref>;</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a1d74b16abee154db8a79c363051e9c67" kindref="member">iconChanged</ref>();</highlight></codeline>
<codeline lineno="480"><highlight class="normal">}</highlight></codeline>
<codeline lineno="481"><highlight class="normal"></highlight></codeline>
<codeline lineno="482" refid="class_k_win_1_1_window_1afc8d12b9a719a163f5f862a79e515465" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1afc8d12b9a719a163f5f862a79e515465" kindref="member">Window::setActive</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>act)</highlight></codeline>
<codeline lineno="483"><highlight class="normal">{</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>())<sp/>{</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a01d9ea2184e2db1093c64e503054e44c" kindref="member">m_active</ref><sp/>==<sp/>act)<sp/>{</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a01d9ea2184e2db1093c64e503054e44c" kindref="member">m_active</ref><sp/>=<sp/>act;</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ruledOpacity<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a01d9ea2184e2db1093c64e503054e44c" kindref="member">m_active</ref></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>?<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1ab828ef8f9dcb195912a9506039cf1787" kindref="member">checkOpacityActive</ref>(qRound(<ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">opacity</ref>()<sp/>*<sp/>100.0))</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1a423e84af96073b578ae8fa89c58281c2" kindref="member">checkOpacityInactive</ref>(qRound(<ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">opacity</ref>()<sp/>*<sp/>100.0));</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a294f762b7e595263d56cb155330f19fd" kindref="member">setOpacity</ref>(ruledOpacity<sp/>/<sp/>100.0);</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1aafa49cabb69a96aef0140b23c791b5f7" kindref="member">setActiveWindow</ref>(act<sp/>?<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="496"><highlight class="normal"></highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a01d9ea2184e2db1093c64e503054e44c" kindref="member">m_active</ref>)<sp/>{</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aae37a8d1ea78997edb9c87bb12e44401" kindref="member">cancelAutoRaise</ref>();</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="500"><highlight class="normal"></highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a01d9ea2184e2db1093c64e503054e44c" kindref="member">m_active</ref><sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1abfa6caaf2d5624a4cdd2b49d20ed228c" kindref="member">shadeMode</ref>()<sp/>==<sp/><ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585fa0efe8ab38e5c11c17415dffdf970bda6" kindref="member">ShadeActivated</ref>)<sp/>{</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">setShade</ref>(<ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585faf7edb6b11c2666b2ef0da40d95f12d39" kindref="member">ShadeNormal</ref>);</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="504"><highlight class="normal"></highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_stacking_updates_blocker" kindref="compound">StackingUpdatesBlocker</ref><sp/>blocker(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>());</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a566fd5756c0cce34ab4f6ac8ba8dd96b" kindref="member">updateLayer</ref>();<sp/></highlight><highlight class="comment">//<sp/>active<sp/>windows<sp/>may<sp/>get<sp/>different<sp/>layer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>mainwindows<sp/>=<sp/><ref refid="class_k_win_1_1_window_1afaea2549a9bde1616f1c0491a340ad64" kindref="member">mainWindows</ref>();</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it<sp/>=<sp/>mainwindows.constBegin();<sp/>it<sp/>!=<sp/>mainwindows.constEnd();<sp/>++it)<sp/>{</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((*it)-&gt;isFullScreen())<sp/>{<sp/></highlight><highlight class="comment">//<sp/>fullscreens<sp/>go<sp/>high<sp/>even<sp/>if<sp/>their<sp/>transient<sp/>is<sp/>active</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(*it)-&gt;updateLayer();</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="513"><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1e64a5d22f780662ce2b05c5fca3aac1" kindref="member">doSetActive</ref>();</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1acce3d6f41f268ae1cff8183476ee6646" kindref="member">activeChanged</ref>();</highlight></codeline>
<codeline lineno="516"><highlight class="normal">}</highlight></codeline>
<codeline lineno="517"><highlight class="normal"></highlight></codeline>
<codeline lineno="518" refid="class_k_win_1_1_window_1a1e64a5d22f780662ce2b05c5fca3aac1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1e64a5d22f780662ce2b05c5fca3aac1" kindref="member">Window::doSetActive</ref>()</highlight></codeline>
<codeline lineno="519"><highlight class="normal">{</highlight></codeline>
<codeline lineno="520"><highlight class="normal">}</highlight></codeline>
<codeline lineno="521"><highlight class="normal"></highlight></codeline>
<codeline lineno="522" refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">Window::isDeleted</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="523"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a8f95d5441e07c467333307a930979994" kindref="member">m_deleted</ref>;</highlight></codeline>
<codeline lineno="525"><highlight class="normal">}</highlight></codeline>
<codeline lineno="526"><highlight class="normal"></highlight></codeline>
<codeline lineno="527" refid="class_k_win_1_1_window_1a159ea1bd3bc5d490f99c9b158fbf8fcf" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a159ea1bd3bc5d490f99c9b158fbf8fcf" kindref="member">Window::markAsDeleted</ref>()</highlight></codeline>
<codeline lineno="528"><highlight class="normal">{</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT(!<ref refid="class_k_win_1_1_window_1a8f95d5441e07c467333307a930979994" kindref="member">m_deleted</ref>);</highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8f95d5441e07c467333307a930979994" kindref="member">m_deleted</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1adb31571a577b74274ceb2e93eca5173f" kindref="member">addDeleted</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="532"><highlight class="normal">}</highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="534" refid="class_k_win_1_1_window_1af8445d7e9f3a61fb1d02ef84220332ae" refkind="member"><highlight class="normal"><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7b" kindref="member">Layer</ref><sp/><ref refid="class_k_win_1_1_window_1adcb254bbc52101784ed82685e69c97b5" kindref="member">Window::layer</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="535"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a7cebc18154bbbc82550e807cb97548bc" kindref="member">m_layer</ref><sp/>==<sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba4b067423190552d3be96ede3c15d4ee6" kindref="member">UnknownLayer</ref>)<sp/>{</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const_cast&lt;</highlight><highlight class="normal"><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(</highlight><highlight class="keyword">this</highlight><highlight class="normal">)-&gt;<ref refid="class_k_win_1_1_window_1a7cebc18154bbbc82550e807cb97548bc" kindref="member">m_layer</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1a36891a5419ff76c362706ade1eaa8489" kindref="member">checkLayer</ref>(<ref refid="class_k_win_1_1_window_1a7fe5b288df23738ad6d2e9565c9f1ed8" kindref="member">belongsToLayer</ref>());</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7cebc18154bbbc82550e807cb97548bc" kindref="member">m_layer</ref>;</highlight></codeline>
<codeline lineno="540"><highlight class="normal">}</highlight></codeline>
<codeline lineno="541"><highlight class="normal"></highlight></codeline>
<codeline lineno="542" refid="class_k_win_1_1_window_1a566fd5756c0cce34ab4f6ac8ba8dd96b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a566fd5756c0cce34ab4f6ac8ba8dd96b" kindref="member">Window::updateLayer</ref>()</highlight></codeline>
<codeline lineno="543"><highlight class="normal">{</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>())<sp/>{</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1adcb254bbc52101784ed82685e69c97b5" kindref="member">layer</ref>()<sp/>==<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkLayer(<ref refid="class_k_win_1_1_window_1a7fe5b288df23738ad6d2e9565c9f1ed8" kindref="member">belongsToLayer</ref>()))<sp/>{</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_stacking_updates_blocker" kindref="compound">StackingUpdatesBlocker</ref><sp/>blocker(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>());</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7cebc18154bbbc82550e807cb97548bc" kindref="member">m_layer</ref><sp/>=<sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba4b067423190552d3be96ede3c15d4ee6" kindref="member">UnknownLayer</ref>;<sp/></highlight><highlight class="comment">//<sp/>invalidate,<sp/>will<sp/>be<sp/>updated<sp/>when<sp/>doing<sp/>restacking</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal">}</highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight></codeline>
<codeline lineno="554" refid="class_k_win_1_1_window_1a7fe5b288df23738ad6d2e9565c9f1ed8" refkind="member"><highlight class="normal"><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7b" kindref="member">Layer</ref><sp/><ref refid="class_k_win_1_1_window_1a7fe5b288df23738ad6d2e9565c9f1ed8" kindref="member">Window::belongsToLayer</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="555"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a66101776c8b365f52d966288d39dbeec" kindref="member">isOutline</ref>())<sp/>{</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7bae433b31a6f103cf33c75a7b84b999116" kindref="member">NormalLayer</ref>;</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a96111c26765b1c276dc41df14aa1a5af" kindref="member">isUnmanaged</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a25245fd93c82135a2f197a63a7c21154" kindref="member">isInternal</ref>())<sp/>{</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba7c552dbd329b41e8d3afbf1c9eca9e1f" kindref="member">OverlayLayer</ref>;</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ac53e1dd7ab4f57c3e323ac3d675b5cac" kindref="member">isLockScreen</ref>()<sp/>&amp;&amp;<sp/>!<ref refid="namespace_k_win_1a820772eeac71cfe988208d4b4e5764a6" kindref="member">waylandServer</ref>())<sp/>{</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba7c552dbd329b41e8d3afbf1c9eca9e1f" kindref="member">OverlayLayer</ref>;</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a901d9f764423ff5f2498705fa038d224" kindref="member">isInputMethod</ref>())<sp/>{</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba7c552dbd329b41e8d3afbf1c9eca9e1f" kindref="member">OverlayLayer</ref>;</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ab7937ac44130efc04c6bc24f65f71958" kindref="member">isLockScreenOverlay</ref>()<sp/>&amp;&amp;<sp/><ref refid="namespace_k_win_1a820772eeac71cfe988208d4b4e5764a6" kindref="member">waylandServer</ref>()<sp/>&amp;&amp;<sp/><ref refid="namespace_k_win_1a820772eeac71cfe988208d4b4e5764a6" kindref="member">waylandServer</ref>()-&gt;isScreenLocked())<sp/>{</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba7c552dbd329b41e8d3afbf1c9eca9e1f" kindref="member">OverlayLayer</ref>;</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ab56044e6eff0cd7e2a144756834c0751" kindref="member">isDesktop</ref>())<sp/>{</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba534c71a0f1f0b718c7ddbc29c315d8da" kindref="member">DesktopLayer</ref>;</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aa0179fdd1c6fee664b5401f61f35e493" kindref="member">isSplash</ref>())<sp/>{<sp/></highlight><highlight class="comment">//<sp/>no<sp/>damn<sp/>annoying<sp/>splashscreens</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7bae433b31a6f103cf33c75a7b84b999116" kindref="member">NormalLayer</ref>;<sp/></highlight><highlight class="comment">//<sp/>getting<sp/>in<sp/>the<sp/>way<sp/>of<sp/>everything<sp/>else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3b2b28edaa7b699d1407322fd11ec1cb" kindref="member">isDock</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a37f5a22919d5ee6f6404ce789c0a71f7" kindref="member">isAppletPopup</ref>())<sp/>{</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba6eb1a800d3a1172e076a9dc9bc5cde53" kindref="member">AboveLayer</ref>;</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1abc2ff83881725b11c8d72178012a2a88" kindref="member">isPopupWindow</ref>())<sp/>{</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7baa7dc2307180e77f6e7c64362a792fa24" kindref="member">PopupLayer</ref>;</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3081e1e30178d43b6e73b42e383191bd" kindref="member">isOnScreenDisplay</ref>())<sp/>{</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7baff77ee9c6dab7920ff1bb88117b1b07f" kindref="member">OnScreenDisplayLayer</ref>;</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a0ac6d06256d8b4ff4f83089f1a1c6151" kindref="member">isNotification</ref>())<sp/>{</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7bab6a7dfc1a6e18ae232be0ba8326b367f" kindref="member">NotificationLayer</ref>;</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a477e0788aeabac703b672cc772a70398" kindref="member">isCriticalNotification</ref>())<sp/>{</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba5da4e284e95e28b7ecd568e032926e77" kindref="member">CriticalNotificationLayer</ref>;</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a47ab87d36dc289a8f636f78b048a5b36" kindref="member">keepBelow</ref>())<sp/>{</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba22f3cfd26d795678908033781ffe1dbe" kindref="member">BelowLayer</ref>;</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a6af763334d4b8f6e15dab019710e6fde" kindref="member">isActiveFullScreen</ref>())<sp/>{</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba72d87368e7eece861abf32b4d9cd5db0" kindref="member">ActiveLayer</ref>;</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ade1d7dfe29d1f709eca65af12b076d2b" kindref="member">keepAbove</ref>())<sp/>{</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7ba6eb1a800d3a1172e076a9dc9bc5cde53" kindref="member">AboveLayer</ref>;</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="601"><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1ad43bbfea407edd7454680404fd8f3a7bae433b31a6f103cf33c75a7b84b999116" kindref="member">NormalLayer</ref>;</highlight></codeline>
<codeline lineno="603"><highlight class="normal">}</highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight></codeline>
<codeline lineno="605" refid="class_k_win_1_1_window_1a462b5bb23c7028fddfe3a3fc7a3ba038" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a462b5bb23c7028fddfe3a3fc7a3ba038" kindref="member">Window::belongsToDesktop</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="606"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="608"><highlight class="normal">}</highlight></codeline>
<codeline lineno="609"><highlight class="normal"></highlight></codeline>
<codeline lineno="610" refid="class_k_win_1_1_window_1afc24b8209fd3821a0b706667d7b97847" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1afc24b8209fd3821a0b706667d7b97847" kindref="member">Window::setKeepAbove</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>b)</highlight></codeline>
<codeline lineno="611"><highlight class="normal">{</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/>b<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1afb4eed2611003795f6733853ae8fe352" kindref="member">checkKeepAbove</ref>(b);</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkKeepBelow(</highlight><highlight class="keyword">false</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a10220e62a04571d571a0950fb657b2d2" kindref="member">setKeepBelow</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b<sp/>==<sp/><ref refid="class_k_win_1_1_window_1ade1d7dfe29d1f709eca65af12b076d2b" kindref="member">keepAbove</ref>())<sp/>{</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1ae892b14cdf6d7565154061a6c4910a" kindref="member">m_keepAbove</ref><sp/>=<sp/>b;</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8d860fefa08b9a1edaa6d78140e02570" kindref="member">doSetKeepAbove</ref>();</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a566fd5756c0cce34ab4f6ac8ba8dd96b" kindref="member">updateLayer</ref>();</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">updateWindowRules</ref>(<ref refid="class_k_win_1_1_rules_1af260e8f34c4f8e04cc312fe34c135501a152dd924fe063b475d694ebe7a05de34" kindref="member">Rules::Above</ref>);</highlight></codeline>
<codeline lineno="623"><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a794a364234bf2bbcf77034e6061bf7af" kindref="member">keepAboveChanged</ref>(<ref refid="class_k_win_1_1_window_1a1ae892b14cdf6d7565154061a6c4910a" kindref="member">m_keepAbove</ref>);</highlight></codeline>
<codeline lineno="625"><highlight class="normal">}</highlight></codeline>
<codeline lineno="626"><highlight class="normal"></highlight></codeline>
<codeline lineno="627" refid="class_k_win_1_1_window_1a8d860fefa08b9a1edaa6d78140e02570" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a8d860fefa08b9a1edaa6d78140e02570" kindref="member">Window::doSetKeepAbove</ref>()</highlight></codeline>
<codeline lineno="628"><highlight class="normal">{</highlight></codeline>
<codeline lineno="629"><highlight class="normal">}</highlight></codeline>
<codeline lineno="630"><highlight class="normal"></highlight></codeline>
<codeline lineno="631" refid="class_k_win_1_1_window_1a10220e62a04571d571a0950fb657b2d2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a10220e62a04571d571a0950fb657b2d2" kindref="member">Window::setKeepBelow</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>b)</highlight></codeline>
<codeline lineno="632"><highlight class="normal">{</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/>b<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1a568cadcfbf4f6533dfd6d51f50b847a7" kindref="member">checkKeepBelow</ref>(b);</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkKeepAbove(</highlight><highlight class="keyword">false</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afc24b8209fd3821a0b706667d7b97847" kindref="member">setKeepAbove</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b<sp/>==<sp/><ref refid="class_k_win_1_1_window_1a47ab87d36dc289a8f636f78b048a5b36" kindref="member">keepBelow</ref>())<sp/>{</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1addd6305ffba6280bc90767705a77caef" kindref="member">m_keepBelow</ref><sp/>=<sp/>b;</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ab1a3b85114d894d0615e94869e3ced47" kindref="member">doSetKeepBelow</ref>();</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a566fd5756c0cce34ab4f6ac8ba8dd96b" kindref="member">updateLayer</ref>();</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">updateWindowRules</ref>(<ref refid="class_k_win_1_1_rules_1af260e8f34c4f8e04cc312fe34c135501a20257c499bbd0c317cdd518730b40db3" kindref="member">Rules::Below</ref>);</highlight></codeline>
<codeline lineno="644"><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1aceedecf8e018f3aede6fa947ea214d9b" kindref="member">keepBelowChanged</ref>(<ref refid="class_k_win_1_1_window_1addd6305ffba6280bc90767705a77caef" kindref="member">m_keepBelow</ref>);</highlight></codeline>
<codeline lineno="646"><highlight class="normal">}</highlight></codeline>
<codeline lineno="647"><highlight class="normal"></highlight></codeline>
<codeline lineno="648" refid="class_k_win_1_1_window_1ab1a3b85114d894d0615e94869e3ced47" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab1a3b85114d894d0615e94869e3ced47" kindref="member">Window::doSetKeepBelow</ref>()</highlight></codeline>
<codeline lineno="649"><highlight class="normal">{</highlight></codeline>
<codeline lineno="650"><highlight class="normal">}</highlight></codeline>
<codeline lineno="651"><highlight class="normal"></highlight></codeline>
<codeline lineno="652" refid="class_k_win_1_1_window_1a8e53686fbdb1f4670854388a074a6119" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a8e53686fbdb1f4670854388a074a6119" kindref="member">Window::startAutoRaise</ref>()</highlight></codeline>
<codeline lineno="653"><highlight class="normal">{</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af9123bdb0820a24c5f49b78f3a9a5f2c" kindref="member">m_autoRaiseTimer</ref>;</highlight></codeline>
<codeline lineno="655"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af9123bdb0820a24c5f49b78f3a9a5f2c" kindref="member">m_autoRaiseTimer</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>QTimer(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1af9123bdb0820a24c5f49b78f3a9a5f2c" kindref="member">m_autoRaiseTimer</ref>,<sp/>&amp;QTimer::timeout,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a05a5e1439ce60beaa523291624da5588" kindref="member">Window::autoRaise</ref>);</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af9123bdb0820a24c5f49b78f3a9a5f2c" kindref="member">m_autoRaiseTimer</ref>-&gt;setSingleShot(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af9123bdb0820a24c5f49b78f3a9a5f2c" kindref="member">m_autoRaiseTimer</ref>-&gt;start(<ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;autoRaiseInterval());</highlight></codeline>
<codeline lineno="659"><highlight class="normal">}</highlight></codeline>
<codeline lineno="660"><highlight class="normal"></highlight></codeline>
<codeline lineno="661" refid="class_k_win_1_1_window_1aae37a8d1ea78997edb9c87bb12e44401" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aae37a8d1ea78997edb9c87bb12e44401" kindref="member">Window::cancelAutoRaise</ref>()</highlight></codeline>
<codeline lineno="662"><highlight class="normal">{</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af9123bdb0820a24c5f49b78f3a9a5f2c" kindref="member">m_autoRaiseTimer</ref>;</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af9123bdb0820a24c5f49b78f3a9a5f2c" kindref="member">m_autoRaiseTimer</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="665"><highlight class="normal">}</highlight></codeline>
<codeline lineno="666"><highlight class="normal"></highlight></codeline>
<codeline lineno="667" refid="class_k_win_1_1_window_1a05a5e1439ce60beaa523291624da5588" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a05a5e1439ce60beaa523291624da5588" kindref="member">Window::autoRaise</ref>()</highlight></codeline>
<codeline lineno="668"><highlight class="normal">{</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a7af0e246269d807f7f29527ba90613ee" kindref="member">raiseWindow</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aae37a8d1ea78997edb9c87bb12e44401" kindref="member">cancelAutoRaise</ref>();</highlight></codeline>
<codeline lineno="671"><highlight class="normal">}</highlight></codeline>
<codeline lineno="672"><highlight class="normal"></highlight></codeline>
<codeline lineno="673" refid="class_k_win_1_1_window_1a9886564c812681bf934e6e9d8242a01e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a9886564c812681bf934e6e9d8242a01e" kindref="member">Window::isMostRecentlyRaised</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="674"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>last<sp/>window<sp/>in<sp/>the<sp/>unconstrained<sp/>stacking<sp/>order<sp/>is<sp/>the<sp/>most<sp/>recently<sp/>raised<sp/>one.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a8d90b711536ca0e2c5d13b7ab98dd3ca" kindref="member">topWindowOnDesktop</ref>(VirtualDesktopManager::self()-&gt;currentDesktop(),<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">)<sp/>==<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="677"><highlight class="normal">}</highlight></codeline>
<codeline lineno="678"><highlight class="normal"></highlight></codeline>
<codeline lineno="679" refid="class_k_win_1_1_window_1ac69f930533a8e570ccc0e002dc077fcb" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ac69f930533a8e570ccc0e002dc077fcb" kindref="member">Window::wantsTabFocus</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="680"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a03433bdc26094171788332e5edfe66e3" kindref="member">isNormalWindow</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a7dd959da7a7a8d50a959684a92d55d65" kindref="member">isDialog</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a37f5a22919d5ee6f6404ce789c0a71f7" kindref="member">isAppletPopup</ref>())<sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1a7a9c5f2a5a2a21002dfc4632c67280bf" kindref="member">wantsInput</ref>();</highlight></codeline>
<codeline lineno="682"><highlight class="normal">}</highlight></codeline>
<codeline lineno="683"><highlight class="normal"></highlight></codeline>
<codeline lineno="684" refid="class_k_win_1_1_window_1a26bdcce1a00f8b7a1c1401b5bf132874" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a26bdcce1a00f8b7a1c1401b5bf132874" kindref="member">Window::isSpecialWindow</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="685"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab56044e6eff0cd7e2a144756834c0751" kindref="member">isDesktop</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a3b2b28edaa7b699d1407322fd11ec1cb" kindref="member">isDock</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1aa0179fdd1c6fee664b5401f61f35e493" kindref="member">isSplash</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a5fa248e56c9434f4d7002528b360a092" kindref="member">isToolbar</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a0ac6d06256d8b4ff4f83089f1a1c6151" kindref="member">isNotification</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a3081e1e30178d43b6e73b42e383191bd" kindref="member">isOnScreenDisplay</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a477e0788aeabac703b672cc772a70398" kindref="member">isCriticalNotification</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a37f5a22919d5ee6f6404ce789c0a71f7" kindref="member">isAppletPopup</ref>();</highlight></codeline>
<codeline lineno="688"><highlight class="normal">}</highlight></codeline>
<codeline lineno="689"><highlight class="normal"></highlight></codeline>
<codeline lineno="690" refid="class_k_win_1_1_window_1a2d638a5cbb6a91a00b5a5c14c9694888" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a2d638a5cbb6a91a00b5a5c14c9694888" kindref="member">Window::demandAttention</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)</highlight></codeline>
<codeline lineno="691"><highlight class="normal">{</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>())<sp/>{</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>set<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ad92bcaae3a24dae71b6311ea65100a19" kindref="member">m_demandsAttention</ref><sp/>==<sp/>set)<sp/>{</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ad92bcaae3a24dae71b6311ea65100a19" kindref="member">m_demandsAttention</ref><sp/>=<sp/>set;</highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ad144363e2fe2d6713183d99099928687" kindref="member">doSetDemandsAttention</ref>();</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a099d6af05ac9dc5aa21a9ce02fd3fd34" kindref="member">windowAttentionChanged</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>set);</highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a48804c4aff5e086bf1af7651009d59ec" kindref="member">demandsAttentionChanged</ref>();</highlight></codeline>
<codeline lineno="702"><highlight class="normal">}</highlight></codeline>
<codeline lineno="703"><highlight class="normal"></highlight></codeline>
<codeline lineno="704" refid="class_k_win_1_1_window_1ad144363e2fe2d6713183d99099928687" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ad144363e2fe2d6713183d99099928687" kindref="member">Window::doSetDemandsAttention</ref>()</highlight></codeline>
<codeline lineno="705"><highlight class="normal">{</highlight></codeline>
<codeline lineno="706"><highlight class="normal">}</highlight></codeline>
<codeline lineno="707"><highlight class="normal"></highlight></codeline>
<codeline lineno="708" refid="class_k_win_1_1_window_1a017d0afde06ff1fac03f4c4ef7cfb6d9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a017d0afde06ff1fac03f4c4ef7cfb6d9" kindref="member">Window::setDesktops</ref>(QList&lt;VirtualDesktop<sp/>*&gt;<sp/><ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>)</highlight></codeline>
<codeline lineno="709"><highlight class="normal">{</highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1a9af0e2334ddf5f59311c60084407aa7f" kindref="member">checkDesktops</ref>(<ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>);</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref><sp/>==<sp/><ref refid="class_k_win_1_1_window_1a11f83e606efc5d90143b2d396e39e3ec" kindref="member">m_desktops</ref>)<sp/>{</highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="714"><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a11f83e606efc5d90143b2d396e39e3ec" kindref="member">m_desktops</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>;</highlight></codeline>
<codeline lineno="716"><highlight class="normal"></highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a566b2f1b031cd7f536104017d3e157de" kindref="member">windowManagementInterface</ref>())<sp/>{</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a11f83e606efc5d90143b2d396e39e3ec" kindref="member">m_desktops</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a566b2f1b031cd7f536104017d3e157de" kindref="member">windowManagementInterface</ref>()-&gt;<ref refid="class_k_win_1_1_plasma_window_interface_1ae5d5fa02ba5f79f45e943e4b537783c7" kindref="member">setOnAllDesktops</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a566b2f1b031cd7f536104017d3e157de" kindref="member">windowManagementInterface</ref>()-&gt;<ref refid="class_k_win_1_1_plasma_window_interface_1ae5d5fa02ba5f79f45e943e4b537783c7" kindref="member">setOnAllDesktops</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>currentDesktops<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a566b2f1b031cd7f536104017d3e157de" kindref="member">windowManagementInterface</ref>()-&gt;<ref refid="class_k_win_1_1_plasma_window_interface_1a8b827f38e17821c6662599456135798c" kindref="member">plasmaVirtualDesktops</ref>();</highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>desktop<sp/>:<sp/>std::as_const(<ref refid="class_k_win_1_1_window_1a11f83e606efc5d90143b2d396e39e3ec" kindref="member">m_desktops</ref>))<sp/>{</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!currentDesktops.contains(desktop-&gt;id()))<sp/>{</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a566b2f1b031cd7f536104017d3e157de" kindref="member">windowManagementInterface</ref>()-&gt;<ref refid="class_k_win_1_1_plasma_window_interface_1a99b159687b69c4de522778edfb65eb86" kindref="member">addPlasmaVirtualDesktop</ref>(desktop-&gt;id());</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>currentDesktops.removeOne(desktop-&gt;id());</highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;desktopId<sp/>:<sp/>std::as_const(currentDesktops))<sp/>{</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a566b2f1b031cd7f536104017d3e157de" kindref="member">windowManagementInterface</ref>()-&gt;<ref refid="class_k_win_1_1_plasma_window_interface_1a6f88b20fbf1813b153ee2799255187b4" kindref="member">removePlasmaVirtualDesktop</ref>(desktopId);</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="735"><highlight class="normal"></highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>transients_stacking_order<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a95a97e34f6f0ebd4037ff0dfc4b82139" kindref="member">ensureStackingOrder</ref>(<ref refid="class_k_win_1_1_window_1afb0480dda58c4c07e6bf7d2100b7b29e" kindref="member">transients</ref>());</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it<sp/>=<sp/>transients_stacking_order.constBegin();<sp/>it<sp/>!=<sp/>transients_stacking_order.constEnd();<sp/>++it)<sp/>{</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(*it)-&gt;setDesktops(<ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>);</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="740"><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ab9a3cecb663e5b45353d210ff5de1195" kindref="member">isModal</ref>())<sp/></highlight><highlight class="comment">//<sp/>if<sp/>a<sp/>modal<sp/>dialog<sp/>is<sp/>moved,<sp/>move<sp/>the<sp/>mainwindow<sp/>with<sp/>it<sp/>as<sp/>otherwise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>(just<sp/>moved)<sp/>modal<sp/>dialog<sp/>will<sp/>confusingly<sp/>return<sp/>to<sp/>the<sp/>mainwindow<sp/>with</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>next<sp/>desktop<sp/>change</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>windows<sp/>=<sp/><ref refid="class_k_win_1_1_window_1afaea2549a9bde1616f1c0491a340ad64" kindref="member">mainWindows</ref>();</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*other<sp/>:<sp/>windows)<sp/>{</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>other-&gt;setDesktops(<ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>);</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="750"><highlight class="normal"></highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a53cf8bb1eaf10d2331ee121651054327" kindref="member">doSetDesktop</ref>();</highlight></codeline>
<codeline lineno="752"><highlight class="normal"></highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a9cdd73f71ccdefa9152c49ad16ad2be9" kindref="member">focusChain</ref>()-&gt;<ref refid="class_k_win_1_1_focus_chain_1a48b2e8b7d9947521ba3ddcc8e1dde952" kindref="member">update</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_focus_chain_1acab3b23e1580c8efd3734cf5f5243de7a9b0c9b8b20ea9d810dbf7be51526f985" kindref="member">FocusChain::MakeFirst</ref>);</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">updateWindowRules</ref>(<ref refid="class_k_win_1_1_rules_1af260e8f34c4f8e04cc312fe34c135501ae15718d4d074235c37f2b5b899e105c8" kindref="member">Rules::Desktops</ref>);</highlight></codeline>
<codeline lineno="755"><highlight class="normal"></highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a81dba7cdd2be7538645ff1a0718b6c7d" kindref="member">desktopsChanged</ref>();</highlight></codeline>
<codeline lineno="757"><highlight class="normal">}</highlight></codeline>
<codeline lineno="758"><highlight class="normal"></highlight></codeline>
<codeline lineno="759" refid="class_k_win_1_1_window_1a53cf8bb1eaf10d2331ee121651054327" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a53cf8bb1eaf10d2331ee121651054327" kindref="member">Window::doSetDesktop</ref>()</highlight></codeline>
<codeline lineno="760"><highlight class="normal">{</highlight></codeline>
<codeline lineno="761"><highlight class="normal">}</highlight></codeline>
<codeline lineno="762"><highlight class="normal"></highlight></codeline>
<codeline lineno="763" refid="class_k_win_1_1_window_1aae3fab1428c67e6a2c925f765070dd84" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aae3fab1428c67e6a2c925f765070dd84" kindref="member">Window::enterDesktop</ref>(<ref refid="class_k_win_1_1_virtual_desktop" kindref="compound">VirtualDesktop</ref><sp/>*virtualDesktop)</highlight></codeline>
<codeline lineno="764"><highlight class="normal">{</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a11f83e606efc5d90143b2d396e39e3ec" kindref="member">m_desktops</ref>.contains(virtualDesktop))<sp/>{</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a11f83e606efc5d90143b2d396e39e3ec" kindref="member">m_desktops</ref>;</highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>.append(virtualDesktop);</highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a017d0afde06ff1fac03f4c4ef7cfb6d9" kindref="member">setDesktops</ref>(<ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>);</highlight></codeline>
<codeline lineno="771"><highlight class="normal">}</highlight></codeline>
<codeline lineno="772"><highlight class="normal"></highlight></codeline>
<codeline lineno="773" refid="class_k_win_1_1_window_1a7c8bdc25faf71283cc2d836016fa6113" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7c8bdc25faf71283cc2d836016fa6113" kindref="member">Window::leaveDesktop</ref>(<ref refid="class_k_win_1_1_virtual_desktop" kindref="compound">VirtualDesktop</ref><sp/>*virtualDesktop)</highlight></codeline>
<codeline lineno="774"><highlight class="normal">{</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/>QList&lt;VirtualDesktop<sp/>*&gt;<sp/>currentDesktops;</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a11f83e606efc5d90143b2d396e39e3ec" kindref="member">m_desktops</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>currentDesktops<sp/>=<sp/>VirtualDesktopManager::self()-&gt;desktops();</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>currentDesktops<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a11f83e606efc5d90143b2d396e39e3ec" kindref="member">m_desktops</ref>;</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="781"><highlight class="normal"></highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!currentDesktops.contains(virtualDesktop))<sp/>{</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref><sp/>=<sp/>currentDesktops;</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>.removeOne(virtualDesktop);</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a017d0afde06ff1fac03f4c4ef7cfb6d9" kindref="member">setDesktops</ref>(<ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>);</highlight></codeline>
<codeline lineno="788"><highlight class="normal">}</highlight></codeline>
<codeline lineno="789"><highlight class="normal"></highlight></codeline>
<codeline lineno="790" refid="class_k_win_1_1_window_1a6d170ffa2b85f130fdd02ca8be09d611" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a6d170ffa2b85f130fdd02ca8be09d611" kindref="member">Window::setOnAllDesktops</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>b)</highlight></codeline>
<codeline lineno="791"><highlight class="normal">{</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b<sp/>==<sp/><ref refid="class_k_win_1_1_window_1ab12c1237a71a1f353898742b3d85e793" kindref="member">isOnAllDesktops</ref>())<sp/>{</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b)<sp/>{</highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a017d0afde06ff1fac03f4c4ef7cfb6d9" kindref="member">setDesktops</ref>({});</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a017d0afde06ff1fac03f4c4ef7cfb6d9" kindref="member">setDesktops</ref>({VirtualDesktopManager::self()-&gt;currentDesktop()});</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="800"><highlight class="normal">}</highlight></codeline>
<codeline lineno="801"><highlight class="normal"></highlight></codeline>
<codeline lineno="802" refid="class_k_win_1_1_window_1ab3149c28ec7dd1daf9af75a3c10cd35e" refkind="member"><highlight class="normal">QList&lt;VirtualDesktop<sp/>*&gt;<sp/><ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">Window::desktops</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="803"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a11f83e606efc5d90143b2d396e39e3ec" kindref="member">m_desktops</ref>;</highlight></codeline>
<codeline lineno="805"><highlight class="normal">}</highlight></codeline>
<codeline lineno="806"><highlight class="normal"></highlight></codeline>
<codeline lineno="807" refid="class_k_win_1_1_window_1af8434bc6d80800dccc7700d26fd3594f" refkind="member"><highlight class="normal">QStringList<sp/><ref refid="class_k_win_1_1_window_1af8434bc6d80800dccc7700d26fd3594f" kindref="member">Window::desktopIds</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="808"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>desks<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>();</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/>QStringList<sp/>ids;</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/>ids.reserve(desks.count());</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/>std::transform(desks.constBegin(),<sp/>desks.constEnd(),</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::back_inserter(ids),</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_virtual_desktop" kindref="compound">VirtualDesktop</ref><sp/>*vd)<sp/>{</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>vd-&gt;id();</highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ids;</highlight></codeline>
<codeline lineno="818"><highlight class="normal">}</highlight></codeline>
<codeline lineno="819"><highlight class="normal"></highlight></codeline>
<codeline lineno="820" refid="class_k_win_1_1_window_1a0e153ca25af4de7deaebbfc31c917560" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0e153ca25af4de7deaebbfc31c917560" kindref="member">Window::isOnDesktop</ref>(<ref refid="class_k_win_1_1_virtual_desktop" kindref="compound">VirtualDesktop</ref><sp/>*desktop)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="821"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab12c1237a71a1f353898742b3d85e793" kindref="member">isOnAllDesktops</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>().contains(desktop);</highlight></codeline>
<codeline lineno="823"><highlight class="normal">}</highlight></codeline>
<codeline lineno="824"><highlight class="normal"></highlight></codeline>
<codeline lineno="825" refid="class_k_win_1_1_window_1aa975d4f4a79a999c827e0a4d7bb5c1dd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aa975d4f4a79a999c827e0a4d7bb5c1dd" kindref="member">Window::isOnCurrentDesktop</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="826"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0e153ca25af4de7deaebbfc31c917560" kindref="member">isOnDesktop</ref>(VirtualDesktopManager::self()-&gt;currentDesktop());</highlight></codeline>
<codeline lineno="828"><highlight class="normal">}</highlight></codeline>
<codeline lineno="829"><highlight class="normal"></highlight></codeline>
<codeline lineno="830" refid="class_k_win_1_1_window_1abfa6caaf2d5624a4cdd2b49d20ed228c" refkind="member"><highlight class="normal"><ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585f" kindref="member">ShadeMode</ref><sp/><ref refid="class_k_win_1_1_window_1abfa6caaf2d5624a4cdd2b49d20ed228c" kindref="member">Window::shadeMode</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="831"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae6f4b0155777b5852e8c6e7a3e8bb704" kindref="member">m_shadeMode</ref>;</highlight></codeline>
<codeline lineno="833"><highlight class="normal">}</highlight></codeline>
<codeline lineno="834"><highlight class="normal"></highlight></codeline>
<codeline lineno="835" refid="class_k_win_1_1_window_1abf1e1de77c7a5e7707f1fcc2ed13db58" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1abf1e1de77c7a5e7707f1fcc2ed13db58" kindref="member">Window::isShadeable</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="836"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="838"><highlight class="normal">}</highlight></codeline>
<codeline lineno="839"><highlight class="normal"></highlight></codeline>
<codeline lineno="840" refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">Window::setShade</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)</highlight></codeline>
<codeline lineno="841"><highlight class="normal">{</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/>set<sp/>?<sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">setShade</ref>(<ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585faf7edb6b11c2666b2ef0da40d95f12d39" kindref="member">ShadeNormal</ref>)<sp/>:<sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">setShade</ref>(<ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585fa96968d2418f89776544aadc16404b6d4" kindref="member">ShadeNone</ref>);</highlight></codeline>
<codeline lineno="843"><highlight class="normal">}</highlight></codeline>
<codeline lineno="844"><highlight class="normal"></highlight></codeline>
<codeline lineno="845" refid="class_k_win_1_1_window_1a9c807f93f16ca3869027ea6cc511c5e8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">Window::setShade</ref>(<ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585f" kindref="member">ShadeMode</ref><sp/>mode)</highlight></codeline>
<codeline lineno="846"><highlight class="normal">{</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1abf1e1de77c7a5e7707f1fcc2ed13db58" kindref="member">isShadeable</ref>())<sp/>{</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>==<sp/><ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585faec9cfe314b9bcc398475c383305a8174" kindref="member">ShadeHover</ref><sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1a1b63155365b80df09ad34dc75f15102d" kindref="member">isInteractiveMove</ref>())<sp/>{</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>causes<sp/>geometry<sp/>breaks<sp/>and<sp/>is<sp/>probably<sp/>nasty</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a26bdcce1a00f8b7a1c1401b5bf132874" kindref="member">isSpecialWindow</ref>()<sp/>||<sp/>!<ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>())<sp/>{</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode<sp/>=<sp/><ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585fa96968d2418f89776544aadc16404b6d4" kindref="member">ShadeNone</ref>;</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="856"><highlight class="normal"></highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/>mode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1a9e142eaf439abc2b18ed9b009564806d" kindref="member">checkShade</ref>(mode);</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ae6f4b0155777b5852e8c6e7a3e8bb704" kindref="member">m_shadeMode</ref><sp/>==<sp/>mode)<sp/>{</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="861"><highlight class="normal"></highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wasShade<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a3dfd89167d57f28ebedf72ffddd33191" kindref="member">isShade</ref>();</highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585f" kindref="member">ShadeMode</ref><sp/>previousShadeMode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1abfa6caaf2d5624a4cdd2b49d20ed228c" kindref="member">shadeMode</ref>();</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae6f4b0155777b5852e8c6e7a3e8bb704" kindref="member">m_shadeMode</ref><sp/>=<sp/>mode;</highlight></codeline>
<codeline lineno="865"><highlight class="normal"></highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wasShade<sp/>==<sp/><ref refid="class_k_win_1_1_window_1a3dfd89167d57f28ebedf72ffddd33191" kindref="member">isShade</ref>())<sp/>{</highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Decoration<sp/>may<sp/>want<sp/>to<sp/>update<sp/>after<sp/>e.g.<sp/>hover-shade<sp/>changes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a65a50831398387c79231316c21be1abc" kindref="member">shadeChanged</ref>();</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>No<sp/>real<sp/>change<sp/>in<sp/>shaded<sp/>state</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="871"><highlight class="normal"></highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT(<ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>());</highlight></codeline>
<codeline lineno="873"><highlight class="normal"></highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ad6b5cfb1fda2ae3be8157024383d4f31" kindref="member">doSetShade</ref>(previousShadeMode);</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">updateWindowRules</ref>(<ref refid="class_k_win_1_1_rules_1af260e8f34c4f8e04cc312fe34c135501ad92e266ca5b9633196abf6ef67b9d1d6" kindref="member">Rules::Shade</ref>);</highlight></codeline>
<codeline lineno="876"><highlight class="normal"></highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a65a50831398387c79231316c21be1abc" kindref="member">shadeChanged</ref>();</highlight></codeline>
<codeline lineno="878"><highlight class="normal">}</highlight></codeline>
<codeline lineno="879"><highlight class="normal"></highlight></codeline>
<codeline lineno="880" refid="class_k_win_1_1_window_1ad6b5cfb1fda2ae3be8157024383d4f31" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ad6b5cfb1fda2ae3be8157024383d4f31" kindref="member">Window::doSetShade</ref>(<ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585f" kindref="member">ShadeMode</ref><sp/>previousShadeMode)</highlight></codeline>
<codeline lineno="881"><highlight class="normal">{</highlight></codeline>
<codeline lineno="882"><highlight class="normal">}</highlight></codeline>
<codeline lineno="883"><highlight class="normal"></highlight></codeline>
<codeline lineno="884" refid="class_k_win_1_1_window_1a62f038086489feb23351bd4e00eee5ac" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a62f038086489feb23351bd4e00eee5ac" kindref="member">Window::shadeHover</ref>()</highlight></codeline>
<codeline lineno="885"><highlight class="normal">{</highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">setShade</ref>(<ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585faec9cfe314b9bcc398475c383305a8174" kindref="member">ShadeHover</ref>);</highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a58c27d98b0edb3a6d0afb7fdf3882c39" kindref="member">cancelShadeHoverTimer</ref>();</highlight></codeline>
<codeline lineno="888"><highlight class="normal">}</highlight></codeline>
<codeline lineno="889"><highlight class="normal"></highlight></codeline>
<codeline lineno="890" refid="class_k_win_1_1_window_1a30a7bed6ed1322874c268e04a5cd455b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a30a7bed6ed1322874c268e04a5cd455b" kindref="member">Window::shadeUnhover</ref>()</highlight></codeline>
<codeline lineno="891"><highlight class="normal">{</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">setShade</ref>(<ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585faf7edb6b11c2666b2ef0da40d95f12d39" kindref="member">ShadeNormal</ref>);</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a58c27d98b0edb3a6d0afb7fdf3882c39" kindref="member">cancelShadeHoverTimer</ref>();</highlight></codeline>
<codeline lineno="894"><highlight class="normal">}</highlight></codeline>
<codeline lineno="895"><highlight class="normal"></highlight></codeline>
<codeline lineno="896" refid="class_k_win_1_1_window_1ac7c35d8668fd5e4e11838ee581e41722" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ac7c35d8668fd5e4e11838ee581e41722" kindref="member">Window::startShadeHoverTimer</ref>()</highlight></codeline>
<codeline lineno="897"><highlight class="normal">{</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a3dfd89167d57f28ebedf72ffddd33191" kindref="member">isShade</ref>())<sp/>{</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a751e7058dae4fd04e4da899b2860cd0c" kindref="member">m_shadeHoverTimer</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>QTimer(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1a751e7058dae4fd04e4da899b2860cd0c" kindref="member">m_shadeHoverTimer</ref>,<sp/>&amp;QTimer::timeout,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a62f038086489feb23351bd4e00eee5ac" kindref="member">Window::shadeHover</ref>);</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a751e7058dae4fd04e4da899b2860cd0c" kindref="member">m_shadeHoverTimer</ref>-&gt;setSingleShot(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a751e7058dae4fd04e4da899b2860cd0c" kindref="member">m_shadeHoverTimer</ref>-&gt;start(<ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;shadeHoverInterval());</highlight></codeline>
<codeline lineno="905"><highlight class="normal">}</highlight></codeline>
<codeline lineno="906"><highlight class="normal"></highlight></codeline>
<codeline lineno="907" refid="class_k_win_1_1_window_1a4805d5c28b9aac6559f3c0a06863bbf9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4805d5c28b9aac6559f3c0a06863bbf9" kindref="member">Window::startShadeUnhoverTimer</ref>()</highlight></codeline>
<codeline lineno="908"><highlight class="normal">{</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ae6f4b0155777b5852e8c6e7a3e8bb704" kindref="member">m_shadeMode</ref><sp/>==<sp/><ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585faec9cfe314b9bcc398475c383305a8174" kindref="member">ShadeHover</ref><sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a52812fb30393688827b36f5ff51c1a6d" kindref="member">isInteractiveMoveResize</ref>()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a14a4d0eae0024af8a7c3d9fc9cbfa4df" kindref="member">isInteractiveMoveResizePointerButtonDown</ref>())<sp/>{</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a751e7058dae4fd04e4da899b2860cd0c" kindref="member">m_shadeHoverTimer</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>QTimer(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1a751e7058dae4fd04e4da899b2860cd0c" kindref="member">m_shadeHoverTimer</ref>,<sp/>&amp;QTimer::timeout,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a30a7bed6ed1322874c268e04a5cd455b" kindref="member">Window::shadeUnhover</ref>);</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a751e7058dae4fd04e4da899b2860cd0c" kindref="member">m_shadeHoverTimer</ref>-&gt;setSingleShot(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a751e7058dae4fd04e4da899b2860cd0c" kindref="member">m_shadeHoverTimer</ref>-&gt;start(<ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;shadeHoverInterval());</highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="915"><highlight class="normal">}</highlight></codeline>
<codeline lineno="916"><highlight class="normal"></highlight></codeline>
<codeline lineno="917" refid="class_k_win_1_1_window_1a58c27d98b0edb3a6d0afb7fdf3882c39" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a58c27d98b0edb3a6d0afb7fdf3882c39" kindref="member">Window::cancelShadeHoverTimer</ref>()</highlight></codeline>
<codeline lineno="918"><highlight class="normal">{</highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a751e7058dae4fd04e4da899b2860cd0c" kindref="member">m_shadeHoverTimer</ref>;</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a751e7058dae4fd04e4da899b2860cd0c" kindref="member">m_shadeHoverTimer</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="921"><highlight class="normal">}</highlight></codeline>
<codeline lineno="922"><highlight class="normal"></highlight></codeline>
<codeline lineno="923" refid="class_k_win_1_1_window_1a2728eed3519284ca4c11ceeb944033bf" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a2728eed3519284ca4c11ceeb944033bf" kindref="member">Window::toggleShade</ref>()</highlight></codeline>
<codeline lineno="924"><highlight class="normal">{</highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>mode<sp/>is<sp/>ShadeHover<sp/>or<sp/>ShadeActive,<sp/>cancel<sp/>shade<sp/>too.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">setShade</ref>(<ref refid="class_k_win_1_1_window_1abfa6caaf2d5624a4cdd2b49d20ed228c" kindref="member">shadeMode</ref>()<sp/>==<sp/><ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585fa96968d2418f89776544aadc16404b6d4" kindref="member">ShadeNone</ref><sp/>?<sp/><ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585faf7edb6b11c2666b2ef0da40d95f12d39" kindref="member">ShadeNormal</ref><sp/>:<sp/><ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585fa96968d2418f89776544aadc16404b6d4" kindref="member">ShadeNone</ref>);</highlight></codeline>
<codeline lineno="927"><highlight class="normal">}</highlight></codeline>
<codeline lineno="928"><highlight class="normal"></highlight></codeline>
<codeline lineno="929" refid="class_k_win_1_1_window_1af44c993eea122ea90d4b1aa4cd8de38c" refkind="member"><highlight class="normal">Qt::Edge<sp/><ref refid="class_k_win_1_1_window_1af44c993eea122ea90d4b1aa4cd8de38c" kindref="member">Window::titlebarPosition</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="930"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/>still<sp/>needed,<sp/>remove?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Qt::TopEdge;</highlight></codeline>
<codeline lineno="933"><highlight class="normal">}</highlight></codeline>
<codeline lineno="934"><highlight class="normal"></highlight></codeline>
<codeline lineno="935" refid="class_k_win_1_1_window_1a69f30f2a3a35a61e4e690519ff58abf3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a69f30f2a3a35a61e4e690519ff58abf3" kindref="member">Window::titlebarPositionUnderMouse</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="936"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>())<sp/>{</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>sectionUnderMouse<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;sectionUnderMouse();</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sectionUnderMouse<sp/>==<sp/>Qt::TitleBarArea)<sp/>{</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>other<sp/>sections<sp/>based<sp/>on<sp/>titlebarPosition</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1af44c993eea122ea90d4b1aa4cd8de38c" kindref="member">titlebarPosition</ref>())<sp/>{</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::TopEdge:</highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(sectionUnderMouse<sp/>==<sp/>Qt::TopLeftSection<sp/>||<sp/>sectionUnderMouse<sp/>==<sp/>Qt::TopSection<sp/>||<sp/>sectionUnderMouse<sp/>==<sp/>Qt::TopRightSection);</highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::LeftEdge:</highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(sectionUnderMouse<sp/>==<sp/>Qt::TopLeftSection<sp/>||<sp/>sectionUnderMouse<sp/>==<sp/>Qt::LeftSection<sp/>||<sp/>sectionUnderMouse<sp/>==<sp/>Qt::BottomLeftSection);</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::RightEdge:</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(sectionUnderMouse<sp/>==<sp/>Qt::BottomRightSection<sp/>||<sp/>sectionUnderMouse<sp/>==<sp/>Qt::RightSection<sp/>||<sp/>sectionUnderMouse<sp/>==<sp/>Qt::TopRightSection);</highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::BottomEdge:</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(sectionUnderMouse<sp/>==<sp/>Qt::BottomLeftSection<sp/>||<sp/>sectionUnderMouse<sp/>==<sp/>Qt::BottomSection<sp/>||<sp/>sectionUnderMouse<sp/>==<sp/>Qt::BottomRightSection);</highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>nothing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="958"><highlight class="normal">}</highlight></codeline>
<codeline lineno="959"><highlight class="normal"></highlight></codeline>
<codeline lineno="960" refid="class_k_win_1_1_window_1a2020d42e4c3f51da3bcec8cfdc632f86" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a2020d42e4c3f51da3bcec8cfdc632f86" kindref="member">Window::setMinimized</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)</highlight></codeline>
<codeline lineno="961"><highlight class="normal">{</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>effectiveSet<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1ab1ecc066865f3279e2aa437545465888" kindref="member">checkMinimize</ref>(set);</highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ac8984210c5c8842735c5632a8c634095" kindref="member">m_minimized</ref><sp/>==<sp/>effectiveSet)<sp/>{</highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(effectiveSet<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a0265481eb235342664f27f47dafbc2d4" kindref="member">isMinimizable</ref>())<sp/>{</highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="970"><highlight class="normal"></highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac8984210c5c8842735c5632a8c634095" kindref="member">m_minimized</ref><sp/>=<sp/>effectiveSet;</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a169597f62ca6a017611d4e45a0ee3f51" kindref="member">doMinimize</ref>();</highlight></codeline>
<codeline lineno="973"><highlight class="normal"></highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">updateWindowRules</ref>(<ref refid="class_k_win_1_1_rules_1af260e8f34c4f8e04cc312fe34c135501a076193cef29d4fad01d5915d49217d5c" kindref="member">Rules::Minimize</ref>);</highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1ab2768713cab0bc9b18ff28b39d3170ad" kindref="member">minimizedChanged</ref>();</highlight></codeline>
<codeline lineno="976"><highlight class="normal">}</highlight></codeline>
<codeline lineno="977"><highlight class="normal"></highlight></codeline>
<codeline lineno="978" refid="class_k_win_1_1_window_1a169597f62ca6a017611d4e45a0ee3f51" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a169597f62ca6a017611d4e45a0ee3f51" kindref="member">Window::doMinimize</ref>()</highlight></codeline>
<codeline lineno="979"><highlight class="normal">{</highlight></codeline>
<codeline lineno="980"><highlight class="normal">}</highlight></codeline>
<codeline lineno="981"><highlight class="normal"></highlight></codeline>
<codeline lineno="982" refid="class_k_win_1_1_window_1ac10c709b4624c0aef3b4f2f8cc57427b" refkind="member"><highlight class="normal">QPalette<sp/><ref refid="class_k_win_1_1_window_1ac10c709b4624c0aef3b4f2f8cc57427b" kindref="member">Window::palette</ref>()</highlight></codeline>
<codeline lineno="983"><highlight class="normal">{</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a20b6b5cdac1f6b8f13dc04f3e05802a2" kindref="member">ensurePalette</ref>();</highlight></codeline>
<codeline lineno="985"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref>-&gt;palette();</highlight></codeline>
<codeline lineno="986"><highlight class="normal">}</highlight></codeline>
<codeline lineno="987"><highlight class="normal"></highlight></codeline>
<codeline lineno="988" refid="class_k_win_1_1_window_1a9821bc14a848cb3f210c43c160fe8e80" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_decoration_1_1_decoration_palette" kindref="compound">Decoration::DecorationPalette</ref><sp/>*<ref refid="class_k_win_1_1_window_1a9821bc14a848cb3f210c43c160fe8e80" kindref="member">Window::decorationPalette</ref>()</highlight></codeline>
<codeline lineno="989"><highlight class="normal">{</highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a20b6b5cdac1f6b8f13dc04f3e05802a2" kindref="member">ensurePalette</ref>();</highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref>.get();</highlight></codeline>
<codeline lineno="992"><highlight class="normal">}</highlight></codeline>
<codeline lineno="993"><highlight class="normal"></highlight></codeline>
<codeline lineno="994" refid="class_k_win_1_1_window_1a8351dc98d7b4e8388c20c1f75d45b53b" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_k_win_1_1_window_1a8351dc98d7b4e8388c20c1f75d45b53b" kindref="member">Window::preferredColorScheme</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="995"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1a6098b59f4fcb05d498a3f95e0d6deab2" kindref="member">checkDecoColor</ref>(QString());</highlight></codeline>
<codeline lineno="997"><highlight class="normal">}</highlight></codeline>
<codeline lineno="998"><highlight class="normal"></highlight></codeline>
<codeline lineno="999" refid="class_k_win_1_1_window_1add4fdac83406710541f46a27ee0e0170" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_k_win_1_1_window_1af4e79ae255fc04953422db277a441fcf" kindref="member">Window::colorScheme</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1000"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a9e81ea2b202e22419de25715d6d9d995" kindref="member">m_colorScheme</ref>;</highlight></codeline>
<codeline lineno="1002"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"></highlight></codeline>
<codeline lineno="1004" refid="class_k_win_1_1_window_1a2867cf88dbab9e9101452ff49a44790e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a2867cf88dbab9e9101452ff49a44790e" kindref="member">Window::setColorScheme</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;<ref refid="class_k_win_1_1_window_1af4e79ae255fc04953422db277a441fcf" kindref="member">colorScheme</ref>)</highlight></codeline>
<codeline lineno="1005"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1006"><highlight class="normal"><sp/><sp/><sp/><sp/>QString<sp/>requestedColorScheme<sp/>=<sp/><ref refid="class_k_win_1_1_window_1af4e79ae255fc04953422db277a441fcf" kindref="member">colorScheme</ref>;</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(requestedColorScheme.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>requestedColorScheme<sp/>=<sp/>QStringLiteral(</highlight><highlight class="stringliteral">&quot;kdeglobals&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1009"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"></highlight></codeline>
<codeline lineno="1011"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a9e81ea2b202e22419de25715d6d9d995" kindref="member">m_colorScheme</ref><sp/>==<sp/>requestedColorScheme)<sp/>{</highlight></codeline>
<codeline lineno="1012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1013"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"></highlight></codeline>
<codeline lineno="1015"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9e81ea2b202e22419de25715d6d9d995" kindref="member">m_colorScheme</ref><sp/>=<sp/>requestedColorScheme;</highlight></codeline>
<codeline lineno="1016"><highlight class="normal"></highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>disconnect(<ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref>.get(),<sp/>&amp;<ref refid="class_k_win_1_1_decoration_1_1_decoration_palette_1a928b0443fd7789d7ff196c4a21e710ab" kindref="member">Decoration::DecorationPalette::changed</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a53b2543bc269052c7c508b531dc816a3" kindref="member">Window::handlePaletteChange</ref>);</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref>.reset();</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"></highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>there<sp/>already<sp/>was<sp/>a<sp/>palette,<sp/>re-create<sp/>it<sp/>right<sp/>away</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>so<sp/>the<sp/>signals<sp/>for<sp/>repainting<sp/>the<sp/>decoration<sp/>are<sp/>emitted.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a20b6b5cdac1f6b8f13dc04f3e05802a2" kindref="member">ensurePalette</ref>();</highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"></highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a738cb732d11d98b2e6149400e134df11" kindref="member">colorSchemeChanged</ref>();</highlight></codeline>
<codeline lineno="1027"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"></highlight></codeline>
<codeline lineno="1029" refid="class_k_win_1_1_window_1ace7499c5c0613f2a0389de51ab135971" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ace7499c5c0613f2a0389de51ab135971" kindref="member">Window::updateColorScheme</ref>()</highlight></codeline>
<codeline lineno="1030"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2867cf88dbab9e9101452ff49a44790e" kindref="member">setColorScheme</ref>(<ref refid="class_k_win_1_1_window_1a8351dc98d7b4e8388c20c1f75d45b53b" kindref="member">preferredColorScheme</ref>());</highlight></codeline>
<codeline lineno="1032"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"></highlight></codeline>
<codeline lineno="1034" refid="class_k_win_1_1_window_1a20b6b5cdac1f6b8f13dc04f3e05802a2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a20b6b5cdac1f6b8f13dc04f3e05802a2" kindref="member">Window::ensurePalette</ref>()</highlight></codeline>
<codeline lineno="1035"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1039"><highlight class="normal"></highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a9fda98051b25624be54619573b64ffb4" kindref="member">s_palettes</ref>.find(<ref refid="class_k_win_1_1_window_1a9e81ea2b202e22419de25715d6d9d995" kindref="member">m_colorScheme</ref>);</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"></highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(it<sp/>==<sp/><ref refid="class_k_win_1_1_window_1a9fda98051b25624be54619573b64ffb4" kindref="member">s_palettes</ref>.end()<sp/>||<sp/>it-&gt;expired())<sp/>{</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref><sp/>=<sp/>std::make_shared&lt;Decoration::DecorationPalette&gt;(<ref refid="class_k_win_1_1_window_1a9e81ea2b202e22419de25715d6d9d995" kindref="member">m_colorScheme</ref>);</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref>-&gt;isValid())<sp/>{</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9fda98051b25624be54619573b64ffb4" kindref="member">s_palettes</ref>[<ref refid="class_k_win_1_1_window_1a9e81ea2b202e22419de25715d6d9d995" kindref="member">m_colorScheme</ref>]<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref>;</highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aed6539e49519ddd40f9c45665ae9cf58" kindref="member">s_defaultPalette</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aed6539e49519ddd40f9c45665ae9cf58" kindref="member">s_defaultPalette</ref><sp/>=<sp/>std::make_shared&lt;Decoration::DecorationPalette&gt;(QStringLiteral(</highlight><highlight class="stringliteral">&quot;kdeglobals&quot;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9fda98051b25624be54619573b64ffb4" kindref="member">s_palettes</ref>[QStringLiteral(</highlight><highlight class="stringliteral">&quot;kdeglobals&quot;</highlight><highlight class="normal">)]<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aed6539e49519ddd40f9c45665ae9cf58" kindref="member">s_defaultPalette</ref>;</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"></highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1aed6539e49519ddd40f9c45665ae9cf58" kindref="member">s_defaultPalette</ref>;</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1054"><highlight class="normal"></highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a9e81ea2b202e22419de25715d6d9d995" kindref="member">m_colorScheme</ref><sp/>==<sp/>QLatin1StringView(</highlight><highlight class="stringliteral">&quot;kdeglobals&quot;</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aed6539e49519ddd40f9c45665ae9cf58" kindref="member">s_defaultPalette</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref>;</highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref><sp/>=<sp/>it-&gt;lock();</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"></highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1a9c732f4f49c5d539aad82c43b7901a7f" kindref="member">m_palette</ref>.get(),<sp/>&amp;<ref refid="class_k_win_1_1_decoration_1_1_decoration_palette_1a928b0443fd7789d7ff196c4a21e710ab" kindref="member">Decoration::DecorationPalette::changed</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a53b2543bc269052c7c508b531dc816a3" kindref="member">Window::handlePaletteChange</ref>);</highlight></codeline>
<codeline lineno="1063"><highlight class="normal"></highlight></codeline>
<codeline lineno="1064"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a53b2543bc269052c7c508b531dc816a3" kindref="member">handlePaletteChange</ref>();</highlight></codeline>
<codeline lineno="1065"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"></highlight></codeline>
<codeline lineno="1067" refid="class_k_win_1_1_window_1a53b2543bc269052c7c508b531dc816a3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a53b2543bc269052c7c508b531dc816a3" kindref="member">Window::handlePaletteChange</ref>()</highlight></codeline>
<codeline lineno="1068"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a9507fbaee33b1a8e28fbd6bf78779891" kindref="member">paletteChanged</ref>(<ref refid="class_k_win_1_1_window_1ac10c709b4624c0aef3b4f2f8cc57427b" kindref="member">palette</ref>());</highlight></codeline>
<codeline lineno="1070"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"></highlight></codeline>
<codeline lineno="1072" refid="class_k_win_1_1_window_1a2bc639db4c4a762bc0d58a715136a0ca" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a2bc639db4c4a762bc0d58a715136a0ca" kindref="member">Window::keepInArea</ref>(QRectF<sp/>geometry,<sp/>QRectF<sp/>area,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>partial)</highlight></codeline>
<codeline lineno="1073"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(partial)<sp/>{</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>increase<sp/>the<sp/>area<sp/>so<sp/>that<sp/>can<sp/>have<sp/>only<sp/>100<sp/>pixels<sp/>in<sp/>the<sp/>area</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>geometry<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>area.setLeft(std::min(area.left()<sp/>-<sp/>geometry.width()<sp/>+<sp/>100,<sp/>area.left()));</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>area.setTop(std::min(area.top()<sp/>-<sp/>geometry.height()<sp/>+<sp/>100,<sp/>area.top()));</highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>area.setRight(std::max(area.right()<sp/>+<sp/>geometry.width()<sp/>-<sp/>100,<sp/>area.right()));</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>area.setBottom(std::max(area.bottom()<sp/>+<sp/>geometry.height()<sp/>-<sp/>100,<sp/>area.bottom()));</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!partial)<sp/>{</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>resize<sp/>to<sp/>fit<sp/>into<sp/>area</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(area.width()<sp/>&lt;<sp/>geometry.width()<sp/>||<sp/>area.height()<sp/>&lt;<sp/>geometry.height())<sp/>{</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geometry<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a06e0e35e4fd13abedca3ed0f9eb65f56" kindref="member">resizeWithChecks</ref>(geometry,<sp/>geometry.size().boundedTo(area.size()));</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"></highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geometry.right()<sp/>&gt;<sp/>area.right()<sp/>&amp;&amp;<sp/>geometry.width()<sp/>&lt;=<sp/>area.width())<sp/>{</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geometry.moveRight(area.right());</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geometry.bottom()<sp/>&gt;<sp/>area.bottom()<sp/>&amp;&amp;<sp/>geometry.height()<sp/>&lt;=<sp/>area.height())<sp/>{</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geometry.moveBottom(area.bottom());</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1095"><highlight class="normal"></highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geometry.left()<sp/>&lt;<sp/>area.left())<sp/>{</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geometry.moveLeft(area.left());</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geometry.top()<sp/>&lt;<sp/>area.top())<sp/>{</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geometry.moveTop(area.top());</highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>geometry;</highlight></codeline>
<codeline lineno="1103"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"></highlight></codeline>
<codeline lineno="1108" refid="class_k_win_1_1_window_1aabe6333ee36076f053b1356e4217cb8c" refkind="member"><highlight class="normal">QSizeF<sp/><ref refid="class_k_win_1_1_window_1aed76f5fbe38ae0051ad9587c7e47bcd8" kindref="member">Window::maxSize</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1109"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1a1d76722569bc0a6eefe76d2a3994f1a9" kindref="member">checkMaxSize</ref>(QSize(INT_MAX,<sp/>INT_MAX));</highlight></codeline>
<codeline lineno="1111"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1112"><highlight class="normal"></highlight></codeline>
<codeline lineno="1116" refid="class_k_win_1_1_window_1abb7a478a68c076a93fe1e205b161c4b5" refkind="member"><highlight class="normal">QSizeF<sp/><ref refid="class_k_win_1_1_window_1acf74967cccfc708ba0dd82dce391d77f" kindref="member">Window::minSize</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1117"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;<ref refid="class_k_win_1_1_window_rules_1aceb819770759542e01c43ad181cb9a3e" kindref="member">checkMinSize</ref>(QSize(0,<sp/>0));</highlight></codeline>
<codeline lineno="1119"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"></highlight></codeline>
<codeline lineno="1121" refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">Window::maximize</ref>(<ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9" kindref="member">MaximizeMode</ref><sp/>mode,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;restore)</highlight></codeline>
<codeline lineno="1122"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/>qCWarning(KWIN_CORE,<sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>doesn&apos;t<sp/>support<sp/>setting<sp/>maximized<sp/>state&quot;</highlight><highlight class="normal">,<sp/>metaObject()-&gt;className());</highlight></codeline>
<codeline lineno="1124"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"></highlight></codeline>
<codeline lineno="1126" refid="class_k_win_1_1_window_1a0c0c85ab71928ebce12edcfd33c64b0d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0c0c85ab71928ebce12edcfd33c64b0d" kindref="member">Window::setMaximize</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>vertically,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>horizontally,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;restore)</highlight></codeline>
<codeline lineno="1127"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9" kindref="member">MaximizeMode</ref><sp/>mode<sp/>=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>;</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(vertically)<sp/>{</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode<sp/>=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9" kindref="member">MaximizeMode</ref>(mode<sp/>|<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a21499d1263beb477425205b49fca8ef1" kindref="member">MaximizeVertical</ref>);</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(horizontally)<sp/>{</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode<sp/>=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9" kindref="member">MaximizeMode</ref>(mode<sp/>|<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9aac06708e540fd3823add3d1fc048876d" kindref="member">MaximizeHorizontal</ref>);</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"></highlight></codeline>
<codeline lineno="1136"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">maximize</ref>(mode,<sp/>restore);</highlight></codeline>
<codeline lineno="1137"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"></highlight></codeline>
<codeline lineno="1139" refid="class_k_win_1_1_window_1a4470354b4fa88d30ee3c7667d77c7b9c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4470354b4fa88d30ee3c7667d77c7b9c" kindref="member">Window::startInteractiveMoveResize</ref>()</highlight></codeline>
<codeline lineno="1140"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1144"><highlight class="normal"></highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT(!<ref refid="class_k_win_1_1_window_1a52812fb30393688827b36f5ff51c1a6d" kindref="member">isInteractiveMoveResize</ref>());</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af36f8d8979cc3ffb49d244fd04541f0f" kindref="member">stopDelayedInteractiveMoveResize</ref>();</highlight></codeline>
<codeline lineno="1147"><highlight class="normal"></highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a4b695bf258e4c855a72d9c832e0ae4b9" kindref="member">isRequestedFullScreen</ref>()<sp/>&amp;&amp;<sp/>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputs().count()<sp/>&lt;<sp/>2<sp/>||<sp/>!<ref refid="class_k_win_1_1_window_1a61015d9b343ba6b5a7107caa4169bb51" kindref="member">isMovableAcrossScreens</ref>()))<sp/>{</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1150"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((<ref refid="class_k_win_1_1_window_1aeb3ff3e9e2c5fe0b4816948a52cb58a6" kindref="member">interactiveMoveResizeGravity</ref>()<sp/>==<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a6adf97f83acf6453d4a6a4b1070f3754" kindref="member">Gravity::None</ref><sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a61015d9b343ba6b5a7107caa4169bb51" kindref="member">isMovableAcrossScreens</ref>())</highlight></codeline>
<codeline lineno="1152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>||<sp/>(<ref refid="class_k_win_1_1_window_1aeb3ff3e9e2c5fe0b4816948a52cb58a6" kindref="member">interactiveMoveResizeGravity</ref>()<sp/>!=<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a6adf97f83acf6453d4a6a4b1070f3754" kindref="member">Gravity::None</ref><sp/>&amp;&amp;<sp/>(<ref refid="class_k_win_1_1_window_1a3dfd89167d57f28ebedf72ffddd33191" kindref="member">isShade</ref>()<sp/>||<sp/>!<ref refid="class_k_win_1_1_window_1aca7dbc7f62bb563afea5583e128a4afb" kindref="member">isResizable</ref>())))<sp/>{</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1154"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a1225fe6301b15744feb468fa81c52d21" kindref="member">doStartInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1158"><highlight class="normal"></highlight></codeline>
<codeline lineno="1159"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af13e920c6c31b68f63437425761e91eb" kindref="member">invalidateDecorationDoubleClickTimer</ref>();</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"></highlight></codeline>
<codeline lineno="1161"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a3ac078b88d06393b75e7ba06d5b934c8" kindref="member">setInteractiveMoveResize</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1162"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1aa847663e0f3e34c726ab2259866d2fb2" kindref="member">setMoveResizeWindow</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a7af0e246269d807f7f29527ba90613ee" kindref="member">raiseWindow</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1164"><highlight class="normal"></highlight></codeline>
<codeline lineno="1165"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialGeometry<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="1166"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.startOutput<sp/>=<sp/><ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">moveResizeOutput</ref>();</highlight></codeline>
<codeline lineno="1167"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialMaximizeMode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>();</highlight></codeline>
<codeline lineno="1168"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialQuickTileMode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a1ffaa1f6015de331667110a987922089" kindref="member">requestedQuickTileMode</ref>();</highlight></codeline>
<codeline lineno="1169"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialGeometryRestore<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5f94086b4bce785556425c530c59dbaf" kindref="member">geometryRestore</ref>();</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"></highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af21a731d416e0b1a9390d85e629b0c98" kindref="member">updateElectricGeometryRestore</ref>();</highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a15a841d9d2201aa7b90f24168632ff4c" kindref="member">checkUnrestrictedInteractiveMoveResize</ref>();</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a010201206994e942640621e136fb90c4" kindref="member">interactiveMoveResizeStarted</ref>();</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;screenEdges()-&gt;isDesktopSwitchingMovingClients())<sp/>{</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a21cf494fbdd48523724bd6f35bf5547e" kindref="member">screenEdges</ref>()-&gt;<ref refid="class_k_win_1_1_screen_edges_1aa72115d9a908aa89f130570da84fe54a" kindref="member">reserveDesktopSwitching</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>Qt::Vertical<sp/>|<sp/>Qt::Horizontal);</highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1178"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1179"><highlight class="normal"></highlight></codeline>
<codeline lineno="1180" refid="class_k_win_1_1_window_1a6978b71453df0de95f4822332b1be103" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a6978b71453df0de95f4822332b1be103" kindref="member">Window::finishInteractiveMoveResize</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>cancel)</highlight></codeline>
<codeline lineno="1181"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>wasMove<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a1b63155365b80df09ad34dc75f15102d" kindref="member">isInteractiveMove</ref>();</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ad31baea5b1b98cc7a01b21e6b527f77a" kindref="member">leaveInteractiveMoveResize</ref>();</highlight></codeline>
<codeline lineno="1184"><highlight class="normal"></highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac94cdf63c71362a86dc28ecb5e40a1bc" kindref="member">doFinishInteractiveMoveResize</ref>();</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"></highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cancel)<sp/>{</highlight></codeline>
<codeline lineno="1188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aca6e1f1d8772897c5efbfb3c17fa436e" kindref="member">moveResize</ref>(<ref refid="class_k_win_1_1_window_1a2c99107d19da560ccc18cb3b8c4a59fc" kindref="member">initialInteractiveMoveResizeGeometry</ref>());</highlight></codeline>
<codeline lineno="1189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialMaximizeMode<sp/>!=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeMode::MaximizeRestore</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a0c0c85ab71928ebce12edcfd33c64b0d" kindref="member">setMaximize</ref>(<ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialMaximizeMode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a21499d1263beb477425205b49fca8ef1" kindref="member">MaximizeMode::MaximizeVertical</ref>,<sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialMaximizeMode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9aac06708e540fd3823add3d1fc048876d" kindref="member">MaximizeMode::MaximizeHorizontal</ref>,<sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialGeometryRestore);</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialQuickTileMode)<sp/>{</highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac21b2eb64cb5abacbe9015e592c6c935" kindref="member">setQuickTileMode</ref>(<ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialQuickTileMode,<sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialGeometry.center());</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9372354c3330f992f28ca6e6fb22d700" kindref="member">setGeometryRestore</ref>(<ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialGeometryRestore);</highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">moveResizeOutput</ref>()<sp/>!=<sp/><ref refid="class_k_win_1_1_window_1a9361cc41442c34180031739b1f4bac4b" kindref="member">interactiveMoveResizeStartOutput</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a43d064a134863a34bfe5956f21a35641" kindref="member">sendToOutput</ref>(<ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">moveResizeOutput</ref>());<sp/></highlight><highlight class="comment">//<sp/>checks<sp/>rule<sp/>validity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>oldScreenArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a1efc2ac8ca9fc5e3accf195e0e0b708e" kindref="member">clientArea</ref>(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a445c2e99842dbf1b3870807ebbd11f23" kindref="member">MaximizeArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_window_1a9361cc41442c34180031739b1f4bac4b" kindref="member">interactiveMoveResizeStartOutput</ref>());</highlight></codeline>
<codeline lineno="1198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>screenArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a1efc2ac8ca9fc5e3accf195e0e0b708e" kindref="member">clientArea</ref>(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a445c2e99842dbf1b3870807ebbd11f23" kindref="member">MaximizeArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">moveResizeOutput</ref>());</highlight></codeline>
<codeline lineno="1199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a30324ba0bf9c10338dd809187d7ab87e" kindref="member">m_electricGeometryRestore</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a48c39e5a2fae63c9480116fa64b89d57" kindref="member">moveToArea</ref>(<ref refid="class_k_win_1_1_window_1a30324ba0bf9c10338dd809187d7ab87e" kindref="member">m_electricGeometryRestore</ref>,<sp/>oldScreenArea,<sp/>screenArea);</highlight></codeline>
<codeline lineno="1200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a4b695bf258e4c855a72d9c832e0ae4b9" kindref="member">isRequestedFullScreen</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>!=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a39bbb6d7fea7175cb9d9956bb0218064" kindref="member">checkWorkspacePosition</ref>();</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1203"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1204"><highlight class="normal"></highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ac0833d8fcb7badada14ec1ab9a1a7729" kindref="member">isElectricBorderMaximizing</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a771c32db912a7dca82da5fd3f9fe5fa8" kindref="member">quickTileMode</ref><sp/>=<sp/>std::get_if&lt;QuickTileMode&gt;(&amp;<ref refid="class_k_win_1_1_window_1a85e581a5d27c42ac61ba665b48b6ccd8" kindref="member">m_electricMode</ref>.value()))<sp/>{</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac21b2eb64cb5abacbe9015e592c6c935" kindref="member">setQuickTileMode</ref>(*<ref refid="class_k_win_1_1_window_1a771c32db912a7dca82da5fd3f9fe5fa8" kindref="member">quickTileMode</ref>,<sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.anchor);</highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aacb57e092c7155d3745e3964c7745ba3" kindref="member">maximizeMode</ref><sp/>=<sp/>std::get_if&lt;MaximizeMode&gt;(&amp;<ref refid="class_k_win_1_1_window_1a85e581a5d27c42ac61ba665b48b6ccd8" kindref="member">m_electricMode</ref>.value()))<sp/>{</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">maximize</ref>(*<ref refid="class_k_win_1_1_window_1aacb57e092c7155d3745e3964c7745ba3" kindref="member">maximizeMode</ref>,<sp/><ref refid="class_k_win_1_1_window_1a30324ba0bf9c10338dd809187d7ab87e" kindref="member">m_electricGeometryRestore</ref>);</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8daebb2d16d0caf9dd9e9db6322b47de" kindref="member">setElectricBorderMaximizing</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(wasMove<sp/>&amp;&amp;<sp/>(<ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.modifiers<sp/>&amp;<sp/>Qt::ShiftModifier))<sp/>{</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac21b2eb64cb5abacbe9015e592c6c935" kindref="member">setQuickTileMode</ref>(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa90589c47f06eb971d548591f23c285af" kindref="member">QuickTileFlag::Custom</ref>,<sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.anchor);</highlight></codeline>
<codeline lineno="1214"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1215"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a57e519ab516032f0d9d74016c1229f1d" kindref="member">setElectricBorderMode</ref>(std::nullopt);</highlight></codeline>
<codeline lineno="1216"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a671835e2cd6b50e22a103101524a56c5" kindref="member">outline</ref>()-&gt;<ref refid="class_k_win_1_1_outline_1a0022a694a3b9694a3e8f17a33cad5e7f" kindref="member">hide</ref>();</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"></highlight></codeline>
<codeline lineno="1218"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.counter++;</highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a6e7ab55b455103df20931b548729169a" kindref="member">interactiveMoveResizeFinished</ref>();</highlight></codeline>
<codeline lineno="1220"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1221"><highlight class="normal"></highlight></codeline>
<codeline lineno="1222"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>checks<sp/>if<sp/>it<sp/>actually<sp/>makes<sp/>sense<sp/>to<sp/>perform<sp/>a<sp/>restricted<sp/>move/resize.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1223"><highlight class="normal"></highlight><highlight class="comment">//<sp/>If<sp/>e.g.<sp/>the<sp/>titlebar<sp/>is<sp/>already<sp/>outside<sp/>of<sp/>the<sp/>workarea,<sp/>there&apos;s<sp/>no<sp/>point<sp/>in<sp/>performing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1224"><highlight class="normal"></highlight><highlight class="comment">//<sp/>a<sp/>restricted<sp/>move<sp/>resize,<sp/>because<sp/>then<sp/>e.g.<sp/>resize<sp/>would<sp/>also<sp/>move<sp/>the<sp/>window<sp/>(#74555).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1225"><highlight class="normal"></highlight><highlight class="comment">//<sp/>NOTE:<sp/>Most<sp/>of<sp/>it<sp/>is<sp/>duplicated<sp/>from<sp/>handleMoveResize().</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1226" refid="class_k_win_1_1_window_1a15a841d9d2201aa7b90f24168632ff4c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a15a841d9d2201aa7b90f24168632ff4c" kindref="member">Window::checkUnrestrictedInteractiveMoveResize</ref>()</highlight></codeline>
<codeline lineno="1227"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a39aab7cbfbd4db666f1c5dce5028a2a6" kindref="member">isUnrestrictedInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1230"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;moveResizeGeom<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="1232"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>desktopArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a1efc2ac8ca9fc5e3accf195e0e0b708e" kindref="member">clientArea</ref>(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22af0d9b81a7df9288de5507e7eb1651297" kindref="member">WorkArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>moveResizeGeom.center());</highlight></codeline>
<codeline lineno="1233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>left_marge,<sp/>right_marge,<sp/>top_marge,<sp/>bottom_marge;</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>restricted<sp/>move/resize<sp/>-<sp/>keep<sp/>at<sp/>least<sp/>part<sp/>of<sp/>the<sp/>titlebar<sp/>always<sp/>visible</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>how<sp/>much<sp/>must<sp/>remain<sp/>visible<sp/>when<sp/>moved<sp/>away<sp/>in<sp/>that<sp/>direction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1236"><highlight class="normal"><sp/><sp/><sp/><sp/>left_marge<sp/>=<sp/>std::min(100.<sp/>+<sp/><ref refid="class_k_win_1_1_window_1a3309d429b01d3670e9fcf4f54917ce46" kindref="member">borderRight</ref>(),<sp/>moveResizeGeom.width());</highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/>right_marge<sp/>=<sp/>std::min(100.<sp/>+<sp/><ref refid="class_k_win_1_1_window_1a704f2db4a15f2ca4e6ae0b163e73c708" kindref="member">borderLeft</ref>(),<sp/>moveResizeGeom.width());</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/>top_marge<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a7b47bcdf2ffd2ba3113725d2ebfaf822" kindref="member">borderBottom</ref>();</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/>bottom_marge<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a079dfba93240f19cadab52f478e48e84" kindref="member">borderTop</ref>();</highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a6994e3aab2074f1b07c15c2f51629363" kindref="member">isInteractiveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(moveResizeGeom.bottom()<sp/>&lt;<sp/>desktopArea.top()<sp/>+<sp/>top_marge)<sp/>{</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a78a086d817f68eeedf87e3e49706b3da" kindref="member">setUnrestrictedInteractiveMoveResize</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(moveResizeGeom.top()<sp/>&gt;<sp/>desktopArea.bottom()<sp/>-<sp/>bottom_marge)<sp/>{</highlight></codeline>
<codeline lineno="1245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a78a086d817f68eeedf87e3e49706b3da" kindref="member">setUnrestrictedInteractiveMoveResize</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(moveResizeGeom.right()<sp/>&lt;<sp/>desktopArea.left()<sp/>+<sp/>left_marge)<sp/>{</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a78a086d817f68eeedf87e3e49706b3da" kindref="member">setUnrestrictedInteractiveMoveResize</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(moveResizeGeom.left()<sp/>&gt;<sp/>desktopArea.right()<sp/>-<sp/>right_marge)<sp/>{</highlight></codeline>
<codeline lineno="1251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a78a086d817f68eeedf87e3e49706b3da" kindref="member">setUnrestrictedInteractiveMoveResize</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a39aab7cbfbd4db666f1c5dce5028a2a6" kindref="member">isUnrestrictedInteractiveMoveResize</ref>()<sp/>&amp;&amp;<sp/>moveResizeGeom.top()<sp/>&lt;<sp/>desktopArea.top())<sp/>{<sp/></highlight><highlight class="comment">//<sp/>titlebar<sp/>mustn&apos;t<sp/>go<sp/>out</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a78a086d817f68eeedf87e3e49706b3da" kindref="member">setUnrestrictedInteractiveMoveResize</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1256"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1257"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"></highlight></codeline>
<codeline lineno="1259"><highlight class="normal"></highlight><highlight class="comment">//<sp/>When<sp/>the<sp/>user<sp/>pressed<sp/>mouse<sp/>on<sp/>the<sp/>titlebar,<sp/>don&apos;t<sp/>activate<sp/>move<sp/>immediately,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1260"><highlight class="normal"></highlight><highlight class="comment">//<sp/>since<sp/>it<sp/>may<sp/>be<sp/>just<sp/>a<sp/>click.<sp/>Activate<sp/>instead<sp/>after<sp/>a<sp/>delay.<sp/>Move<sp/>used<sp/>to<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1261"><highlight class="normal"></highlight><highlight class="comment">//<sp/>activated<sp/>only<sp/>after<sp/>moving<sp/>by<sp/>several<sp/>pixels,<sp/>but<sp/>that<sp/>looks<sp/>bad.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1262" refid="class_k_win_1_1_window_1a30f65669aaec9f5dda9b01d987466f7b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a30f65669aaec9f5dda9b01d987466f7b" kindref="member">Window::startDelayedInteractiveMoveResize</ref>()</highlight></codeline>
<codeline lineno="1263"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT(!<ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.delayedTimer);</highlight></codeline>
<codeline lineno="1268"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.delayedTimer<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>QTimer(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.delayedTimer-&gt;setSingleShot(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.delayedTimer,<sp/>&amp;QTimer::timeout,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_ASSERT(isInteractiveMoveResizePointerButtonDown());</highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(!startInteractiveMoveResize())<sp/>{</highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setInteractiveMoveResizePointerButtonDown(false);</highlight></codeline>
<codeline lineno="1274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">updateCursor</ref>();</highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af36f8d8979cc3ffb49d244fd04541f0f" kindref="member">stopDelayedInteractiveMoveResize</ref>();</highlight></codeline>
<codeline lineno="1277"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1278"><highlight class="normal"><sp/><sp/><sp/><sp/>m_interactiveMoveResize.delayedTimer-&gt;start(QApplication::startDragTime());</highlight></codeline>
<codeline lineno="1279"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1280"><highlight class="normal"></highlight></codeline>
<codeline lineno="1281" refid="class_k_win_1_1_window_1af36f8d8979cc3ffb49d244fd04541f0f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af36f8d8979cc3ffb49d244fd04541f0f" kindref="member">Window::stopDelayedInteractiveMoveResize</ref>()</highlight></codeline>
<codeline lineno="1282"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.delayedTimer;</highlight></codeline>
<codeline lineno="1284"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.delayedTimer<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1285"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1286"><highlight class="normal"></highlight></codeline>
<codeline lineno="1287" refid="class_k_win_1_1_window_1aa144f13367344f7c18bb8cd178464763" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aa144f13367344f7c18bb8cd178464763" kindref="member">Window::updateInteractiveMoveResize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;global,<sp/>Qt::KeyboardModifiers<sp/><ref refid="class_k_win_1_1_window_1ac363a722e88080cf4a00495866de7f4d" kindref="member">modifiers</ref>)</highlight></codeline>
<codeline lineno="1288"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a419a9bbda60e3f84216574ec05f4787a" kindref="member">setInteractiveMoveResizeAnchor</ref>(global);</highlight></codeline>
<codeline lineno="1290"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a00035dedbdce6b18de9f323c8a12ebac" kindref="member">setInteractiveMoveResizeModifiers</ref>(<ref refid="class_k_win_1_1_window_1ac363a722e88080cf4a00495866de7f4d" kindref="member">modifiers</ref>);</highlight></codeline>
<codeline lineno="1291"><highlight class="normal"></highlight></codeline>
<codeline lineno="1292"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ShadeHover<sp/>or<sp/>ShadeActive,<sp/>ShadeNormal<sp/>was<sp/>already<sp/>avoided<sp/>above</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8" kindref="member">Gravity</ref><sp/><ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb3ff3e9e2c5fe0b4816948a52cb58a6" kindref="member">interactiveMoveResizeGravity</ref>();</highlight></codeline>
<codeline lineno="1294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref><sp/>!=<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a6adf97f83acf6453d4a6a4b1070f3754" kindref="member">Gravity::None</ref><sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1abfa6caaf2d5624a4cdd2b49d20ed228c" kindref="member">shadeMode</ref>()<sp/>!=<sp/><ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585fa96968d2418f89776544aadc16404b6d4" kindref="member">ShadeNone</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">setShade</ref>(<ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585fa96968d2418f89776544aadc16404b6d4" kindref="member">ShadeNone</ref>);</highlight></codeline>
<codeline lineno="1296"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1297"><highlight class="normal"></highlight></codeline>
<codeline lineno="1298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>currentMoveResizeGeom<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="1299"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>nextMoveResizeGeom<sp/>=<sp/>currentMoveResizeGeom;</highlight></codeline>
<codeline lineno="1300"><highlight class="normal"></highlight></codeline>
<codeline lineno="1301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a6994e3aab2074f1b07c15c2f51629363" kindref="member">isInteractiveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a340e12bfbaf12ad16dc20e49e1fda8ee" kindref="member">isWaitingForInteractiveResizeSync</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>we&apos;re<sp/>still<sp/>waiting<sp/>for<sp/>the<sp/>client<sp/>or<sp/>the<sp/>timeout</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1305"><highlight class="normal"></highlight></codeline>
<codeline lineno="1306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a19c97e72ee45549f09b9b6fd62c97e73" kindref="member">m_tile</ref><sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1a19c97e72ee45549f09b9b6fd62c97e73" kindref="member">m_tile</ref>-&gt;supportsResizeGravity(<ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a19c97e72ee45549f09b9b6fd62c97e73" kindref="member">m_tile</ref>-&gt;resizeFromGravity(<ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref>,<sp/>global.x(),<sp/>global.y());</highlight></codeline>
<codeline lineno="1308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1310"><highlight class="normal"></highlight></codeline>
<codeline lineno="1311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a695c280f8767b14eced4e9dbd0422431" kindref="member">nextInteractiveResizeGeometry</ref>(global);</highlight></codeline>
<codeline lineno="1312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nextMoveResizeGeom<sp/>!=<sp/>currentMoveResizeGeom)<sp/>{</highlight></codeline>
<codeline lineno="1313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a19c97e72ee45549f09b9b6fd62c97e73" kindref="member">m_tile</ref><sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a19c97e72ee45549f09b9b6fd62c97e73" kindref="member">m_tile</ref>-&gt;supportsResizeGravity(<ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9372354c3330f992f28ca6e6fb22d700" kindref="member">setGeometryRestore</ref>(nextMoveResizeGeom);</highlight></codeline>
<codeline lineno="1315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aa0a1368e7290795e7c7ed6d32c97d0de" kindref="member">setQuickTileModeAtCurrentPosition</ref>(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>);</highlight></codeline>
<codeline lineno="1316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1318"><highlight class="normal"></highlight></codeline>
<codeline lineno="1319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>!=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aeb3ff3e9e2c5fe0b4816948a52cb58a6" kindref="member">interactiveMoveResizeGravity</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Gravity::Left</ref>:</highlight></codeline>
<codeline lineno="1322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a92b09c7c48c520c3c55e497875da437c" kindref="member">Gravity::Right</ref>:</highlight></codeline>
<codeline lineno="1323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Quit<sp/>maximized<sp/>horizontally<sp/>state<sp/>if<sp/>the<sp/>window<sp/>is<sp/>resized<sp/>horizontally.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9aac06708e540fd3823add3d1fc048876d" kindref="member">MaximizeHorizontal</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRectF<sp/>originalGeometry<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5f94086b4bce785556425c530c59dbaf" kindref="member">geometryRestore</ref>();</highlight></codeline>
<codeline lineno="1326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>originalGeometry.setX(nextMoveResizeGeom.x());</highlight></codeline>
<codeline lineno="1327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>originalGeometry.setWidth(nextMoveResizeGeom.width());</highlight></codeline>
<codeline lineno="1328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">maximize</ref>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>^<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9aac06708e540fd3823add3d1fc048876d" kindref="member">MaximizeHorizontal</ref>,<sp/>originalGeometry);</highlight></codeline>
<codeline lineno="1329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Gravity::Top</ref>:</highlight></codeline>
<codeline lineno="1333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Gravity::Bottom</ref>:</highlight></codeline>
<codeline lineno="1334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Quit<sp/>maximized<sp/>vertically<sp/>state<sp/>if<sp/>the<sp/>window<sp/>is<sp/>resized<sp/>vertically.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a21499d1263beb477425205b49fca8ef1" kindref="member">MaximizeVertical</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRectF<sp/>originalGeometry<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5f94086b4bce785556425c530c59dbaf" kindref="member">geometryRestore</ref>();</highlight></codeline>
<codeline lineno="1337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>originalGeometry.setY(nextMoveResizeGeom.y());</highlight></codeline>
<codeline lineno="1338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>originalGeometry.setHeight(nextMoveResizeGeom.height());</highlight></codeline>
<codeline lineno="1339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">maximize</ref>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>^<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a21499d1263beb477425205b49fca8ef1" kindref="member">MaximizeVertical</ref>,<sp/>originalGeometry);</highlight></codeline>
<codeline lineno="1340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8ab32beb056fbfe36afbabc6c88c81ab36" kindref="member">Gravity::TopLeft</ref>:</highlight></codeline>
<codeline lineno="1344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a98e5a1c44509157ebcaf46c515c78875" kindref="member">Gravity::BottomLeft</ref>:</highlight></codeline>
<codeline lineno="1345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a1d85a557894c340c318493f33bfa8efb" kindref="member">Gravity::TopRight</ref>:</highlight></codeline>
<codeline lineno="1346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a9146bfc669fddc88db2c4d89297d0e9a" kindref="member">Gravity::BottomRight</ref>:</highlight></codeline>
<codeline lineno="1347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Quit<sp/>the<sp/>maximized<sp/>mode<sp/>if<sp/>the<sp/>window<sp/>is<sp/>resized<sp/>by<sp/>dragging<sp/>one<sp/>of<sp/>its<sp/>corners.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">maximize</ref>(<ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>,<sp/>nextMoveResizeGeom);</highlight></codeline>
<codeline lineno="1349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_UNREACHABLE();</highlight></codeline>
<codeline lineno="1352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1354"><highlight class="normal"></highlight></codeline>
<codeline lineno="1355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a73ece0a5a9b6157cb1c10461a3ccb1fe" kindref="member">doInteractiveResizeSync</ref>(nextMoveResizeGeom);</highlight></codeline>
<codeline lineno="1356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a230ebb5d4b374435787377b7cb97ce4d" kindref="member">interactiveMoveResizeStepped</ref>(nextMoveResizeGeom);</highlight></codeline>
<codeline lineno="1357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1358"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1b63155365b80df09ad34dc75f15102d" kindref="member">isInteractiveMove</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a4b695bf258e4c855a72d9c832e0ae4b9" kindref="member">isRequestedFullScreen</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a2563a6e9cbb4da3bfb726a990f05895c" kindref="member">FullScreenArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>global);</highlight></codeline>
<codeline lineno="1361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/><ref refid="class_k_win_1_1_window_1ad599d6c840d9fd09232e753638a16b54" kindref="member">nextInteractiveMoveGeometry</ref>(global);</highlight></codeline>
<codeline lineno="1363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1364"><highlight class="normal"></highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nextMoveResizeGeom<sp/>!=<sp/>currentMoveResizeGeom)<sp/>{</highlight></codeline>
<codeline lineno="1366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a4b695bf258e4c855a72d9c832e0ae4b9" kindref="member">isRequestedFullScreen</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aacb57e092c7155d3745e3964c7745ba3" kindref="member">maximizeMode</ref>()<sp/>!=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aacb57e092c7155d3745e3964c7745ba3" kindref="member">maximizeMode</ref>()<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9aac06708e540fd3823add3d1fc048876d" kindref="member">MaximizeHorizontal</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nextMoveResizeGeom.x()<sp/>!=<sp/>currentMoveResizeGeom.x()<sp/>||<sp/>nextMoveResizeGeom.width()<sp/>!=<sp/>currentMoveResizeGeom.width())<sp/>{</highlight></codeline>
<codeline lineno="1370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">maximize</ref>(<ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>);</highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aacb57e092c7155d3745e3964c7745ba3" kindref="member">maximizeMode</ref>()<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a21499d1263beb477425205b49fca8ef1" kindref="member">MaximizeVertical</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nextMoveResizeGeom.y()<sp/>!=<sp/>currentMoveResizeGeom.y()<sp/>||<sp/>nextMoveResizeGeom.height()<sp/>!=<sp/>currentMoveResizeGeom.height())<sp/>{</highlight></codeline>
<codeline lineno="1376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">maximize</ref>(<ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>);</highlight></codeline>
<codeline lineno="1377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a771c32db912a7dca82da5fd3f9fe5fa8" kindref="member">quickTileMode</ref>()<sp/>!=<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aa0a1368e7290795e7c7ed6d32c97d0de" kindref="member">setQuickTileModeAtCurrentPosition</ref>(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>);</highlight></codeline>
<codeline lineno="1382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1385"><highlight class="normal"></highlight></codeline>
<codeline lineno="1386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6dc0bc3b6fedf55e01d0db0ee508b320" kindref="member">move</ref>(nextMoveResizeGeom.topLeft());</highlight></codeline>
<codeline lineno="1387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a230ebb5d4b374435787377b7cb97ce4d" kindref="member">interactiveMoveResizeStepped</ref>(nextMoveResizeGeom);</highlight></codeline>
<codeline lineno="1388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1389"><highlight class="normal"></highlight></codeline>
<codeline lineno="1390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a4b695bf258e4c855a72d9c832e0ae4b9" kindref="member">isRequestedFullScreen</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ac363a722e88080cf4a00495866de7f4d" kindref="member">modifiers</ref><sp/>&amp;<sp/>Qt::ShiftModifier)<sp/>{</highlight></codeline>
<codeline lineno="1392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aa5afd7d435f68d9fdfe23ae20b954bc6" kindref="member">resetQuickTilingMaximizationZones</ref>();</highlight></codeline>
<codeline lineno="1393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;r<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aee9db3fc7ca52ecdaf42b7a77137c238" kindref="member">quickTileGeometry</ref>(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa90589c47f06eb971d548591f23c285af" kindref="member">QuickTileFlag::Custom</ref>,<sp/>global);</highlight></codeline>
<codeline lineno="1394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(r.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="1395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outline()-&gt;hide();</highlight></codeline>
<codeline lineno="1396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_window_1a80c872dfd7f84fdcb120dbdcefd28e72" kindref="member">outline</ref>()-&gt;<ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>()<sp/>||<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_window_1a80c872dfd7f84fdcb120dbdcefd28e72" kindref="member">outline</ref>()-&gt;geometry()<sp/>!=<sp/>r.toRect())<sp/>{</highlight></codeline>
<codeline lineno="1398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outline()-&gt;show(r.toRect(),<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>().toRect());</highlight></codeline>
<codeline lineno="1399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a771c32db912a7dca82da5fd3f9fe5fa8" kindref="member">quickTileMode</ref>()<sp/>==<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>)<sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1aca7dbc7f62bb563afea5583e128a4afb" kindref="member">isResizable</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a841ef2a66e586b3cfb6aadd65e179419" kindref="member">checkQuickTilingMaximizationZones</ref>(global.x(),<sp/>global.y());</highlight></codeline>
<codeline lineno="1404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a12c2b2f6f08bc682b5709b0b31835af2" kindref="member">m_electricMaximizing</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Only<sp/>if<sp/>we<sp/>are<sp/>in<sp/>an<sp/>electric<sp/>maximizing<sp/>gesture<sp/>we<sp/>should<sp/>keep<sp/>the<sp/>outline,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>otherwise<sp/>we<sp/>must<sp/>make<sp/>sure<sp/>it&apos;s<sp/>hidden</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outline()-&gt;hide();</highlight></codeline>
<codeline lineno="1409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1412"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1413"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1414"><highlight class="normal"></highlight></codeline>
<codeline lineno="1415" refid="class_k_win_1_1_window_1af6431be1b6486b44c17c218703fe5c28" refkind="member"><highlight class="normal">qreal<sp/><ref refid="class_k_win_1_1_window_1af6431be1b6486b44c17c218703fe5c28" kindref="member">Window::titlebarThickness</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1416"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1af44c993eea122ea90d4b1aa4cd8de38c" kindref="member">titlebarPosition</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1418"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::LeftEdge:</highlight></codeline>
<codeline lineno="1419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a704f2db4a15f2ca4e6ae0b163e73c708" kindref="member">borderLeft</ref>();</highlight></codeline>
<codeline lineno="1420"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::BottomEdge:</highlight></codeline>
<codeline lineno="1421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7b47bcdf2ffd2ba3113725d2ebfaf822" kindref="member">borderBottom</ref>();</highlight></codeline>
<codeline lineno="1422"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::RightEdge:</highlight></codeline>
<codeline lineno="1423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3309d429b01d3670e9fcf4f54917ce46" kindref="member">borderRight</ref>();</highlight></codeline>
<codeline lineno="1424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::TopEdge:</highlight></codeline>
<codeline lineno="1425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a079dfba93240f19cadab52f478e48e84" kindref="member">borderTop</ref>();</highlight></codeline>
<codeline lineno="1427"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1428"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1429"><highlight class="normal"></highlight></codeline>
<codeline lineno="1441"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>QRegion<sp/>interactiveMoveResizeVisibleSubrectRegion(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;geometry,<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8" kindref="member">Gravity</ref><sp/>gravity,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>minWidth,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>minHeight)</highlight></codeline>
<codeline lineno="1442"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>outputs<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputs();</highlight></codeline>
<codeline lineno="1444"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>struts<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;restrictedMoveArea(VirtualDesktopManager::self()-&gt;currentDesktop());</highlight></codeline>
<codeline lineno="1445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>availableArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22ae101469eee96aace48208a1b5902e380" kindref="member">FullArea</ref>,<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;activeOutput(),<sp/>VirtualDesktopManager::self()-&gt;currentDesktop());</highlight></codeline>
<codeline lineno="1446"><highlight class="normal"></highlight></codeline>
<codeline lineno="1447"><highlight class="normal"><sp/><sp/><sp/><sp/>QRegion<sp/>offscreenArea(availableArea.toAlignedRect());</highlight></codeline>
<codeline lineno="1448"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*output<sp/>:<sp/>outputs)<sp/>{</highlight></codeline>
<codeline lineno="1449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>offscreenArea<sp/>-=<sp/>output-&gt;geometry();</highlight></codeline>
<codeline lineno="1450"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1451"><highlight class="normal"></highlight></codeline>
<codeline lineno="1452"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>QRectF<sp/>is<sp/>used<sp/>because<sp/>QRect::right()<sp/>returns<sp/>left()<sp/>+<sp/>width()<sp/>-<sp/>1;<sp/>QRectF::right()<sp/>returns<sp/>left()<sp/>+<sp/>width()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1453"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>initialRect<sp/>=<sp/>availableArea;</highlight></codeline>
<codeline lineno="1454"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(gravity)<sp/>{</highlight></codeline>
<codeline lineno="1455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::None:</highlight></codeline>
<codeline lineno="1456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Top:</highlight></codeline>
<codeline lineno="1457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>resizing<sp/>from<sp/>the<sp/>top<sp/>is<sp/>handled<sp/>like<sp/>moving<sp/>the<sp/>window<sp/>to<sp/>avoid<sp/>zero<sp/>width<sp/>rectangles<sp/>when<sp/>window<sp/>width<sp/>is<sp/>equal<sp/>to<sp/>minWidth</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initialRect.adjust(0,<sp/>0,<sp/>-minWidth,<sp/>-minHeight);</highlight></codeline>
<codeline lineno="1459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Left:</highlight></codeline>
<codeline lineno="1461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::TopLeft:</highlight></codeline>
<codeline lineno="1462"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::BottomLeft:</highlight></codeline>
<codeline lineno="1463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initialRect.setRight(std::min(initialRect.right(),<sp/>geometry.right()));</highlight></codeline>
<codeline lineno="1464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initialRect.setBottom(std::min(initialRect.bottom(),<sp/>geometry.bottom()));</highlight></codeline>
<codeline lineno="1465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initialRect.adjust(0,<sp/>0,<sp/>-minWidth,<sp/>-minHeight);</highlight></codeline>
<codeline lineno="1466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1467"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Right:</highlight></codeline>
<codeline lineno="1468"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::TopRight:</highlight></codeline>
<codeline lineno="1469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::BottomRight:</highlight></codeline>
<codeline lineno="1470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initialRect.setLeft(std::max(initialRect.left(),<sp/>geometry.left()));</highlight></codeline>
<codeline lineno="1471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initialRect.setBottom(std::min(initialRect.bottom(),<sp/>geometry.bottom()));</highlight></codeline>
<codeline lineno="1472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initialRect.adjust(minWidth,<sp/>0,<sp/>0,<sp/>-minHeight);</highlight></codeline>
<codeline lineno="1473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_UNREACHABLE();</highlight></codeline>
<codeline lineno="1476"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1477"><highlight class="normal"><sp/><sp/><sp/><sp/>QRegion<sp/>availableRegion(initialRect.toAlignedRect());</highlight></codeline>
<codeline lineno="1478"><highlight class="normal"></highlight></codeline>
<codeline lineno="1479"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(gravity)<sp/>{</highlight></codeline>
<codeline lineno="1480"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::None:</highlight></codeline>
<codeline lineno="1481"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Top:</highlight></codeline>
<codeline lineno="1482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Left:</highlight></codeline>
<codeline lineno="1483"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::TopLeft:</highlight></codeline>
<codeline lineno="1484"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::BottomLeft:</highlight></codeline>
<codeline lineno="1485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;rect<sp/>:<sp/>struts)<sp/>{</highlight></codeline>
<codeline lineno="1486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>availableRegion<sp/>-=<sp/>rect.adjusted(-minWidth,<sp/>-minHeight,<sp/>0,<sp/>0);</highlight></codeline>
<codeline lineno="1487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;rect<sp/>:<sp/>offscreenArea)<sp/>{</highlight></codeline>
<codeline lineno="1489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>availableRegion<sp/>-=<sp/>rect.adjusted(-minWidth,<sp/>-minHeight,<sp/>0,<sp/>0);</highlight></codeline>
<codeline lineno="1490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Right:</highlight></codeline>
<codeline lineno="1493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::TopRight:</highlight></codeline>
<codeline lineno="1494"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::BottomRight:</highlight></codeline>
<codeline lineno="1495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;rect<sp/>:<sp/>struts)<sp/>{</highlight></codeline>
<codeline lineno="1496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>availableRegion<sp/>-=<sp/>rect.adjusted(0,<sp/>-minHeight,<sp/>minWidth,<sp/>0);</highlight></codeline>
<codeline lineno="1497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;rect<sp/>:<sp/>offscreenArea)<sp/>{</highlight></codeline>
<codeline lineno="1499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>availableRegion<sp/>-=<sp/>rect.adjusted(0,<sp/>-minHeight,<sp/>minWidth,<sp/>0);</highlight></codeline>
<codeline lineno="1500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1502"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_UNREACHABLE();</highlight></codeline>
<codeline lineno="1504"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1505"><highlight class="normal"></highlight></codeline>
<codeline lineno="1506"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>availableRegion;</highlight></codeline>
<codeline lineno="1507"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1508"><highlight class="normal"></highlight></codeline>
<codeline lineno="1514"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>std::optional&lt;QPointF&gt;<sp/>confineInteractiveMove(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;geometry,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>minVisibleWidth,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>minVisibleHeight)</highlight></codeline>
<codeline lineno="1515"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1516"><highlight class="normal"><sp/><sp/><sp/><sp/>std::optional&lt;QPointF&gt;<sp/>candidate;</highlight></codeline>
<codeline lineno="1517"><highlight class="normal"><sp/><sp/><sp/><sp/>qreal<sp/>bestScore;</highlight></codeline>
<codeline lineno="1518"><highlight class="normal"></highlight></codeline>
<codeline lineno="1519"><highlight class="normal"><sp/><sp/><sp/><sp/>minVisibleWidth<sp/>=<sp/>std::min(std::floor(geometry.width()),<sp/>qreal(minVisibleWidth));</highlight></codeline>
<codeline lineno="1520"><highlight class="normal"></highlight></codeline>
<codeline lineno="1521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRegion<sp/>visibleSubrectRegion<sp/>=<sp/>interactiveMoveResizeVisibleSubrectRegion(geometry,<sp/>Gravity::None,<sp/>minVisibleWidth,<sp/>minVisibleHeight);</highlight></codeline>
<codeline lineno="1522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>anchor<sp/>=<sp/>geometry.topLeft();</highlight></codeline>
<codeline lineno="1523"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(QRect<sp/>rect<sp/>:<sp/>visibleSubrectRegion)<sp/>{</highlight></codeline>
<codeline lineno="1524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>convert<sp/>visibleSubrect<sp/>top<sp/>left<sp/>to<sp/>window<sp/>top<sp/>left</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Allow<sp/>the<sp/>window<sp/>to<sp/>be<sp/>moved<sp/>&quot;geometry.width()<sp/>-<sp/>minVisibleWidth&quot;<sp/>pixels<sp/>offscreen<sp/>to<sp/>the<sp/>left</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rect.setLeft(rect.left()<sp/>-<sp/>geometry.width()<sp/>+<sp/>minVisibleWidth);</highlight></codeline>
<codeline lineno="1527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>closest(std::clamp&lt;qreal&gt;(anchor.x(),<sp/>rect.x(),<sp/>rect.x()<sp/>+<sp/>rect.width()),</highlight></codeline>
<codeline lineno="1528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::clamp&lt;qreal&gt;(anchor.y(),<sp/>rect.y(),<sp/>rect.y()<sp/>+<sp/>rect.height()));</highlight></codeline>
<codeline lineno="1529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>qreal<sp/>score<sp/>=<sp/>QLineF(anchor,<sp/>closest).length();</highlight></codeline>
<codeline lineno="1530"><highlight class="normal"></highlight></codeline>
<codeline lineno="1531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!candidate<sp/>||<sp/>score<sp/>&lt;<sp/>bestScore)<sp/>{</highlight></codeline>
<codeline lineno="1532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidate<sp/>=<sp/>closest;</highlight></codeline>
<codeline lineno="1533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bestScore<sp/>=<sp/>score;</highlight></codeline>
<codeline lineno="1534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1535"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1536"><highlight class="normal"></highlight></codeline>
<codeline lineno="1537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>candidate;</highlight></codeline>
<codeline lineno="1538"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1539"><highlight class="normal"></highlight></codeline>
<codeline lineno="1549"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>std::optional&lt;QPointF&gt;<sp/>confineInteractiveResize(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;geometry,<sp/>Gravity<sp/>gravity,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>minVisibleWidth,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>minVisibleHeight)</highlight></codeline>
<codeline lineno="1550"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1551"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gravity<sp/>==<sp/>Gravity::Bottom)<sp/>{</highlight></codeline>
<codeline lineno="1552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QPointF<sp/>candidate<sp/>=<sp/>geometry.bottomLeft();</highlight></codeline>
<codeline lineno="1553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geometry.height()<sp/>&lt;<sp/>minVisibleHeight)<sp/>{</highlight></codeline>
<codeline lineno="1554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidate.setY(geometry.top()<sp/>+<sp/>minVisibleHeight);</highlight></codeline>
<codeline lineno="1555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>candidate;</highlight></codeline>
<codeline lineno="1557"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1558"><highlight class="normal"></highlight></codeline>
<codeline lineno="1559"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(gravity<sp/>==<sp/>Gravity::Top)<sp/>{</highlight></codeline>
<codeline lineno="1560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>only<sp/>in<sp/>this<sp/>case<sp/>is<sp/>the<sp/>width<sp/>of<sp/>the<sp/>window<sp/>fixed<sp/>during<sp/>resize</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>minVisibleWidth<sp/>=<sp/>std::min(std::floor(geometry.width()),<sp/>qreal(minVisibleWidth));</highlight></codeline>
<codeline lineno="1562"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1563"><highlight class="normal"></highlight></codeline>
<codeline lineno="1564"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRegion<sp/>visibleSubrectRegion<sp/>=<sp/>interactiveMoveResizeVisibleSubrectRegion(geometry,<sp/>gravity,<sp/>minVisibleWidth,<sp/>minVisibleHeight);</highlight></codeline>
<codeline lineno="1565"><highlight class="normal"><sp/><sp/><sp/><sp/>QPointF<sp/>anchor;</highlight></codeline>
<codeline lineno="1566"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(gravity)<sp/>{</highlight></codeline>
<codeline lineno="1567"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Top:</highlight></codeline>
<codeline lineno="1568"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Left:</highlight></codeline>
<codeline lineno="1569"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::TopLeft:</highlight></codeline>
<codeline lineno="1570"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::BottomLeft:</highlight></codeline>
<codeline lineno="1571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>anchor<sp/>=<sp/>geometry.topLeft();</highlight></codeline>
<codeline lineno="1572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1573"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Right:</highlight></codeline>
<codeline lineno="1574"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::TopRight:</highlight></codeline>
<codeline lineno="1575"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::BottomRight:</highlight></codeline>
<codeline lineno="1576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>anchor<sp/>=<sp/>geometry.topRight();</highlight></codeline>
<codeline lineno="1577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1578"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_UNREACHABLE();</highlight></codeline>
<codeline lineno="1580"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1581"><highlight class="normal"></highlight></codeline>
<codeline lineno="1582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>clampPoint<sp/>=<sp/>[](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;rect,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;point)<sp/>{</highlight></codeline>
<codeline lineno="1583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QPointF(std::clamp(point.x(),<sp/>rect.x(),<sp/>rect.x()<sp/>+<sp/>rect.width()),</highlight></codeline>
<codeline lineno="1584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::clamp(point.y(),<sp/>rect.y(),<sp/>rect.y()<sp/>+<sp/>rect.height()));</highlight></codeline>
<codeline lineno="1585"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1586"><highlight class="normal"></highlight></codeline>
<codeline lineno="1587"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>calculate<sp/>distance,<sp/>considering<sp/>movement<sp/>constraints<sp/>in<sp/>the<sp/>different<sp/>modes<sp/>of<sp/>resizing</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1588"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>calcDistance<sp/>=<sp/>[gravity](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;source,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;dest)<sp/>{</highlight></codeline>
<codeline lineno="1589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(gravity)<sp/>{</highlight></codeline>
<codeline lineno="1590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Top:</highlight></codeline>
<codeline lineno="1591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>when<sp/>resizing<sp/>top<sp/>edge,<sp/>no<sp/>horizontal<sp/>movement<sp/>is<sp/>allowed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!qFuzzyCompare(dest.x(),<sp/>source.x()))<sp/>{</highlight></codeline>
<codeline lineno="1593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::numeric_limits&lt;qreal&gt;::max();</highlight></codeline>
<codeline lineno="1594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Left:</highlight></codeline>
<codeline lineno="1597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Right:</highlight></codeline>
<codeline lineno="1598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::BottomLeft:</highlight></codeline>
<codeline lineno="1599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::BottomRight:</highlight></codeline>
<codeline lineno="1600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>these<sp/>cases,<sp/>no<sp/>vertical<sp/>movement<sp/>is<sp/>allowed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!qFuzzyCompare(dest.y(),<sp/>source.y()))<sp/>{</highlight></codeline>
<codeline lineno="1602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::numeric_limits&lt;qreal&gt;::max();</highlight></codeline>
<codeline lineno="1603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QLineF(source,<sp/>dest).length();</highlight></codeline>
<codeline lineno="1609"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1610"><highlight class="normal"></highlight></codeline>
<codeline lineno="1611"><highlight class="normal"><sp/><sp/><sp/><sp/>std::optional&lt;QPointF&gt;<sp/>candidate;</highlight></codeline>
<codeline lineno="1612"><highlight class="normal"><sp/><sp/><sp/><sp/>qreal<sp/>bestScore;</highlight></codeline>
<codeline lineno="1613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>availableArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;<ref refid="class_k_win_1_1_workspace_1a1efc2ac8ca9fc5e3accf195e0e0b708e" kindref="member">clientArea</ref>(FullArea,<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;activeOutput(),<sp/>VirtualDesktopManager::self()-&gt;currentDesktop());</highlight></codeline>
<codeline lineno="1614"><highlight class="normal"></highlight></codeline>
<codeline lineno="1615"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(gravity)<sp/>{</highlight></codeline>
<codeline lineno="1616"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Top:</highlight></codeline>
<codeline lineno="1617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>resizing<sp/>from<sp/>the<sp/>top<sp/>is<sp/>handled<sp/>like<sp/>moving<sp/>the<sp/>window<sp/>to<sp/>avoid<sp/>zero<sp/>width<sp/>rectangles<sp/>when<sp/>window<sp/>width<sp/>is<sp/>equal<sp/>to<sp/>minVisibleWidth</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(QRect<sp/>rect<sp/>:<sp/>visibleSubrectRegion)<sp/>{</highlight></codeline>
<codeline lineno="1619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>convert<sp/>top-left<sp/>of<sp/>visible<sp/>titlebar<sp/>subrect<sp/>to<sp/>top-left<sp/>of<sp/>the<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rect.setLeft(rect.left()<sp/>-<sp/>geometry.width()<sp/>+<sp/>minVisibleWidth);</highlight></codeline>
<codeline lineno="1621"><highlight class="normal"></highlight></codeline>
<codeline lineno="1622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>closest<sp/>=<sp/>clampPoint(rect,<sp/>anchor);</highlight></codeline>
<codeline lineno="1623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>qreal<sp/>score<sp/>=<sp/>calcDistance(anchor,<sp/>closest);</highlight></codeline>
<codeline lineno="1624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!candidate<sp/>||<sp/>score<sp/>&lt;<sp/>bestScore)<sp/>{</highlight></codeline>
<codeline lineno="1625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidate<sp/>=<sp/>closest;</highlight></codeline>
<codeline lineno="1626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bestScore<sp/>=<sp/>score;</highlight></codeline>
<codeline lineno="1627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Left:</highlight></codeline>
<codeline lineno="1631"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::TopLeft:</highlight></codeline>
<codeline lineno="1632"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::BottomLeft:</highlight></codeline>
<codeline lineno="1633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(QRect<sp/>rect<sp/>:<sp/>visibleSubrectRegion)<sp/>{</highlight></codeline>
<codeline lineno="1634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>convert<sp/>top-left<sp/>of<sp/>visible<sp/>titlebar<sp/>subrect<sp/>to<sp/>top-left<sp/>of<sp/>the<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rect.setLeft(availableArea.left());</highlight></codeline>
<codeline lineno="1636"><highlight class="normal"></highlight></codeline>
<codeline lineno="1637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>closest<sp/>=<sp/>clampPoint(rect,<sp/>anchor);</highlight></codeline>
<codeline lineno="1638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>qreal<sp/>score<sp/>=<sp/>calcDistance(anchor,<sp/>closest);</highlight></codeline>
<codeline lineno="1639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!candidate<sp/>||<sp/>score<sp/>&lt;<sp/>bestScore)<sp/>{</highlight></codeline>
<codeline lineno="1640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidate<sp/>=<sp/>closest;</highlight></codeline>
<codeline lineno="1641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bestScore<sp/>=<sp/>score;</highlight></codeline>
<codeline lineno="1642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1645"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::Right:</highlight></codeline>
<codeline lineno="1646"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::TopRight:</highlight></codeline>
<codeline lineno="1647"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Gravity::BottomRight:</highlight></codeline>
<codeline lineno="1648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(QRectF<sp/>rect<sp/>:<sp/>visibleSubrectRegion)<sp/>{</highlight></codeline>
<codeline lineno="1649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>convert<sp/>top-right<sp/>of<sp/>visible<sp/>titlebar<sp/>subrect<sp/>to<sp/>top-right<sp/>of<sp/>the<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rect.setRight(availableArea.left()<sp/>+<sp/>availableArea.width());</highlight></codeline>
<codeline lineno="1651"><highlight class="normal"></highlight></codeline>
<codeline lineno="1652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>closest<sp/>=<sp/>clampPoint(rect,<sp/>anchor);</highlight></codeline>
<codeline lineno="1653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>qreal<sp/>score<sp/>=<sp/>calcDistance(anchor,<sp/>closest);</highlight></codeline>
<codeline lineno="1654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!candidate<sp/>||<sp/>score<sp/>&lt;<sp/>bestScore)<sp/>{</highlight></codeline>
<codeline lineno="1655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidate<sp/>=<sp/>closest;</highlight></codeline>
<codeline lineno="1656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bestScore<sp/>=<sp/>score;</highlight></codeline>
<codeline lineno="1657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1660"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_UNREACHABLE();</highlight></codeline>
<codeline lineno="1662"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1663"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>candidate;</highlight></codeline>
<codeline lineno="1664"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1665"><highlight class="normal"></highlight></codeline>
<codeline lineno="1666" refid="class_k_win_1_1_window_1a695c280f8767b14eced4e9dbd0422431" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a695c280f8767b14eced4e9dbd0422431" kindref="member">Window::nextInteractiveResizeGeometry</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;global)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1667"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1668"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>currentMoveResizeGeom<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="1669"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>nextMoveResizeGeom<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="1670"><highlight class="normal"></highlight></codeline>
<codeline lineno="1671"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8" kindref="member">Gravity</ref><sp/><ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb3ff3e9e2c5fe0b4816948a52cb58a6" kindref="member">interactiveMoveResizeGravity</ref>();</highlight></codeline>
<codeline lineno="1672"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref><sp/>==<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a6adf97f83acf6453d4a6a4b1070f3754" kindref="member">Gravity::None</ref><sp/>||<sp/><ref refid="class_k_win_1_1_window_1a3dfd89167d57f28ebedf72ffddd33191" kindref="member">isShade</ref>()<sp/>||<sp/>!<ref refid="class_k_win_1_1_window_1aca7dbc7f62bb563afea5583e128a4afb" kindref="member">isResizable</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>nextMoveResizeGeom;</highlight></codeline>
<codeline lineno="1674"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1675"><highlight class="normal"></highlight></codeline>
<codeline lineno="1676"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>these<sp/>two<sp/>points<sp/>limit<sp/>the<sp/>geometry<sp/>rectangle,<sp/>i.e.<sp/>if<sp/>bottomleft<sp/>resizing<sp/>is<sp/>done,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1677"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>bottomleft<sp/>corner<sp/>should<sp/>be<sp/>at<sp/>is<sp/>at<sp/>(topleft.x(),<sp/>bottomright().y())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1678"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>orig<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a2c99107d19da560ccc18cb3b8c4a59fc" kindref="member">initialInteractiveMoveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="1679"><highlight class="normal"><sp/><sp/><sp/><sp/>QPointF<sp/>topleft<sp/>=<sp/>global<sp/>-<sp/>QPointF(<ref refid="class_k_win_1_1_window_1a087ebcf075b63c7581b7bf3c55fab2ef" kindref="member">interactiveMoveOffset</ref>().<ref refid="class_k_win_1_1_window_1a8ca7699b2ae5cef0dcf3755f55f68fb7" kindref="member">x</ref>()<sp/>*<sp/>orig.width(),<sp/><ref refid="class_k_win_1_1_window_1a087ebcf075b63c7581b7bf3c55fab2ef" kindref="member">interactiveMoveOffset</ref>().<ref refid="class_k_win_1_1_window_1a82df990348a6c4a0696ef5e1f8aea78d" kindref="member">y</ref>()<sp/>*<sp/>orig.height());</highlight></codeline>
<codeline lineno="1680"><highlight class="normal"><sp/><sp/><sp/><sp/>QPointF<sp/>bottomright<sp/>=<sp/>global<sp/>+<sp/>QPointF((1.0<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a087ebcf075b63c7581b7bf3c55fab2ef" kindref="member">interactiveMoveOffset</ref>().<ref refid="class_k_win_1_1_window_1a8ca7699b2ae5cef0dcf3755f55f68fb7" kindref="member">x</ref>())<sp/>*<sp/>orig.width(),<sp/>(1.0<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a087ebcf075b63c7581b7bf3c55fab2ef" kindref="member">interactiveMoveOffset</ref>().<ref refid="class_k_win_1_1_window_1a82df990348a6c4a0696ef5e1f8aea78d" kindref="member">y</ref>())<sp/>*<sp/>orig.height());</highlight></codeline>
<codeline lineno="1681"><highlight class="normal"></highlight></codeline>
<codeline lineno="1682"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>move<sp/>whole<sp/>group<sp/>when<sp/>moving<sp/>its<sp/>leader<sp/>or<sp/>when<sp/>the<sp/>leader<sp/>is<sp/>not<sp/>mapped?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1683"><highlight class="normal"></highlight></codeline>
<codeline lineno="1684"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a96727035a8ba0a709cc464483d1d7b3e" kindref="member">SizeMode</ref><sp/>sizeMode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a96727035a8ba0a709cc464483d1d7b3eac26ddc87899c79d31f6f90bcd11b85ba" kindref="member">SizeModeAny</ref>;</highlight></codeline>
<codeline lineno="1685"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>calculateMoveResizeGeom<sp/>=<sp/>[&amp;topleft,<sp/>&amp;bottomright,<sp/>&amp;orig,<sp/>&amp;nextMoveResizeGeom,<sp/>&amp;sizeMode,<sp/>&amp;<ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref>]()<sp/>{</highlight></codeline>
<codeline lineno="1686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8ab32beb056fbfe36afbabc6c88c81ab36" kindref="member">Gravity::TopLeft</ref>:</highlight></codeline>
<codeline lineno="1688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/>QRectF(topleft,<sp/>orig.bottomRight());</highlight></codeline>
<codeline lineno="1689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a9146bfc669fddc88db2c4d89297d0e9a" kindref="member">Gravity::BottomRight</ref>:</highlight></codeline>
<codeline lineno="1691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/>QRectF(orig.topLeft(),<sp/>bottomright);</highlight></codeline>
<codeline lineno="1692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a98e5a1c44509157ebcaf46c515c78875" kindref="member">Gravity::BottomLeft</ref>:</highlight></codeline>
<codeline lineno="1694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/>QRectF(QPointF(topleft.x(),<sp/>orig.y()),<sp/>QPointF(orig.right(),<sp/>bottomright.y()));</highlight></codeline>
<codeline lineno="1695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a1d85a557894c340c318493f33bfa8efb" kindref="member">Gravity::TopRight</ref>:</highlight></codeline>
<codeline lineno="1697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/>QRectF(QPointF(orig.x(),<sp/>topleft.y()),<sp/>QPointF(bottomright.x(),<sp/>orig.bottom()));</highlight></codeline>
<codeline lineno="1698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Gravity::Top</ref>:</highlight></codeline>
<codeline lineno="1700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/>QRectF(QPointF(orig.left(),<sp/>topleft.y()),<sp/>orig.bottomRight());</highlight></codeline>
<codeline lineno="1701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sizeMode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a96727035a8ba0a709cc464483d1d7b3eaac1c9b8c41a4ac9f828a6506ca5c0772" kindref="member">SizeModeFixedH</ref>;<sp/></highlight><highlight class="comment">//<sp/>try<sp/>not<sp/>to<sp/>affect<sp/>height</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Gravity::Bottom</ref>:</highlight></codeline>
<codeline lineno="1704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/>QRectF(orig.topLeft(),<sp/>QPointF(orig.right(),<sp/>bottomright.y()));</highlight></codeline>
<codeline lineno="1705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sizeMode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a96727035a8ba0a709cc464483d1d7b3eaac1c9b8c41a4ac9f828a6506ca5c0772" kindref="member">SizeModeFixedH</ref>;</highlight></codeline>
<codeline lineno="1706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Gravity::Left</ref>:</highlight></codeline>
<codeline lineno="1708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/>QRectF(QPointF(topleft.x(),<sp/>orig.top()),<sp/>orig.bottomRight());</highlight></codeline>
<codeline lineno="1709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sizeMode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a96727035a8ba0a709cc464483d1d7b3eaa2888bb87f22c92391588c28ec2a5f18" kindref="member">SizeModeFixedW</ref>;</highlight></codeline>
<codeline lineno="1710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a92b09c7c48c520c3c55e497875da437c" kindref="member">Gravity::Right</ref>:</highlight></codeline>
<codeline lineno="1712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/>QRectF(orig.topLeft(),<sp/>QPointF(bottomright.x(),<sp/>orig.bottom()));</highlight></codeline>
<codeline lineno="1713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sizeMode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a96727035a8ba0a709cc464483d1d7b3eaa2888bb87f22c92391588c28ec2a5f18" kindref="member">SizeModeFixedW</ref>;</highlight></codeline>
<codeline lineno="1714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a6adf97f83acf6453d4a6a4b1070f3754" kindref="member">Gravity::None</ref>:</highlight></codeline>
<codeline lineno="1716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_UNREACHABLE();</highlight></codeline>
<codeline lineno="1717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1719"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1720"><highlight class="normal"></highlight></codeline>
<codeline lineno="1721"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>first<sp/>resize<sp/>(without<sp/>checking<sp/>constrains),<sp/>then<sp/>snap,<sp/>then<sp/>check<sp/>bounds,<sp/>then<sp/>check<sp/>constrains</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1722"><highlight class="normal"><sp/><sp/><sp/><sp/>calculateMoveResizeGeom();</highlight></codeline>
<codeline lineno="1723"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>adjust<sp/>new<sp/>size<sp/>to<sp/>snap<sp/>to<sp/>other<sp/>windows/borders</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1724"><highlight class="normal"><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;adjustWindowSize(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>nextMoveResizeGeom,<sp/><ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref>);</highlight></codeline>
<codeline lineno="1725"><highlight class="normal"></highlight></codeline>
<codeline lineno="1726"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a39aab7cbfbd4db666f1c5dce5028a2a6" kindref="member">isUnrestrictedInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref><sp/>=<sp/>confineInteractiveResize(nextMoveResizeGeom,<sp/><ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref>,<sp/>100,<sp/><ref refid="class_k_win_1_1_window_1af6431be1b6486b44c17c218703fe5c28" kindref="member">titlebarThickness</ref>()))<sp/>{</highlight></codeline>
<codeline lineno="1728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8ab32beb056fbfe36afbabc6c88c81ab36" kindref="member">Gravity::TopLeft</ref>:</highlight></codeline>
<codeline lineno="1730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom.setTopLeft(*<ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref>);</highlight></codeline>
<codeline lineno="1731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Gravity::Top</ref>:</highlight></codeline>
<codeline lineno="1733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom.setTop(<ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref>-&gt;y());</highlight></codeline>
<codeline lineno="1734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a1d85a557894c340c318493f33bfa8efb" kindref="member">Gravity::TopRight</ref>:</highlight></codeline>
<codeline lineno="1736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom.setTopRight(*<ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref>);</highlight></codeline>
<codeline lineno="1737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a92b09c7c48c520c3c55e497875da437c" kindref="member">Gravity::Right</ref>:</highlight></codeline>
<codeline lineno="1739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a9146bfc669fddc88db2c4d89297d0e9a" kindref="member">Gravity::BottomRight</ref>:</highlight></codeline>
<codeline lineno="1740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom.setRight(<ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref>-&gt;x());</highlight></codeline>
<codeline lineno="1741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Gravity::Left</ref>:</highlight></codeline>
<codeline lineno="1743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a98e5a1c44509157ebcaf46c515c78875" kindref="member">Gravity::BottomLeft</ref>:</highlight></codeline>
<codeline lineno="1744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom.setLeft(<ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref>-&gt;x());</highlight></codeline>
<codeline lineno="1745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Gravity::Bottom</ref>:</highlight></codeline>
<codeline lineno="1747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom.setBottom(<ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref>-&gt;y());</highlight></codeline>
<codeline lineno="1748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_UNREACHABLE();</highlight></codeline>
<codeline lineno="1751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="1753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom<sp/>=<sp/>currentMoveResizeGeom;</highlight></codeline>
<codeline lineno="1754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1755"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1756"><highlight class="normal"></highlight></codeline>
<codeline lineno="1757"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Always<sp/>obey<sp/>size<sp/>hints,<sp/>even<sp/>when<sp/>in<sp/>&quot;unrestricted&quot;<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1758"><highlight class="normal"><sp/><sp/><sp/><sp/>QSizeF<sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1aba7fd5b92a9da565aecf8ae559f4af69" kindref="member">constrainFrameSize</ref>(nextMoveResizeGeom.size(),<sp/>sizeMode);</highlight></codeline>
<codeline lineno="1759"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>new<sp/>topleft<sp/>and<sp/>bottomright<sp/>corners<sp/>(after<sp/>checking<sp/>size<sp/>constrains),<sp/>if<sp/>they&apos;ll<sp/>be<sp/>needed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1760"><highlight class="normal"><sp/><sp/><sp/><sp/>topleft<sp/>=<sp/>QPointF(nextMoveResizeGeom.right()<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>.width(),<sp/>nextMoveResizeGeom.bottom()<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>.height());</highlight></codeline>
<codeline lineno="1761"><highlight class="normal"><sp/><sp/><sp/><sp/>bottomright<sp/>=<sp/>QPointF(nextMoveResizeGeom.left()<sp/>+<sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>.width(),<sp/>nextMoveResizeGeom.top()<sp/>+<sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>.height());</highlight></codeline>
<codeline lineno="1762"><highlight class="normal"><sp/><sp/><sp/><sp/>orig<sp/>=<sp/>nextMoveResizeGeom;</highlight></codeline>
<codeline lineno="1763"><highlight class="normal"></highlight></codeline>
<codeline lineno="1764"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>aspect<sp/>ratios<sp/>are<sp/>specified,<sp/>both<sp/>dimensions<sp/>may<sp/>change.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1765"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Therefore<sp/>grow<sp/>to<sp/>the<sp/>right/bottom<sp/>if<sp/>needed.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1766"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>it<sp/>should<sp/>probably<sp/>obey<sp/>gravity<sp/>rather<sp/>than<sp/>always<sp/>using<sp/>right/bottom<sp/>?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1767"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sizeMode<sp/>==<sp/><ref refid="class_k_win_1_1_window_1a96727035a8ba0a709cc464483d1d7b3eaac1c9b8c41a4ac9f828a6506ca5c0772" kindref="member">SizeModeFixedH</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>orig.setRight(bottomright.x());</highlight></codeline>
<codeline lineno="1769"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(sizeMode<sp/>==<sp/><ref refid="class_k_win_1_1_window_1a96727035a8ba0a709cc464483d1d7b3eaa2888bb87f22c92391588c28ec2a5f18" kindref="member">SizeModeFixedW</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>orig.setBottom(bottomright.y());</highlight></codeline>
<codeline lineno="1771"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1772"><highlight class="normal"></highlight></codeline>
<codeline lineno="1773"><highlight class="normal"><sp/><sp/><sp/><sp/>calculateMoveResizeGeom();</highlight></codeline>
<codeline lineno="1774"><highlight class="normal"></highlight></codeline>
<codeline lineno="1775"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>nextMoveResizeGeom;</highlight></codeline>
<codeline lineno="1776"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1777"><highlight class="normal"></highlight></codeline>
<codeline lineno="1778" refid="class_k_win_1_1_window_1ad599d6c840d9fd09232e753638a16b54" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1ad599d6c840d9fd09232e753638a16b54" kindref="member">Window::nextInteractiveMoveGeometry</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;global)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1779"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1780"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>currentMoveResizeGeom<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a0cd1f979061accdf5d743f3089360132" kindref="member">frameGeometry</ref>();</highlight></codeline>
<codeline lineno="1781"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a8ebfa3b947306e5cdd3b1db42a1dc601" kindref="member">isMovable</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>currentMoveResizeGeom;</highlight></codeline>
<codeline lineno="1783"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1784"><highlight class="normal"></highlight></codeline>
<codeline lineno="1785"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>nextMoveResizeGeom<sp/>=<sp/>currentMoveResizeGeom;</highlight></codeline>
<codeline lineno="1786"><highlight class="normal"><sp/><sp/><sp/><sp/>nextMoveResizeGeom.moveTopLeft(QPointF(global.x()<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a087ebcf075b63c7581b7bf3c55fab2ef" kindref="member">interactiveMoveOffset</ref>().<ref refid="class_k_win_1_1_window_1a8ca7699b2ae5cef0dcf3755f55f68fb7" kindref="member">x</ref>()<sp/>*<sp/>currentMoveResizeGeom.width(),</highlight></codeline>
<codeline lineno="1787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>global.y()<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a087ebcf075b63c7581b7bf3c55fab2ef" kindref="member">interactiveMoveOffset</ref>().<ref refid="class_k_win_1_1_window_1a82df990348a6c4a0696ef5e1f8aea78d" kindref="member">y</ref>()<sp/>*<sp/>currentMoveResizeGeom.height()));</highlight></codeline>
<codeline lineno="1788"><highlight class="normal"><sp/><sp/><sp/><sp/>nextMoveResizeGeom.moveTopLeft(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;adjustWindowPosition(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>nextMoveResizeGeom.topLeft(),<sp/><ref refid="class_k_win_1_1_window_1a39aab7cbfbd4db666f1c5dce5028a2a6" kindref="member">isUnrestrictedInteractiveMoveResize</ref>()));</highlight></codeline>
<codeline lineno="1789"><highlight class="normal"></highlight></codeline>
<codeline lineno="1790"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a39aab7cbfbd4db666f1c5dce5028a2a6" kindref="member">isUnrestrictedInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="1791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref><sp/>=<sp/>confineInteractiveMove(nextMoveResizeGeom,<sp/>100,<sp/><ref refid="class_k_win_1_1_window_1af6431be1b6486b44c17c218703fe5c28" kindref="member">titlebarThickness</ref>()))<sp/>{</highlight></codeline>
<codeline lineno="1792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextMoveResizeGeom.moveTopLeft(<ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref>.value());</highlight></codeline>
<codeline lineno="1793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1794"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1795"><highlight class="normal"></highlight></codeline>
<codeline lineno="1796"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>nextMoveResizeGeom;</highlight></codeline>
<codeline lineno="1797"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1798"><highlight class="normal"></highlight></codeline>
<codeline lineno="1799" refid="class_k_win_1_1_window_1aba525ab96946e97c8a9508223b32aa7a" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_strut_rect" kindref="compound">StrutRect</ref><sp/><ref refid="class_k_win_1_1_window_1aba525ab96946e97c8a9508223b32aa7a" kindref="member">Window::strutRect</ref>(<ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1f" kindref="member">StrutArea</ref><sp/>area)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1800"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1801"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_strut_rect" kindref="compound">StrutRect</ref>();</highlight></codeline>
<codeline lineno="1802"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1803"><highlight class="normal"></highlight></codeline>
<codeline lineno="1804" refid="class_k_win_1_1_window_1a8e3324842c2afcc9f5bb836e63ecf839" refkind="member"><highlight class="normal"><ref refid="namespace_k_win_1a98fbb198fd4d068d56bb796e99bfe8c5" kindref="member">StrutRects</ref><sp/><ref refid="class_k_win_1_1_window_1a8e3324842c2afcc9f5bb836e63ecf839" kindref="member">Window::strutRects</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1805"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1806"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a98fbb198fd4d068d56bb796e99bfe8c5" kindref="member">StrutRects</ref><sp/>region;</highlight></codeline>
<codeline lineno="1807"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_strut_rect" kindref="compound">StrutRect</ref><sp/>strut<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aba525ab96946e97c8a9508223b32aa7a" kindref="member">strutRect</ref>(<ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1faaf851dfa7690117100f930e8976a2e39" kindref="member">StrutAreaTop</ref>);<sp/>strut.isValid())<sp/>{</highlight></codeline>
<codeline lineno="1808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>region<sp/>+=<sp/>strut;</highlight></codeline>
<codeline lineno="1809"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1810"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_strut_rect" kindref="compound">StrutRect</ref><sp/>strut<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aba525ab96946e97c8a9508223b32aa7a" kindref="member">strutRect</ref>(<ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1fa72eb7170aba4e9ea52c4f9ac5b2d353b" kindref="member">StrutAreaRight</ref>);<sp/>strut.isValid())<sp/>{</highlight></codeline>
<codeline lineno="1811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>region<sp/>+=<sp/>strut;</highlight></codeline>
<codeline lineno="1812"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1813"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_strut_rect" kindref="compound">StrutRect</ref><sp/>strut<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aba525ab96946e97c8a9508223b32aa7a" kindref="member">strutRect</ref>(<ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1fa8a19680a6a57ccd911f098df7ebc09ee" kindref="member">StrutAreaBottom</ref>);<sp/>strut.isValid())<sp/>{</highlight></codeline>
<codeline lineno="1814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>region<sp/>+=<sp/>strut;</highlight></codeline>
<codeline lineno="1815"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1816"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_strut_rect" kindref="compound">StrutRect</ref><sp/>strut<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aba525ab96946e97c8a9508223b32aa7a" kindref="member">strutRect</ref>(<ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1fae563c9d36d4b08112f58bb8374d1a12b" kindref="member">StrutAreaLeft</ref>);<sp/>strut.isValid())<sp/>{</highlight></codeline>
<codeline lineno="1817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>region<sp/>+=<sp/>strut;</highlight></codeline>
<codeline lineno="1818"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1819"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>region;</highlight></codeline>
<codeline lineno="1820"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1821"><highlight class="normal"></highlight></codeline>
<codeline lineno="1822" refid="class_k_win_1_1_window_1ada41aaefb2c2e4b7f03039ff971c1211" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ada41aaefb2c2e4b7f03039ff971c1211" kindref="member">Window::hasStrut</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="1823"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="1824"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1825"><highlight class="normal">}</highlight></codeline>
<codeline lineno="1826"><highlight class="normal"></highlight></codeline>
<codeline lineno="1827" refid="class_k_win_1_1_window_1a0ff6b1fc41b88953d7f641a33492e54d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0ff6b1fc41b88953d7f641a33492e54d" kindref="member">Window::setupWindowManagementInterface</ref>()</highlight></codeline>
<codeline lineno="1828"><highlight class="normal">{</highlight></codeline>
<codeline lineno="1829"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a4400f22402e2098aa69a9cc119d3119f" kindref="member">m_windowManagementInterface</ref>)<sp/>{</highlight></codeline>
<codeline lineno="1830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>already<sp/>setup</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1832"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1833"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="namespace_k_win_1a820772eeac71cfe988208d4b4e5764a6" kindref="member">waylandServer</ref>()-&gt;windowManagement())<sp/>{</highlight></codeline>
<codeline lineno="1834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="1835"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1836"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>w<sp/>=<sp/><ref refid="namespace_k_win_1a820772eeac71cfe988208d4b4e5764a6" kindref="member">waylandServer</ref>()-&gt;windowManagement()-&gt;createWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_window_1a6cf4afcfaaf0179f72d4fe968510f427" kindref="member">internalId</ref>());</highlight></codeline>
<codeline lineno="1837"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setTitle(<ref refid="class_k_win_1_1_window_1a9a91fff09e5795dce9c1732082ff09b4" kindref="member">caption</ref>());</highlight></codeline>
<codeline lineno="1838"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setActive(<ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>());</highlight></codeline>
<codeline lineno="1839"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setFullscreen(<ref refid="class_k_win_1_1_window_1af68e2698e10f68963734220af029279f" kindref="member">isFullScreen</ref>());</highlight></codeline>
<codeline lineno="1840"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setKeepAbove(<ref refid="class_k_win_1_1_window_1ade1d7dfe29d1f709eca65af12b076d2b" kindref="member">keepAbove</ref>());</highlight></codeline>
<codeline lineno="1841"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setKeepBelow(<ref refid="class_k_win_1_1_window_1a47ab87d36dc289a8f636f78b048a5b36" kindref="member">keepBelow</ref>());</highlight></codeline>
<codeline lineno="1842"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setMaximized(<ref refid="class_k_win_1_1_window_1aacb57e092c7155d3745e3964c7745ba3" kindref="member">maximizeMode</ref>()<sp/>==<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9abc602b186700b8c6fb525fe2c828e910" kindref="member">KWin::MaximizeFull</ref>);</highlight></codeline>
<codeline lineno="1843"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setMinimized(<ref refid="class_k_win_1_1_window_1a7ee9515027aa5076af42776c20b3a4a5" kindref="member">isMinimized</ref>());</highlight></codeline>
<codeline lineno="1844"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setDemandsAttention(<ref refid="class_k_win_1_1_window_1a3d04ecc04772333222a02d8ac41856f9" kindref="member">isDemandingAttention</ref>());</highlight></codeline>
<codeline lineno="1845"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setCloseable(<ref refid="class_k_win_1_1_window_1a968b72b00f5b592dc1c61359a760ddf9" kindref="member">isCloseable</ref>());</highlight></codeline>
<codeline lineno="1846"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setMaximizeable(<ref refid="class_k_win_1_1_window_1aa63a6139d1d83641d1e6d1617da0406d" kindref="member">isMaximizable</ref>());</highlight></codeline>
<codeline lineno="1847"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setMinimizeable(<ref refid="class_k_win_1_1_window_1a0265481eb235342664f27f47dafbc2d4" kindref="member">isMinimizable</ref>());</highlight></codeline>
<codeline lineno="1848"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setFullscreenable(<ref refid="class_k_win_1_1_window_1a4f27ecb2b1e34b8c0d188b2a677b4d04" kindref="member">isFullScreenable</ref>());</highlight></codeline>
<codeline lineno="1849"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setApplicationMenuPaths(<ref refid="class_k_win_1_1_window_1abeeea83c2e285a6e2648594080be2913" kindref="member">applicationMenuServiceName</ref>(),<sp/><ref refid="class_k_win_1_1_window_1a55a5a924afbbff8839a2328555cccbb6" kindref="member">applicationMenuObjectPath</ref>());</highlight></codeline>
<codeline lineno="1850"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setIcon(<ref refid="class_k_win_1_1_window_1a7b0ffef1838f708ffc5c83b5244712f4" kindref="member">icon</ref>());</highlight></codeline>
<codeline lineno="1851"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>updateAppId<sp/>=<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>w]<sp/>{</highlight></codeline>
<codeline lineno="1852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setResourceName(<ref refid="class_k_win_1_1_window_1a927f981105a03011681b42d6644834f0" kindref="member">resourceName</ref>());</highlight></codeline>
<codeline lineno="1853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setAppId(<ref refid="class_k_win_1_1_window_1a09fb67780141bb5039d70ec04e2c8d09" kindref="member">m_desktopFileName</ref>.isEmpty()<sp/>?<sp/><ref refid="class_k_win_1_1_window_1a825429c1c8c6f5b6721752eac7da370d" kindref="member">resourceClass</ref>()<sp/>:<sp/><ref refid="class_k_win_1_1_window_1a09fb67780141bb5039d70ec04e2c8d09" kindref="member">m_desktopFileName</ref>);</highlight></codeline>
<codeline lineno="1854"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="1855"><highlight class="normal"><sp/><sp/><sp/><sp/>updateAppId();</highlight></codeline>
<codeline lineno="1856"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setSkipTaskbar(<ref refid="class_k_win_1_1_window_1aff0dcb9257a7c18c075605858ef64ad6" kindref="member">skipTaskbar</ref>());</highlight></codeline>
<codeline lineno="1857"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setSkipSwitcher(<ref refid="class_k_win_1_1_window_1a09ff41ece0cac78c632f0a3218c2602d" kindref="member">skipSwitcher</ref>());</highlight></codeline>
<codeline lineno="1858"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setPid(<ref refid="class_k_win_1_1_window_1a085bf52e9cddc60b0b3d4a4550a60dfd" kindref="member">pid</ref>());</highlight></codeline>
<codeline lineno="1859"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setShadeable(<ref refid="class_k_win_1_1_window_1abf1e1de77c7a5e7707f1fcc2ed13db58" kindref="member">isShadeable</ref>());</highlight></codeline>
<codeline lineno="1860"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setShaded(<ref refid="class_k_win_1_1_window_1a3dfd89167d57f28ebedf72ffddd33191" kindref="member">isShade</ref>());</highlight></codeline>
<codeline lineno="1861"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setResizable(<ref refid="class_k_win_1_1_window_1aca7dbc7f62bb563afea5583e128a4afb" kindref="member">isResizable</ref>());</highlight></codeline>
<codeline lineno="1862"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setMovable(<ref refid="class_k_win_1_1_window_1a8ebfa3b947306e5cdd3b1db42a1dc601" kindref="member">isMovable</ref>());</highlight></codeline>
<codeline lineno="1863"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setVirtualDesktopChangeable(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);<sp/></highlight><highlight class="comment">//<sp/>FIXME<sp/>Matches<sp/>X11Window::actionSupported(),<sp/>but<sp/>both<sp/>should<sp/>be<sp/>implemented.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1864"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setNoBorder(<ref refid="class_k_win_1_1_window_1a522f27150d53cdf33f9ff69940763621" kindref="member">noBorder</ref>());</highlight></codeline>
<codeline lineno="1865"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setCanSetNoBorder(<ref refid="class_k_win_1_1_window_1a0078f08c782843fcb88397dff0ad6232" kindref="member">userCanSetNoBorder</ref>());</highlight></codeline>
<codeline lineno="1866"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setParentWindow(<ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>()<sp/>?<sp/><ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>()-&gt;<ref refid="class_k_win_1_1_window_1a566b2f1b031cd7f536104017d3e157de" kindref="member">windowManagementInterface</ref>()<sp/>:<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1867"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setGeometry(<ref refid="class_k_win_1_1_window_1a0cd1f979061accdf5d743f3089360132" kindref="member">frameGeometry</ref>().toRect());</highlight></codeline>
<codeline lineno="1868"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setClientGeometry(<ref refid="class_k_win_1_1_window_1ae65385d8659203d561a91aa7c0af9d8b" kindref="member">clientGeometry</ref>().toRect());</highlight></codeline>
<codeline lineno="1869"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a926d32fb86d967e63036b5b4afb0eb65" kindref="member">Window::skipTaskbarChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setSkipTaskbar(<ref refid="class_k_win_1_1_window_1aff0dcb9257a7c18c075605858ef64ad6" kindref="member">skipTaskbar</ref>());</highlight></codeline>
<codeline lineno="1871"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1872"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a097084f43aa41eaa4b55c174712ed556" kindref="member">Window::skipSwitcherChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setSkipSwitcher(<ref refid="class_k_win_1_1_window_1a09ff41ece0cac78c632f0a3218c2602d" kindref="member">skipSwitcher</ref>());</highlight></codeline>
<codeline lineno="1874"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1875"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1aed9d3f3c470d1fa02c8cce52dbffa050" kindref="member">Window::captionChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]<sp/>{</highlight></codeline>
<codeline lineno="1876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setTitle(<ref refid="class_k_win_1_1_window_1a9a91fff09e5795dce9c1732082ff09b4" kindref="member">caption</ref>());</highlight></codeline>
<codeline lineno="1877"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1878"><highlight class="normal"></highlight></codeline>
<codeline lineno="1879"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1acce3d6f41f268ae1cff8183476ee6646" kindref="member">Window::activeChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]<sp/>{</highlight></codeline>
<codeline lineno="1880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setActive(<ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>());</highlight></codeline>
<codeline lineno="1881"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1882"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a469e95b9f51c551643a0e4bdf46e0203" kindref="member">Window::fullScreenChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]<sp/>{</highlight></codeline>
<codeline lineno="1883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setFullscreen(<ref refid="class_k_win_1_1_window_1af68e2698e10f68963734220af029279f" kindref="member">isFullScreen</ref>());</highlight></codeline>
<codeline lineno="1884"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1885"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a794a364234bf2bbcf77034e6061bf7af" kindref="member">Window::keepAboveChanged</ref>,<sp/>w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a6adad6faa1369caea7f2247c521b6e93" kindref="member">PlasmaWindowInterface::setKeepAbove</ref>);</highlight></codeline>
<codeline lineno="1886"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1aceedecf8e018f3aede6fa947ea214d9b" kindref="member">Window::keepBelowChanged</ref>,<sp/>w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a523be0d7bf56c882b76b6707e1bfcb08" kindref="member">PlasmaWindowInterface::setKeepBelow</ref>);</highlight></codeline>
<codeline lineno="1887"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ab2768713cab0bc9b18ff28b39d3170ad" kindref="member">Window::minimizedChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]<sp/>{</highlight></codeline>
<codeline lineno="1888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setMinimized(<ref refid="class_k_win_1_1_window_1a7ee9515027aa5076af42776c20b3a4a5" kindref="member">isMinimized</ref>());</highlight></codeline>
<codeline lineno="1889"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1890"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a08cad7d21d3195ccc0829c2c0f1f9c95" kindref="member">Window::maximizedChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setMaximized(<ref refid="class_k_win_1_1_window_1aacb57e092c7155d3745e3964c7745ba3" kindref="member">maximizeMode</ref>()<sp/>==<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9abc602b186700b8c6fb525fe2c828e910" kindref="member">MaximizeFull</ref>);</highlight></codeline>
<codeline lineno="1892"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1893"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a48804c4aff5e086bf1af7651009d59ec" kindref="member">Window::demandsAttentionChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]<sp/>{</highlight></codeline>
<codeline lineno="1894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setDemandsAttention(<ref refid="class_k_win_1_1_window_1a3d04ecc04772333222a02d8ac41856f9" kindref="member">isDemandingAttention</ref>());</highlight></codeline>
<codeline lineno="1895"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1896"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a1d74b16abee154db8a79c363051e9c67" kindref="member">Window::iconChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setIcon(<ref refid="class_k_win_1_1_window_1a7b0ffef1838f708ffc5c83b5244712f4" kindref="member">icon</ref>());</highlight></codeline>
<codeline lineno="1898"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1899"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ada6d2b84af63fc37f49fd43da8d8592d" kindref="member">Window::windowClassChanged</ref>,<sp/>w,<sp/>updateAppId);</highlight></codeline>
<codeline lineno="1900"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1aa7c85eca2cfa19d7ea698cd46396c6dc" kindref="member">Window::desktopFileNameChanged</ref>,<sp/>w,<sp/>updateAppId);</highlight></codeline>
<codeline lineno="1901"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a65a50831398387c79231316c21be1abc" kindref="member">Window::shadeChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]<sp/>{</highlight></codeline>
<codeline lineno="1902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setShaded(<ref refid="class_k_win_1_1_window_1a3dfd89167d57f28ebedf72ffddd33191" kindref="member">isShade</ref>());</highlight></codeline>
<codeline lineno="1903"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1904"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ad800920f411886a60d8a154c1bbb4e1a" kindref="member">Window::noBorderChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]<sp/>{</highlight></codeline>
<codeline lineno="1905"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setNoBorder(<ref refid="class_k_win_1_1_window_1a522f27150d53cdf33f9ff69940763621" kindref="member">noBorder</ref>());</highlight></codeline>
<codeline lineno="1906"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1907"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1af3e806181c0aa22d655b2396d6e0e05e" kindref="member">Window::transientChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setParentWindow(<ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>()<sp/>?<sp/><ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>()-&gt;<ref refid="class_k_win_1_1_window_1a566b2f1b031cd7f536104017d3e157de" kindref="member">windowManagementInterface</ref>()<sp/>:<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1909"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1910"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ac20682dc9062e09db6ed01b2cf7c6097" kindref="member">Window::frameGeometryChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setGeometry(<ref refid="class_k_win_1_1_window_1a0cd1f979061accdf5d743f3089360132" kindref="member">frameGeometry</ref>().toRect());</highlight></codeline>
<codeline lineno="1912"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1913"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a5fad289b49f846a6fc1c0cb72e91ec78" kindref="member">Window::clientGeometryChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setClientGeometry(<ref refid="class_k_win_1_1_window_1ae65385d8659203d561a91aa7c0af9d8b" kindref="member">clientGeometry</ref>().toRect());</highlight></codeline>
<codeline lineno="1915"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1916"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a61be5e5de3298a63108f511acb5b3583" kindref="member">Window::applicationMenuChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;setApplicationMenuPaths(<ref refid="class_k_win_1_1_window_1abeeea83c2e285a6e2648594080be2913" kindref="member">applicationMenuServiceName</ref>(),<sp/><ref refid="class_k_win_1_1_window_1a55a5a924afbbff8839a2328555cccbb6" kindref="member">applicationMenuObjectPath</ref>());</highlight></codeline>
<codeline lineno="1918"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1919"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a438a40afd0f441cd5561f889d03964b0" kindref="member">PlasmaWindowInterface::closeRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]<sp/>{</highlight></codeline>
<codeline lineno="1920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7b4df09999849da92ca4ef4b9b244337" kindref="member">closeWindow</ref>();</highlight></codeline>
<codeline lineno="1921"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1922"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a77978926bea6ca7bb8ac60e0f5a95c5f" kindref="member">PlasmaWindowInterface::moveRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1abe2e249447d344f266998fdcef93fde0" kindref="member">input</ref>()-&gt;pointer()-&gt;warp(<ref refid="class_k_win_1_1_window_1a0cd1f979061accdf5d743f3089360132" kindref="member">frameGeometry</ref>().center());</highlight></codeline>
<codeline lineno="1924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1adc4cfddd14db72a5b6337bf3b0f8c639" kindref="member">performMousePressCommand</ref>(<ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdac769cf145bf19177c3818dab014f19bc" kindref="member">Options::MouseMove</ref>,<sp/><ref refid="class_k_win_1_1_cursors_1a5e43427047cf7663b4d9723fac4c1408" kindref="member">Cursors::self</ref>()-&gt;mouse()-&gt;<ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>());</highlight></codeline>
<codeline lineno="1925"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1926"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a40f708c49bfc065329699f6b3f5549f3" kindref="member">PlasmaWindowInterface::resizeRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1abe2e249447d344f266998fdcef93fde0" kindref="member">input</ref>()-&gt;pointer()-&gt;warp(<ref refid="class_k_win_1_1_window_1a0cd1f979061accdf5d743f3089360132" kindref="member">frameGeometry</ref>().bottomRight());</highlight></codeline>
<codeline lineno="1928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1adc4cfddd14db72a5b6337bf3b0f8c639" kindref="member">performMousePressCommand</ref>(<ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda20eee5e0974141ea4aeb126846c9effc" kindref="member">Options::MouseResize</ref>,<sp/><ref refid="class_k_win_1_1_cursors_1a5e43427047cf7663b4d9723fac4c1408" kindref="member">Cursors::self</ref>()-&gt;mouse()-&gt;<ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>());</highlight></codeline>
<codeline lineno="1929"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1930"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a66707c39bc81d7783dff25e4163e82ab" kindref="member">PlasmaWindowInterface::fullscreenRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)<sp/>{</highlight></codeline>
<codeline lineno="1931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a5f16d2ea8d86a8b9e94c2461d4dbb9c8" kindref="member">setFullScreen</ref>(set);</highlight></codeline>
<codeline lineno="1932"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1933"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a4fc60347557ab900fb276c0efb98e71a" kindref="member">PlasmaWindowInterface::minimizedRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)<sp/>{</highlight></codeline>
<codeline lineno="1934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2020d42e4c3f51da3bcec8cfdc632f86" kindref="member">setMinimized</ref>(set);</highlight></codeline>
<codeline lineno="1935"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1936"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a1bef6f63d52ecbbbea784e7f7427a5a9" kindref="member">PlasmaWindowInterface::maximizedRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)<sp/>{</highlight></codeline>
<codeline lineno="1937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">maximize</ref>(set<sp/>?<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9abc602b186700b8c6fb525fe2c828e910" kindref="member">MaximizeFull</ref><sp/>:<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>);</highlight></codeline>
<codeline lineno="1938"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1939"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a154a36f9af8c59844f2671bfe51b789f" kindref="member">PlasmaWindowInterface::keepAboveRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)<sp/>{</highlight></codeline>
<codeline lineno="1940"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afc24b8209fd3821a0b706667d7b97847" kindref="member">setKeepAbove</ref>(set);</highlight></codeline>
<codeline lineno="1941"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1942"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a16001f94d6db86d77799195fdaa14e74" kindref="member">PlasmaWindowInterface::keepBelowRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)<sp/>{</highlight></codeline>
<codeline lineno="1943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a10220e62a04571d571a0950fb657b2d2" kindref="member">setKeepBelow</ref>(set);</highlight></codeline>
<codeline lineno="1944"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1945"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1af492ad0aa1b41ef15722338ff3ec3d1c" kindref="member">PlasmaWindowInterface::demandsAttentionRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)<sp/>{</highlight></codeline>
<codeline lineno="1946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2d638a5cbb6a91a00b5a5c14c9694888" kindref="member">demandAttention</ref>(set);</highlight></codeline>
<codeline lineno="1947"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1948"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a52c6e871737730a382b1bb1177ea894a" kindref="member">PlasmaWindowInterface::activeRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)<sp/>{</highlight></codeline>
<codeline lineno="1949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(set)<sp/>{</highlight></codeline>
<codeline lineno="1950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;activateWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="1951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1952"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1953"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a0634235401ad741b7c7dedb02bcf783a" kindref="member">PlasmaWindowInterface::shadedRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)<sp/>{</highlight></codeline>
<codeline lineno="1954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">setShade</ref>(set);</highlight></codeline>
<codeline lineno="1955"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1956"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1ac0a8b7fdef728ea96bdabe8c78631081" kindref="member">PlasmaWindowInterface::noBorderRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)<sp/>{</highlight></codeline>
<codeline lineno="1957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ab2de2bd6a4bf0fabdf41c5cac3e595f3" kindref="member">setNoBorder</ref>(set);</highlight></codeline>
<codeline lineno="1958"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1959"><highlight class="normal"></highlight></codeline>
<codeline lineno="1960"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>vd<sp/>:<sp/>std::as_const(<ref refid="class_k_win_1_1_window_1a11f83e606efc5d90143b2d396e39e3ec" kindref="member">m_desktops</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;addPlasmaVirtualDesktop(vd-&gt;id());</highlight></codeline>
<codeline lineno="1962"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1963"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>need<sp/>to<sp/>set<sp/>`OnAllDesktops`<sp/>after<sp/>the<sp/>actual<sp/>VD<sp/>list<sp/>has<sp/>been<sp/>added.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1964"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Otherwise<sp/>it<sp/>will<sp/>unconditionally<sp/>add<sp/>the<sp/>current<sp/>desktop<sp/>to<sp/>the<sp/>interface</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1965"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>which<sp/>may<sp/>not<sp/>be<sp/>the<sp/>case,<sp/>for<sp/>example,<sp/>when<sp/>using<sp/>rules</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1966"><highlight class="normal"><sp/><sp/><sp/><sp/>w-&gt;setOnAllDesktops(<ref refid="class_k_win_1_1_window_1ab12c1237a71a1f353898742b3d85e793" kindref="member">isOnAllDesktops</ref>());</highlight></codeline>
<codeline lineno="1967"><highlight class="normal"></highlight></codeline>
<codeline lineno="1968"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Plasma<sp/>Virtual<sp/>desktop<sp/>management</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1969"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>show/hide<sp/>when<sp/>the<sp/>window<sp/>enters/exits<sp/>from<sp/>desktop</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1970"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1ae529eb9362ecf903777c74e3fc596d48" kindref="member">PlasmaWindowInterface::enterPlasmaVirtualDesktopRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;desktopId)<sp/>{</highlight></codeline>
<codeline lineno="1971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_virtual_desktop" kindref="compound">VirtualDesktop</ref><sp/>*vd<sp/>=<sp/>VirtualDesktopManager::self()-&gt;desktopForId(desktopId);</highlight></codeline>
<codeline lineno="1972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(vd)<sp/>{</highlight></codeline>
<codeline lineno="1973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;addWindowToDesktop(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>vd);</highlight></codeline>
<codeline lineno="1974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1975"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1976"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a532cad4b7f060b1264c5bee4bd173482" kindref="member">PlasmaWindowInterface::enterNewPlasmaVirtualDesktopRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="1977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>VirtualDesktopManager::self()-&gt;setCount(VirtualDesktopManager::self()-&gt;count()<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="1978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>vd<sp/>=<sp/>VirtualDesktopManager::self()-&gt;desktops().last();</highlight></codeline>
<codeline lineno="1979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;addWindowToDesktop(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>vd);</highlight></codeline>
<codeline lineno="1980"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1981"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a68ef60ac0eae024df5b840ce293fb437" kindref="member">PlasmaWindowInterface::leavePlasmaVirtualDesktopRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;desktopId)<sp/>{</highlight></codeline>
<codeline lineno="1982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_virtual_desktop" kindref="compound">VirtualDesktop</ref><sp/>*vd<sp/>=<sp/>VirtualDesktopManager::self()-&gt;desktopForId(desktopId);</highlight></codeline>
<codeline lineno="1983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(vd)<sp/>{</highlight></codeline>
<codeline lineno="1984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;removeWindowFromDesktop(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>vd);</highlight></codeline>
<codeline lineno="1985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1986"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="1987"><highlight class="normal"></highlight></codeline>
<codeline lineno="1988"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;activity<sp/>:<sp/>std::as_const(<ref refid="class_k_win_1_1_window_1af5906859fd02b57258bcd8bc581d1c79" kindref="member">m_activityList</ref>))<sp/>{</highlight></codeline>
<codeline lineno="1989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;addPlasmaActivity(activity);</highlight></codeline>
<codeline lineno="1990"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="1991"><highlight class="normal"></highlight></codeline>
<codeline lineno="1992"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ac86328eec92ac6f01ab3293a3d72064e" kindref="member">Window::activitiesChanged</ref>,<sp/>w,<sp/>[w,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">]<sp/>{</highlight></codeline>
<codeline lineno="1993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>newActivities<sp/>=<sp/>QSet&lt;QString&gt;(<ref refid="class_k_win_1_1_window_1af5906859fd02b57258bcd8bc581d1c79" kindref="member">m_activityList</ref>.begin(),<sp/><ref refid="class_k_win_1_1_window_1af5906859fd02b57258bcd8bc581d1c79" kindref="member">m_activityList</ref>.end());</highlight></codeline>
<codeline lineno="1994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>oldActivitiesList<sp/>=<sp/>w-&gt;plasmaActivities();</highlight></codeline>
<codeline lineno="1995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>oldActivities<sp/>=<sp/>QSet&lt;QString&gt;(oldActivitiesList.begin(),<sp/>oldActivitiesList.end());</highlight></codeline>
<codeline lineno="1996"><highlight class="normal"></highlight></codeline>
<codeline lineno="1997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>activitiesToAdd<sp/>=<sp/>newActivities<sp/>-<sp/>oldActivities;</highlight></codeline>
<codeline lineno="1998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;activity<sp/>:<sp/>activitiesToAdd)<sp/>{</highlight></codeline>
<codeline lineno="1999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;addPlasmaActivity(activity);</highlight></codeline>
<codeline lineno="2000"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2001"><highlight class="normal"></highlight></codeline>
<codeline lineno="2002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>activitiesToRemove<sp/>=<sp/>oldActivities<sp/>-<sp/>newActivities;</highlight></codeline>
<codeline lineno="2003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>&amp;activity<sp/>:<sp/>activitiesToRemove)<sp/>{</highlight></codeline>
<codeline lineno="2004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w-&gt;removePlasmaActivity(activity);</highlight></codeline>
<codeline lineno="2005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2006"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="2007"><highlight class="normal"></highlight></codeline>
<codeline lineno="2008"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Plasma<sp/>Activities<sp/>management</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2009"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>show/hide<sp/>when<sp/>the<sp/>window<sp/>enters/exits<sp/>activity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2010"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1aac31a49c195ca78a18bc4b553581d10d" kindref="member">PlasmaWindowInterface::enterPlasmaActivityRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;activityId)<sp/>{</highlight></codeline>
<codeline lineno="2011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a545f116b85dc0d6e66045171aa18fe53" kindref="member">setOnActivity</ref>(activityId,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2012"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="2013"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a12f26185080c392bfd0b61b526966a6d" kindref="member">PlasmaWindowInterface::leavePlasmaActivityRequested</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;activityId)<sp/>{</highlight></codeline>
<codeline lineno="2014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a545f116b85dc0d6e66045171aa18fe53" kindref="member">setOnActivity</ref>(activityId,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2015"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="2016"><highlight class="normal"><sp/><sp/><sp/><sp/>connect(w,<sp/>&amp;<ref refid="class_k_win_1_1_plasma_window_interface_1a10b242ddf7d41e877c6a97db60ff497c" kindref="member">PlasmaWindowInterface::sendToOutput</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">](<ref refid="class_k_win_1_1_output_interface" kindref="compound">OutputInterface</ref><sp/>*<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a43d064a134863a34bfe5956f21a35641" kindref="member">sendToOutput</ref>(<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>-&gt;handle());</highlight></codeline>
<codeline lineno="2018"><highlight class="normal"><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="2019"><highlight class="normal"></highlight></codeline>
<codeline lineno="2020"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a4400f22402e2098aa69a9cc119d3119f" kindref="member">m_windowManagementInterface</ref><sp/>=<sp/>w;</highlight></codeline>
<codeline lineno="2021"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2022"><highlight class="normal"></highlight></codeline>
<codeline lineno="2023" refid="class_k_win_1_1_window_1a13609b056f02453c5006ea28d6de94b3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a13609b056f02453c5006ea28d6de94b3" kindref="member">Window::destroyWindowManagementInterface</ref>()</highlight></codeline>
<codeline lineno="2024"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2025"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4400f22402e2098aa69a9cc119d3119f" kindref="member">m_windowManagementInterface</ref>;</highlight></codeline>
<codeline lineno="2026"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a4400f22402e2098aa69a9cc119d3119f" kindref="member">m_windowManagementInterface</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2027"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2028"><highlight class="normal"></highlight></codeline>
<codeline lineno="2029" refid="class_k_win_1_1_window_1ac90d9d4441fbcadcc29e53b26d4e20f5" refkind="member"><highlight class="normal">std::optional&lt;Options::MouseCommand&gt;<sp/><ref refid="class_k_win_1_1_window_1ac90d9d4441fbcadcc29e53b26d4e20f5" kindref="member">Window::getMousePressCommand</ref>(Qt::MouseButton<sp/>button)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2030"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2031"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(button<sp/>==<sp/>Qt::NoButton)<sp/>{</highlight></codeline>
<codeline lineno="2032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::nullopt;</highlight></codeline>
<codeline lineno="2033"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2034"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;isClickRaise()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a9886564c812681bf934e6e9d8242a01e" kindref="member">isMostRecentlyRaised</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda5f9c14fd5eb1ba175151470737e380d2" kindref="member">Options::MouseActivateRaiseAndPassClick</ref>;</highlight></codeline>
<codeline lineno="2037"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2038"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2039"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(button)<sp/>{</highlight></codeline>
<codeline lineno="2040"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::LeftButton:</highlight></codeline>
<codeline lineno="2041"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandWindow1();</highlight></codeline>
<codeline lineno="2042"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::MiddleButton:</highlight></codeline>
<codeline lineno="2043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandWindow2();</highlight></codeline>
<codeline lineno="2044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::RightButton:</highlight></codeline>
<codeline lineno="2045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandWindow3();</highlight></codeline>
<codeline lineno="2046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>all<sp/>other<sp/>buttons<sp/>pass<sp/>Activate<sp/>&amp;<sp/>Pass<sp/>Client</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda9eea91fb2cabc7ab85338650330bd597" kindref="member">Options::MouseActivateAndPassClick</ref>;</highlight></codeline>
<codeline lineno="2049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2050"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2051"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::nullopt;</highlight></codeline>
<codeline lineno="2052"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2053"><highlight class="normal"></highlight></codeline>
<codeline lineno="2054" refid="class_k_win_1_1_window_1a3d2bdcd5bd8d81287be54e5184a61f01" refkind="member"><highlight class="normal">std::optional&lt;Options::MouseCommand&gt;<sp/><ref refid="class_k_win_1_1_window_1a3d2bdcd5bd8d81287be54e5184a61f01" kindref="member">Window::getMouseReleaseCommand</ref>(Qt::MouseButton<sp/>button)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2055"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2056"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(button)<sp/>{</highlight></codeline>
<codeline lineno="2057"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::LeftButton:</highlight></codeline>
<codeline lineno="2058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandWindow1();</highlight></codeline>
<codeline lineno="2059"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::MiddleButton:</highlight></codeline>
<codeline lineno="2060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandWindow2();</highlight></codeline>
<codeline lineno="2061"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::RightButton:</highlight></codeline>
<codeline lineno="2062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandWindow3();</highlight></codeline>
<codeline lineno="2063"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::nullopt;</highlight></codeline>
<codeline lineno="2065"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2066"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2067"><highlight class="normal"></highlight></codeline>
<codeline lineno="2068" refid="class_k_win_1_1_window_1aa1872f2aa9de9e8689d1fdee95c863a9" refkind="member"><highlight class="normal">std::optional&lt;Options::MouseCommand&gt;<sp/><ref refid="class_k_win_1_1_window_1aa1872f2aa9de9e8689d1fdee95c863a9" kindref="member">Window::getWheelCommand</ref>(Qt::Orientation<sp/>orientation)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2069"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2070"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(orientation<sp/>!=<sp/>Qt::Vertical<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>std::nullopt;</highlight></codeline>
<codeline lineno="2072"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2073"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandWindowWheel();</highlight></codeline>
<codeline lineno="2074"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2075"><highlight class="normal"></highlight></codeline>
<codeline lineno="2076" refid="class_k_win_1_1_window_1adc4cfddd14db72a5b6337bf3b0f8c639" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1adc4cfddd14db72a5b6337bf3b0f8c639" kindref="member">Window::performMousePressCommand</ref>(<ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcd" kindref="member">Options::MouseCommand</ref><sp/>cmd,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;globalPos)</highlight></codeline>
<codeline lineno="2077"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2078"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>replay<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2079"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(cmd)<sp/>{</highlight></codeline>
<codeline lineno="2080"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda1afe122278403158ebb797514b1ed79d" kindref="member">Options::MouseRaise</ref>:</highlight></codeline>
<codeline lineno="2081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;raiseWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2083"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda342981735f08a22dd2ef2184ef0898c2" kindref="member">Options::MouseLower</ref>:<sp/>{</highlight></codeline>
<codeline lineno="2084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;lowerWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>used<sp/>to<sp/>be<sp/>activateNextWindow(this),<sp/>then<sp/>topWindowOnDesktop</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>since<sp/>this<sp/>is<sp/>a<sp/>mouseOp<sp/>it&apos;s<sp/>however<sp/>safe<sp/>to<sp/>use<sp/>the<sp/>window<sp/>under<sp/>the<sp/>mouse<sp/>instead</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>()<sp/>&amp;&amp;<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;focusPolicyIsReasonable())<sp/>{</highlight></codeline>
<codeline lineno="2088"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*next<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;windowUnderMouse(<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>());</highlight></codeline>
<codeline lineno="2089"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(next<sp/>&amp;&amp;<sp/>next<sp/>!=<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="2090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;requestFocus(next,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2094"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2095"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdab7b263076d0de561d51396743a454444" kindref="member">Options::MouseOperationsMenu</ref>:</highlight></codeline>
<codeline lineno="2096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>()<sp/>&amp;&amp;<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;isClickRaise())<sp/>{</highlight></codeline>
<codeline lineno="2097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a05a5e1439ce60beaa523291624da5588" kindref="member">autoRaise</ref>();</highlight></codeline>
<codeline lineno="2098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;showWindowMenu(QRect(globalPos.toPoint(),<sp/>globalPos.toPoint()),<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdad787e560756451d8ccd1edbecb321d69" kindref="member">Options::MouseToggleRaiseAndLower</ref>:</highlight></codeline>
<codeline lineno="2102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;raiseOrLowerWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdaa99a0c7b5549ddeeb7fd8863ce6c8b58" kindref="member">Options::MouseActivateAndRaise</ref>:<sp/>{</highlight></codeline>
<codeline lineno="2105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>replay<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>();<sp/></highlight><highlight class="comment">//<sp/>for<sp/>clickraise<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>mustReplay<sp/>=<sp/>!<ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkAcceptFocus(<ref refid="class_k_win_1_1_window_1a23bedb297b84a5d7e0590617375fcce3" kindref="member">acceptsFocus</ref>());</highlight></codeline>
<codeline lineno="2107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mustReplay)<sp/>{</highlight></codeline>
<codeline lineno="2108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;stackingOrder().constEnd(),</highlight></codeline>
<codeline lineno="2109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>begin<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;stackingOrder().constBegin();</highlight></codeline>
<codeline lineno="2110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(mustReplay<sp/>&amp;&amp;<sp/>--it<sp/>!=<sp/>begin<sp/>&amp;&amp;<sp/>*it<sp/>!=<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="2111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>c<sp/>=<sp/>*it;</highlight></codeline>
<codeline lineno="2112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!c-&gt;isClient()<sp/>||<sp/>(c-&gt;keepAbove()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1ade1d7dfe29d1f709eca65af12b076d2b" kindref="member">keepAbove</ref>())<sp/>||<sp/>(<ref refid="class_k_win_1_1_window_1a47ab87d36dc289a8f636f78b048a5b36" kindref="member">keepBelow</ref>()<sp/>&amp;&amp;<sp/>!c-&gt;keepBelow()))<sp/>{</highlight></codeline>
<codeline lineno="2113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>can<sp/>never<sp/>raise<sp/>above<sp/>&quot;it&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mustReplay<sp/>=<sp/>!(c-&gt;isOnCurrentDesktop()<sp/>&amp;&amp;<sp/>c-&gt;isOnCurrentActivity()<sp/>&amp;&amp;<sp/>c-&gt;frameGeometry().intersects(<ref refid="class_k_win_1_1_window_1a0cd1f979061accdf5d743f3089360132" kindref="member">frameGeometry</ref>()));</highlight></codeline>
<codeline lineno="2116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;takeActivity(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_workspace_1aa7b68eb74e4bab398b47e15ef50ca461a473e62c8bd1d0d14cd289ab6353abdbf" kindref="member">Workspace::ActivityFocus</ref><sp/>|<sp/><ref refid="class_k_win_1_1_workspace_1aa7b68eb74e4bab398b47e15ef50ca461a78fe29e8b597fd1711e6b95911549893" kindref="member">Workspace::ActivityRaise</ref>);</highlight></codeline>
<codeline lineno="2119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;setActiveOutput(globalPos);</highlight></codeline>
<codeline lineno="2120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>replay<sp/>=<sp/>replay<sp/>||<sp/>mustReplay;</highlight></codeline>
<codeline lineno="2121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2122"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdace3bdcb2c92ba390ad7fcae6b0c33b4c" kindref="member">Options::MouseActivateAndLower</ref>:</highlight></codeline>
<codeline lineno="2124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;requestFocus(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;lowerWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;setActiveOutput(globalPos);</highlight></codeline>
<codeline lineno="2127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>replay<sp/>=<sp/>replay<sp/>||<sp/>!<ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkAcceptFocus(<ref refid="class_k_win_1_1_window_1a23bedb297b84a5d7e0590617375fcce3" kindref="member">acceptsFocus</ref>());</highlight></codeline>
<codeline lineno="2128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda490e42267ce22e84ac98e46b63bd4dcb" kindref="member">Options::MouseActivate</ref>:</highlight></codeline>
<codeline lineno="2130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>replay<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>();<sp/></highlight><highlight class="comment">//<sp/>for<sp/>clickraise<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;takeActivity(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_workspace_1aa7b68eb74e4bab398b47e15ef50ca461a473e62c8bd1d0d14cd289ab6353abdbf" kindref="member">Workspace::ActivityFocus</ref>);</highlight></codeline>
<codeline lineno="2132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;setActiveOutput(globalPos);</highlight></codeline>
<codeline lineno="2133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>replay<sp/>=<sp/>replay<sp/>||<sp/>!<ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkAcceptFocus(<ref refid="class_k_win_1_1_window_1a23bedb297b84a5d7e0590617375fcce3" kindref="member">acceptsFocus</ref>());</highlight></codeline>
<codeline lineno="2134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda5f9c14fd5eb1ba175151470737e380d2" kindref="member">Options::MouseActivateRaiseAndPassClick</ref>:</highlight></codeline>
<codeline lineno="2136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;takeActivity(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_workspace_1aa7b68eb74e4bab398b47e15ef50ca461a473e62c8bd1d0d14cd289ab6353abdbf" kindref="member">Workspace::ActivityFocus</ref><sp/>|<sp/><ref refid="class_k_win_1_1_workspace_1aa7b68eb74e4bab398b47e15ef50ca461a78fe29e8b597fd1711e6b95911549893" kindref="member">Workspace::ActivityRaise</ref>);</highlight></codeline>
<codeline lineno="2137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;setActiveOutput(globalPos);</highlight></codeline>
<codeline lineno="2138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>replay<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda9173a9f39f59d3d36d86974ad4eea949" kindref="member">Options::MouseActivateRaiseOnReleaseAndPassClick</ref>:</highlight></codeline>
<codeline lineno="2141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;takeActivity(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_workspace_1aa7b68eb74e4bab398b47e15ef50ca461a473e62c8bd1d0d14cd289ab6353abdbf" kindref="member">Workspace::ActivityFocus</ref>);</highlight></codeline>
<codeline lineno="2142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;setActiveOutput(globalPos);</highlight></codeline>
<codeline lineno="2143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>replay<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda9eea91fb2cabc7ab85338650330bd597" kindref="member">Options::MouseActivateAndPassClick</ref>:</highlight></codeline>
<codeline lineno="2146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;takeActivity(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_workspace_1aa7b68eb74e4bab398b47e15ef50ca461a473e62c8bd1d0d14cd289ab6353abdbf" kindref="member">Workspace::ActivityFocus</ref>);</highlight></codeline>
<codeline lineno="2147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;setActiveOutput(globalPos);</highlight></codeline>
<codeline lineno="2148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>replay<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda61df867e35ed6d4fb21fcd45fa410198" kindref="member">Options::MouseMaximize</ref>:</highlight></codeline>
<codeline lineno="2151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">maximize</ref>(<ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9abc602b186700b8c6fb525fe2c828e910" kindref="member">MaximizeFull</ref>);</highlight></codeline>
<codeline lineno="2152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda624dbd50fa78dcdcd6bf2a8bfc4b3872" kindref="member">Options::MouseRestore</ref>:</highlight></codeline>
<codeline lineno="2154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">maximize</ref>(<ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>);</highlight></codeline>
<codeline lineno="2155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda2531480ee797c5fcecfd01a2e4444b39" kindref="member">Options::MouseMinimize</ref>:</highlight></codeline>
<codeline lineno="2157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2020d42e4c3f51da3bcec8cfdc632f86" kindref="member">setMinimized</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda8bf86dabed9456ec0bcb447e8c004b9b" kindref="member">Options::MouseAbove</ref>:<sp/>{</highlight></codeline>
<codeline lineno="2160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_stacking_updates_blocker" kindref="compound">StackingUpdatesBlocker</ref><sp/>blocker(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>());</highlight></codeline>
<codeline lineno="2161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a47ab87d36dc289a8f636f78b048a5b36" kindref="member">keepBelow</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a10220e62a04571d571a0950fb657b2d2" kindref="member">setKeepBelow</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afc24b8209fd3821a0b706667d7b97847" kindref="member">setKeepAbove</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2167"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda2296d46ad2d3a22d53bf31aa748a8871" kindref="member">Options::MouseBelow</ref>:<sp/>{</highlight></codeline>
<codeline lineno="2169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_stacking_updates_blocker" kindref="compound">StackingUpdatesBlocker</ref><sp/>blocker(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>());</highlight></codeline>
<codeline lineno="2170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ade1d7dfe29d1f709eca65af12b076d2b" kindref="member">keepAbove</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afc24b8209fd3821a0b706667d7b97847" kindref="member">setKeepAbove</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a10220e62a04571d571a0950fb657b2d2" kindref="member">setKeepBelow</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2176"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdaa8842255423d367608521c975bb7d001" kindref="member">Options::MousePreviousDesktop</ref>:</highlight></codeline>
<codeline lineno="2178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;windowToPreviousDesktop(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda8eef2d7018b57f3571cb357a06487e60" kindref="member">Options::MouseNextDesktop</ref>:</highlight></codeline>
<codeline lineno="2181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;windowToNextDesktop(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdaddc9f39023313dbee357d118da6e2a36" kindref="member">Options::MouseOpacityMore</ref>:</highlight></codeline>
<codeline lineno="2184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1ab56044e6eff0cd7e2a144756834c0751" kindref="member">isDesktop</ref>())<sp/>{<sp/></highlight><highlight class="comment">//<sp/>No<sp/>point<sp/>in<sp/>changing<sp/>the<sp/>opacity<sp/>of<sp/>the<sp/>desktop</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a294f762b7e595263d56cb155330f19fd" kindref="member">setOpacity</ref>(std::min(<ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">opacity</ref>()<sp/>+<sp/>0.1,<sp/>1.0));</highlight></codeline>
<codeline lineno="2186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda256fc19bc42bc5ffc15f1006cf793c83" kindref="member">Options::MouseOpacityLess</ref>:</highlight></codeline>
<codeline lineno="2189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1ab56044e6eff0cd7e2a144756834c0751" kindref="member">isDesktop</ref>())<sp/>{<sp/></highlight><highlight class="comment">//<sp/>No<sp/>point<sp/>in<sp/>changing<sp/>the<sp/>opacity<sp/>of<sp/>the<sp/>desktop</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a294f762b7e595263d56cb155330f19fd" kindref="member">setOpacity</ref>(std::max(<ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">opacity</ref>()<sp/>-<sp/>0.1,<sp/>0.1));</highlight></codeline>
<codeline lineno="2191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdae2e53d07ed142069c2105c447651f8a8" kindref="member">Options::MouseClose</ref>:</highlight></codeline>
<codeline lineno="2194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7b4df09999849da92ca4ef4b9b244337" kindref="member">closeWindow</ref>();</highlight></codeline>
<codeline lineno="2195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda414dc01aacd7e0255777eeb1afd1d460" kindref="member">Options::MouseActivateRaiseAndMove</ref>:</highlight></codeline>
<codeline lineno="2197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdae7dbf5c3e48b1a9c5d9b59c7f219dc6a" kindref="member">Options::MouseActivateRaiseAndUnrestrictedMove</ref>:</highlight></codeline>
<codeline lineno="2198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;raiseWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;requestFocus(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;setActiveOutput(globalPos);</highlight></codeline>
<codeline lineno="2201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>fallthrough</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdac769cf145bf19177c3818dab014f19bc" kindref="member">Options::MouseMove</ref>:</highlight></codeline>
<codeline lineno="2203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda47ccc8da852dd4787d243d541aedee1b" kindref="member">Options::MouseUnrestrictedMove</ref>:<sp/>{</highlight></codeline>
<codeline lineno="2204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a61015d9b343ba6b5a7107caa4169bb51" kindref="member">isMovableAcrossScreens</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>replay<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a52812fb30393688827b36f5ff51c1a6d" kindref="member">isInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6978b71453df0de95f4822332b1be103" kindref="member">finishInteractiveMoveResize</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a5b6daf48e5a5dfacc4c06034357cee70" kindref="member">setInteractiveMoveResizeGravity</ref>(<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a6adf97f83acf6453d4a6a4b1070f3754" kindref="member">Gravity::None</ref>);</highlight></codeline>
<codeline lineno="2212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a419a9bbda60e3f84216574ec05f4787a" kindref="member">setInteractiveMoveResizeAnchor</ref>(globalPos);</highlight></codeline>
<codeline lineno="2214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a00035dedbdce6b18de9f323c8a12ebac" kindref="member">setInteractiveMoveResizeModifiers</ref>(Qt::KeyboardModifiers());</highlight></codeline>
<codeline lineno="2215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7e62656d305c8cceba734c4f362d3249" kindref="member">setInteractiveMoveOffset</ref>(QPointF(qreal(globalPos.x()<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a8ca7699b2ae5cef0dcf3755f55f68fb7" kindref="member">x</ref>())<sp/>/<sp/><ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref>(),<sp/>qreal(globalPos.y()<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a82df990348a6c4a0696ef5e1f8aea78d" kindref="member">y</ref>())<sp/>/<sp/><ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref>()));<sp/></highlight><highlight class="comment">//<sp/>map<sp/>from<sp/>global</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a78a086d817f68eeedf87e3e49706b3da" kindref="member">setUnrestrictedInteractiveMoveResize</ref>((cmd<sp/>==<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdae7dbf5c3e48b1a9c5d9b59c7f219dc6a" kindref="member">Options::MouseActivateRaiseAndUnrestrictedMove</ref></highlight></codeline>
<codeline lineno="2217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>||<sp/>cmd<sp/>==<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda47ccc8da852dd4787d243d541aedee1b" kindref="member">Options::MouseUnrestrictedMove</ref>));</highlight></codeline>
<codeline lineno="2218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a4470354b4fa88d30ee3c7667d77c7b9c" kindref="member">startInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">updateCursor</ref>();</highlight></codeline>
<codeline lineno="2222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2223"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda20eee5e0974141ea4aeb126846c9effc" kindref="member">Options::MouseResize</ref>:</highlight></codeline>
<codeline lineno="2225"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda2bac2df5a4bd35c574722802fe5c5cb7" kindref="member">Options::MouseUnrestrictedResize</ref>:<sp/>{</highlight></codeline>
<codeline lineno="2226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aca7dbc7f62bb563afea5583e128a4afb" kindref="member">isResizable</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a3dfd89167d57f28ebedf72ffddd33191" kindref="member">isShade</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a52812fb30393688827b36f5ff51c1a6d" kindref="member">isInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6978b71453df0de95f4822332b1be103" kindref="member">finishInteractiveMoveResize</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a419a9bbda60e3f84216574ec05f4787a" kindref="member">setInteractiveMoveResizeAnchor</ref>(globalPos);</highlight></codeline>
<codeline lineno="2234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a00035dedbdce6b18de9f323c8a12ebac" kindref="member">setInteractiveMoveResizeModifiers</ref>(Qt::KeyboardModifiers());</highlight></codeline>
<codeline lineno="2235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>moveOffset<sp/>=<sp/>QPointF(globalPos.x()<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a8ca7699b2ae5cef0dcf3755f55f68fb7" kindref="member">x</ref>(),<sp/>globalPos.y()<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a82df990348a6c4a0696ef5e1f8aea78d" kindref="member">y</ref>());<sp/></highlight><highlight class="comment">//<sp/>map<sp/>from<sp/>global</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7e62656d305c8cceba734c4f362d3249" kindref="member">setInteractiveMoveOffset</ref>(QPointF(moveOffset.x()<sp/>/<sp/><ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref>(),<sp/>moveOffset.y()<sp/>/<sp/><ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref>()));</highlight></codeline>
<codeline lineno="2237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a8ca7699b2ae5cef0dcf3755f55f68fb7" kindref="member">x</ref><sp/>=<sp/>moveOffset.x(),<sp/><ref refid="class_k_win_1_1_window_1a82df990348a6c4a0696ef5e1f8aea78d" kindref="member">y</ref><sp/>=<sp/>moveOffset.y();</highlight></codeline>
<codeline lineno="2238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>left<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a8ca7699b2ae5cef0dcf3755f55f68fb7" kindref="member">x</ref><sp/>&lt;<sp/><ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref>()<sp/>/<sp/>3;</highlight></codeline>
<codeline lineno="2239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>right<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a8ca7699b2ae5cef0dcf3755f55f68fb7" kindref="member">x</ref><sp/>&gt;=<sp/>2<sp/>*<sp/><ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref>()<sp/>/<sp/>3;</highlight></codeline>
<codeline lineno="2240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>top<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a82df990348a6c4a0696ef5e1f8aea78d" kindref="member">y</ref><sp/>&lt;<sp/><ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref>()<sp/>/<sp/>3;</highlight></codeline>
<codeline lineno="2241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>bot<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a82df990348a6c4a0696ef5e1f8aea78d" kindref="member">y</ref><sp/>&gt;=<sp/>2<sp/>*<sp/><ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref>()<sp/>/<sp/>3;</highlight></codeline>
<codeline lineno="2242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8" kindref="member">Gravity</ref><sp/><ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref>;</highlight></codeline>
<codeline lineno="2243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(top)<sp/>{</highlight></codeline>
<codeline lineno="2244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref><sp/>=<sp/>left<sp/>?<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8ab32beb056fbfe36afbabc6c88c81ab36" kindref="member">Gravity::TopLeft</ref><sp/>:<sp/>(right<sp/>?<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a1d85a557894c340c318493f33bfa8efb" kindref="member">Gravity::TopRight</ref><sp/>:<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Gravity::Top</ref>);</highlight></codeline>
<codeline lineno="2245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(bot)<sp/>{</highlight></codeline>
<codeline lineno="2246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref><sp/>=<sp/>left<sp/>?<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a98e5a1c44509157ebcaf46c515c78875" kindref="member">Gravity::BottomLeft</ref><sp/>:<sp/>(right<sp/>?<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a9146bfc669fddc88db2c4d89297d0e9a" kindref="member">Gravity::BottomRight</ref><sp/>:<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Gravity::Bottom</ref>);</highlight></codeline>
<codeline lineno="2247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref><sp/>=<sp/>(<ref refid="class_k_win_1_1_window_1a8ca7699b2ae5cef0dcf3755f55f68fb7" kindref="member">x</ref><sp/>&lt;<sp/><ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref>()<sp/>/<sp/>2)<sp/>?<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Gravity::Left</ref><sp/>:<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a92b09c7c48c520c3c55e497875da437c" kindref="member">Gravity::Right</ref>;</highlight></codeline>
<codeline lineno="2249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a5b6daf48e5a5dfacc4c06034357cee70" kindref="member">setInteractiveMoveResizeGravity</ref>(<ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref>);</highlight></codeline>
<codeline lineno="2251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a78a086d817f68eeedf87e3e49706b3da" kindref="member">setUnrestrictedInteractiveMoveResize</ref>((cmd<sp/>==<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda2bac2df5a4bd35c574722802fe5c5cb7" kindref="member">Options::MouseUnrestrictedResize</ref>));</highlight></codeline>
<codeline lineno="2252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a4470354b4fa88d30ee3c7667d77c7b9c" kindref="member">startInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">updateCursor</ref>();</highlight></codeline>
<codeline lineno="2256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2257"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda106b6b52cc050da4d39b364604f67984" kindref="member">Options::MouseShade</ref>:</highlight></codeline>
<codeline lineno="2259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2728eed3519284ca4c11ceeb944033bf" kindref="member">toggleShade</ref>();</highlight></codeline>
<codeline lineno="2260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a58c27d98b0edb3a6d0afb7fdf3882c39" kindref="member">cancelShadeHoverTimer</ref>();</highlight></codeline>
<codeline lineno="2261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda86aa79b3bc84a3c612d4b797ba26e9b8" kindref="member">Options::MouseSetShade</ref>:</highlight></codeline>
<codeline lineno="2263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">setShade</ref>(<ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585faf7edb6b11c2666b2ef0da40d95f12d39" kindref="member">ShadeNormal</ref>);</highlight></codeline>
<codeline lineno="2264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a58c27d98b0edb3a6d0afb7fdf3882c39" kindref="member">cancelShadeHoverTimer</ref>();</highlight></codeline>
<codeline lineno="2265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda35981d037f03e79a4debc698ae9ca025" kindref="member">Options::MouseUnsetShade</ref>:</highlight></codeline>
<codeline lineno="2267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">setShade</ref>(<ref refid="namespace_k_win_1a14799797d985d6375dd7684fff01585fa96968d2418f89776544aadc16404b6d4" kindref="member">ShadeNone</ref>);</highlight></codeline>
<codeline lineno="2268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a58c27d98b0edb3a6d0afb7fdf3882c39" kindref="member">cancelShadeHoverTimer</ref>();</highlight></codeline>
<codeline lineno="2269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2270"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda8b997af77435f50a9f27699d29132d84" kindref="member">Options::MouseNothing</ref>:</highlight></codeline>
<codeline lineno="2271"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>replay<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2274"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>replay;</highlight></codeline>
<codeline lineno="2276"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2277"><highlight class="normal"></highlight></codeline>
<codeline lineno="2278" refid="class_k_win_1_1_window_1a0a5e4a76a206143596023e553abedfd5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0a5e4a76a206143596023e553abedfd5" kindref="member">Window::performMouseReleaseCommand</ref>(<ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcd" kindref="member">Options::MouseCommand</ref><sp/>command,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;globalPos)</highlight></codeline>
<codeline lineno="2279"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2280"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(command)<sp/>{</highlight></codeline>
<codeline lineno="2281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda9173a9f39f59d3d36d86974ad4eea949" kindref="member">Options::MouseActivateRaiseOnReleaseAndPassClick</ref>:</highlight></codeline>
<codeline lineno="2282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;takeActivity(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_workspace_1aa7b68eb74e4bab398b47e15ef50ca461a78fe29e8b597fd1711e6b95911549893" kindref="member">Workspace::ActivityRaise</ref>);</highlight></codeline>
<codeline lineno="2284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;setActiveOutput(globalPos);</highlight></codeline>
<codeline lineno="2286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2289"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2290"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2291"><highlight class="normal"></highlight></codeline>
<codeline lineno="2292" refid="class_k_win_1_1_window_1a3e742583c3124dbcc14d7f1ca800fe29" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3e742583c3124dbcc14d7f1ca800fe29" kindref="member">Window::setTransientFor</ref>(<ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*<ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>)</highlight></codeline>
<codeline lineno="2293"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref><sp/>==<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="2295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>cannot<sp/>be<sp/>transient<sp/>for<sp/>one<sp/>self</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2297"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a4f120e060e7e5296686849275e6ba0b2" kindref="member">m_transientFor</ref><sp/>==<sp/><ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2300"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2301"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a4f120e060e7e5296686849275e6ba0b2" kindref="member">m_transientFor</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>;</highlight></codeline>
<codeline lineno="2302"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1af3e806181c0aa22d655b2396d6e0e05e" kindref="member">transientChanged</ref>();</highlight></codeline>
<codeline lineno="2303"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2304"><highlight class="normal"></highlight></codeline>
<codeline lineno="2305" refid="class_k_win_1_1_window_1a5cc3ca21e54ffca6d3749abf53b1f800" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*<ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">Window::transientFor</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2306"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4f120e060e7e5296686849275e6ba0b2" kindref="member">m_transientFor</ref>;</highlight></codeline>
<codeline lineno="2308"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2309"><highlight class="normal"></highlight></codeline>
<codeline lineno="2310"><highlight class="normal"><ref refid="class_k_win_1_1_window" kindref="compound">Window</ref><sp/>*<ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">Window::transientFor</ref>()</highlight></codeline>
<codeline lineno="2311"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>m_transientFor;</highlight></codeline>
<codeline lineno="2313"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2314"><highlight class="normal"></highlight></codeline>
<codeline lineno="2315" refid="class_k_win_1_1_window_1a5423508a43c9fbdadadb2a7a168a35b6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a5423508a43c9fbdadadb2a7a168a35b6" kindref="member">Window::hasTransientPlacementHint</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2316"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2318"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2319"><highlight class="normal"></highlight></codeline>
<codeline lineno="2320" refid="class_k_win_1_1_window_1aca310d8070ce3c28a5bac7694fb2cecb" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1aca310d8070ce3c28a5bac7694fb2cecb" kindref="member">Window::transientPlacement</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2321"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2322"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_UNREACHABLE();</highlight></codeline>
<codeline lineno="2323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QRectF();</highlight></codeline>
<codeline lineno="2324"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2325"><highlight class="normal"></highlight></codeline>
<codeline lineno="2326" refid="class_k_win_1_1_window_1a982612832a19feb2f1d3d2e354a42fd8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a982612832a19feb2f1d3d2e354a42fd8" kindref="member">Window::hasTransient</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*c,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>indirect)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2327"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>c-&gt;<ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>()<sp/>==<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2329"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2330"><highlight class="normal"></highlight></codeline>
<codeline lineno="2331" refid="class_k_win_1_1_window_1afaea2549a9bde1616f1c0491a340ad64" refkind="member"><highlight class="normal">QList&lt;Window<sp/>*&gt;<sp/><ref refid="class_k_win_1_1_window_1afaea2549a9bde1616f1c0491a340ad64" kindref="member">Window::mainWindows</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2332"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*t<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QList&lt;Window<sp/>*&gt;{</highlight><highlight class="keyword">const_cast&lt;</highlight><highlight class="normal"><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(t)};</highlight></codeline>
<codeline lineno="2335"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QList&lt;Window<sp/>*&gt;();</highlight></codeline>
<codeline lineno="2337"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2338"><highlight class="normal"></highlight></codeline>
<codeline lineno="2339" refid="class_k_win_1_1_window_1a631797f76ba2b3af0cbcbc74b060e8ec" refkind="member"><highlight class="normal">QList&lt;Window<sp/>*&gt;<sp/><ref refid="class_k_win_1_1_window_1a631797f76ba2b3af0cbcbc74b060e8ec" kindref="member">Window::allMainWindows</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2340"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>result<sp/>=<sp/><ref refid="class_k_win_1_1_window_1afaea2549a9bde1616f1c0491a340ad64" kindref="member">mainWindows</ref>();</highlight></codeline>
<codeline lineno="2342"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>*window<sp/>:<sp/>result)<sp/>{</highlight></codeline>
<codeline lineno="2343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>+=<sp/>window-&gt;allMainWindows();</highlight></codeline>
<codeline lineno="2344"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="2346"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2347"><highlight class="normal"></highlight></codeline>
<codeline lineno="2348" refid="class_k_win_1_1_window_1a52d0efcfe93dcc8813fddcb813e9120e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a52d0efcfe93dcc8813fddcb813e9120e" kindref="member">Window::setModal</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>m)</highlight></codeline>
<codeline lineno="2349"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Qt-3.2<sp/>can<sp/>have<sp/>even<sp/>modal<sp/>normal<sp/>windows<sp/>:(</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2351"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1add656ef4838e72d612c6b50db024088c" kindref="member">m_modal</ref><sp/>==<sp/>m)<sp/>{</highlight></codeline>
<codeline lineno="2352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2353"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2354"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1add656ef4838e72d612c6b50db024088c" kindref="member">m_modal</ref><sp/>=<sp/>m;</highlight></codeline>
<codeline lineno="2355"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7a1e7cdb03f5e88cbda4cd80dc1e91c0" kindref="member">doSetModal</ref>();</highlight></codeline>
<codeline lineno="2356"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a6a98d80986255b4543ca25ddc07e9ff2" kindref="member">modalChanged</ref>();</highlight></codeline>
<codeline lineno="2357"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Changing<sp/>modality<sp/>for<sp/>a<sp/>mapped<sp/>window<sp/>is<sp/>weird<sp/>(?)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2358"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>_NET_WM_STATE_MODAL<sp/>should<sp/>possibly<sp/>rather<sp/>be<sp/>_NET_WM_WINDOW_TYPE_MODAL_DIALOG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2359"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2360"><highlight class="normal"></highlight></codeline>
<codeline lineno="2361" refid="class_k_win_1_1_window_1ab9a3cecb663e5b45353d210ff5de1195" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab9a3cecb663e5b45353d210ff5de1195" kindref="member">Window::isModal</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2362"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2363"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1add656ef4838e72d612c6b50db024088c" kindref="member">m_modal</ref>;</highlight></codeline>
<codeline lineno="2364"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2365"><highlight class="normal"></highlight></codeline>
<codeline lineno="2366" refid="class_k_win_1_1_window_1ac49252173ad8460fec752ffb4f74824d" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*<ref refid="class_k_win_1_1_window_1ac49252173ad8460fec752ffb4f74824d" kindref="member">Window::findModal</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2367"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2368"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*<ref refid="class_k_win_1_1_window_1a3d9ecdab0b00ae1a91a8adc152e51d14" kindref="member">transient</ref><sp/>:<sp/><ref refid="class_k_win_1_1_window_1a4b477f51ea1fb84ee84bd6fa0f0b4658" kindref="member">m_transients</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3d9ecdab0b00ae1a91a8adc152e51d14" kindref="member">transient</ref>-&gt;isDeleted())<sp/>{</highlight></codeline>
<codeline lineno="2370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3d9ecdab0b00ae1a91a8adc152e51d14" kindref="member">transient</ref>-&gt;isModal())<sp/>{</highlight></codeline>
<codeline lineno="2373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3d9ecdab0b00ae1a91a8adc152e51d14" kindref="member">transient</ref>;</highlight></codeline>
<codeline lineno="2374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*<ref refid="class_k_win_1_1_window_1a4e462795255c904774aa629a6163f391" kindref="member">modal</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a3d9ecdab0b00ae1a91a8adc152e51d14" kindref="member">transient</ref>-&gt;findModal())<sp/>{</highlight></codeline>
<codeline lineno="2376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4e462795255c904774aa629a6163f391" kindref="member">modal</ref>;</highlight></codeline>
<codeline lineno="2377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2378"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2380"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2381"><highlight class="normal"></highlight></codeline>
<codeline lineno="2382" refid="class_k_win_1_1_window_1a9c9cc0a66b183a2777a997e351a4c7cf" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a9c9cc0a66b183a2777a997e351a4c7cf" kindref="member">Window::isTransient</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2383"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2384"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2385"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2386"><highlight class="normal"></highlight></codeline>
<codeline lineno="2387"><highlight class="normal"></highlight><highlight class="comment">//<sp/>check<sp/>whether<sp/>a<sp/>transient<sp/>should<sp/>be<sp/>actually<sp/>kept<sp/>above<sp/>its<sp/>mainwindow</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2388"><highlight class="normal"></highlight><highlight class="comment">//<sp/>there<sp/>may<sp/>be<sp/>some<sp/>special<sp/>cases<sp/>where<sp/>this<sp/>rule<sp/>shouldn&apos;t<sp/>be<sp/>enfored</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2389"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>shouldKeepTransientAbove(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window" kindref="compound">Window</ref><sp/>*parent,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window" kindref="compound">Window</ref><sp/>*transient)</highlight></codeline>
<codeline lineno="2390"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>#93832<sp/>-<sp/>don&apos;t<sp/>keep<sp/>splashscreens<sp/>above<sp/>dialogs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(transient-&gt;<ref refid="class_k_win_1_1_window_1aa0179fdd1c6fee664b5401f61f35e493" kindref="member">isSplash</ref>()<sp/>&amp;&amp;<sp/>parent-&gt;<ref refid="class_k_win_1_1_window_1a7dd959da7a7a8d50a959684a92d55d65" kindref="member">isDialog</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2394"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2395"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>rather<sp/>a<sp/>hack<sp/>for<sp/>#76026.<sp/>Don&apos;t<sp/>keep<sp/>non-modal<sp/>dialogs<sp/>above</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2396"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>mainwindow,<sp/>but<sp/>only<sp/>if<sp/>they&apos;re<sp/>group<sp/>transient<sp/>(since<sp/>only<sp/>such<sp/>dialogs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2397"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>have<sp/>taskbar<sp/>entry<sp/>in<sp/>Kicker).<sp/>A<sp/>proper<sp/>way<sp/>of<sp/>doing<sp/>this<sp/>(both<sp/>kwin<sp/>and<sp/>kicker)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>needs<sp/>to<sp/>be<sp/>found.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(transient-&gt;<ref refid="class_k_win_1_1_window_1a7dd959da7a7a8d50a959684a92d55d65" kindref="member">isDialog</ref>()<sp/>&amp;&amp;<sp/>!transient-&gt;<ref refid="class_k_win_1_1_window_1ab9a3cecb663e5b45353d210ff5de1195" kindref="member">isModal</ref>()<sp/>&amp;&amp;<sp/>transient-&gt;<ref refid="class_k_win_1_1_window_1a4d1c2d0e1fde826cd0f99ec00ed93de6" kindref="member">groupTransient</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2401"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2402"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>#63223<sp/>-<sp/>don&apos;t<sp/>keep<sp/>transients<sp/>above<sp/>docks,<sp/>because<sp/>the<sp/>dock<sp/>is<sp/>kept<sp/>high,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2403"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>e.g.<sp/>dialogs<sp/>for<sp/>them<sp/>would<sp/>be<sp/>too<sp/>high<sp/>too</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ignore<sp/>this<sp/>if<sp/>the<sp/>transient<sp/>has<sp/>a<sp/>placement<sp/>hint<sp/>which<sp/>indicates<sp/>it<sp/>should<sp/>go<sp/>above<sp/>it&apos;s<sp/>parent</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(parent-&gt;<ref refid="class_k_win_1_1_window_1a3b2b28edaa7b699d1407322fd11ec1cb" kindref="member">isDock</ref>()<sp/>&amp;&amp;<sp/>!transient-&gt;<ref refid="class_k_win_1_1_window_1a5423508a43c9fbdadadb2a7a168a35b6" kindref="member">hasTransientPlacementHint</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2407"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2408"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2409"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2410"><highlight class="normal"></highlight></codeline>
<codeline lineno="2411" refid="class_k_win_1_1_window_1af1548a0423bb576776f96aee0d3847fa" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af1548a0423bb576776f96aee0d3847fa" kindref="member">Window::addTransient</ref>(<ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*cl)</highlight></codeline>
<codeline lineno="2412"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2413"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT(!<ref refid="class_k_win_1_1_window_1a4b477f51ea1fb84ee84bd6fa0f0b4658" kindref="member">m_transients</ref>.contains(cl));</highlight></codeline>
<codeline lineno="2414"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT(cl<sp/>!=<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2415"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a4b477f51ea1fb84ee84bd6fa0f0b4658" kindref="member">m_transients</ref>.append(cl);</highlight></codeline>
<codeline lineno="2416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(shouldKeepTransientAbove(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>cl))<sp/>{</highlight></codeline>
<codeline lineno="2417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;constrain(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>cl);</highlight></codeline>
<codeline lineno="2418"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2419"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2420"><highlight class="normal"></highlight></codeline>
<codeline lineno="2421" refid="class_k_win_1_1_window_1a660daf739fe1a2d1a2280599f526635c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a660daf739fe1a2d1a2280599f526635c" kindref="member">Window::removeTransient</ref>(<ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*cl)</highlight></codeline>
<codeline lineno="2422"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2423"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a4b477f51ea1fb84ee84bd6fa0f0b4658" kindref="member">m_transients</ref>.removeAll(cl);</highlight></codeline>
<codeline lineno="2424"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cl-&gt;<ref refid="class_k_win_1_1_window_1a74ba8e8138736add81114a69c064170a" kindref="member">transientFor</ref>()<sp/>==<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="2425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cl-&gt;<ref refid="class_k_win_1_1_window_1a3e742583c3124dbcc14d7f1ca800fe29" kindref="member">setTransientFor</ref>(</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2426"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2427"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;unconstrain(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>cl);</highlight></codeline>
<codeline lineno="2428"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2429"><highlight class="normal"></highlight></codeline>
<codeline lineno="2430" refid="class_k_win_1_1_window_1a35e79a166a5640473b24800e1a7e13cd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a35e79a166a5640473b24800e1a7e13cd" kindref="member">Window::removeTransientFromList</ref>(<ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*cl)</highlight></codeline>
<codeline lineno="2431"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2432"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a4b477f51ea1fb84ee84bd6fa0f0b4658" kindref="member">m_transients</ref>.removeAll(cl);</highlight></codeline>
<codeline lineno="2433"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2434"><highlight class="normal"></highlight></codeline>
<codeline lineno="2435" refid="class_k_win_1_1_window_1a6af763334d4b8f6e15dab019710e6fde" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a6af763334d4b8f6e15dab019710e6fde" kindref="member">Window::isActiveFullScreen</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2436"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2437"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1af68e2698e10f68963734220af029279f" kindref="member">isFullScreen</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2439"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2440"><highlight class="normal"></highlight></codeline>
<codeline lineno="2441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>ac<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;mostRecentlyActivatedWindow();<sp/></highlight><highlight class="comment">//<sp/>instead<sp/>of<sp/>activeWindow()<sp/>-<sp/>avoids<sp/>flicker</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2442"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>according<sp/>to<sp/>NETWM<sp/>spec<sp/>implementation<sp/>notes<sp/>suggests</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;focused<sp/>windows<sp/>having<sp/>state<sp/>_NET_WM_STATE_FULLSCREEN&quot;<sp/>to<sp/>be<sp/>on<sp/>the<sp/>highest<sp/>layer.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2444"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>we&apos;ll<sp/>also<sp/>take<sp/>the<sp/>screen<sp/>into<sp/>account</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2445"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ac<sp/>&amp;&amp;<sp/>(ac<sp/>==<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"><sp/>||<sp/>!ac-&gt;isOnOutput(<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>())<sp/>||<sp/>ac-&gt;allMainWindows().contains(</highlight><highlight class="keyword">const_cast&lt;</highlight><highlight class="normal"><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(</highlight><highlight class="keyword">this</highlight><highlight class="normal">)));</highlight></codeline>
<codeline lineno="2446"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2447"><highlight class="normal"></highlight></codeline>
<codeline lineno="2448" refid="class_k_win_1_1_window_1a7b47bcdf2ffd2ba3113725d2ebfaf822" refkind="member"><highlight class="normal">qreal<sp/><ref refid="class_k_win_1_1_window_1a7b47bcdf2ffd2ba3113725d2ebfaf822" kindref="member">Window::borderBottom</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2449"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>()<sp/>?<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;borderBottom()<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="2451"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2452"><highlight class="normal"></highlight></codeline>
<codeline lineno="2453" refid="class_k_win_1_1_window_1a704f2db4a15f2ca4e6ae0b163e73c708" refkind="member"><highlight class="normal">qreal<sp/><ref refid="class_k_win_1_1_window_1a704f2db4a15f2ca4e6ae0b163e73c708" kindref="member">Window::borderLeft</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2454"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>()<sp/>?<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;borderLeft()<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="2456"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2457"><highlight class="normal"></highlight></codeline>
<codeline lineno="2458" refid="class_k_win_1_1_window_1a3309d429b01d3670e9fcf4f54917ce46" refkind="member"><highlight class="normal">qreal<sp/><ref refid="class_k_win_1_1_window_1a3309d429b01d3670e9fcf4f54917ce46" kindref="member">Window::borderRight</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2459"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>()<sp/>?<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;borderRight()<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="2461"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2462"><highlight class="normal"></highlight></codeline>
<codeline lineno="2463" refid="class_k_win_1_1_window_1a079dfba93240f19cadab52f478e48e84" refkind="member"><highlight class="normal">qreal<sp/><ref refid="class_k_win_1_1_window_1a079dfba93240f19cadab52f478e48e84" kindref="member">Window::borderTop</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2464"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2465"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>()<sp/>?<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;borderTop()<sp/>:<sp/>0;</highlight></codeline>
<codeline lineno="2466"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2467"><highlight class="normal"></highlight></codeline>
<codeline lineno="2468" refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">Window::updateCursor</ref>()</highlight></codeline>
<codeline lineno="2469"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2470"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2472"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2473"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8" kindref="member">Gravity</ref><sp/><ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb3ff3e9e2c5fe0b4816948a52cb58a6" kindref="member">interactiveMoveResizeGravity</ref>();</highlight></codeline>
<codeline lineno="2474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aca7dbc7f62bb563afea5583e128a4afb" kindref="member">isResizable</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a3dfd89167d57f28ebedf72ffddd33191" kindref="member">isShade</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref><sp/>=<sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a6adf97f83acf6453d4a6a4b1070f3754" kindref="member">Gravity::None</ref>;</highlight></codeline>
<codeline lineno="2476"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2477"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_cursor_shape" kindref="compound">CursorShape</ref><sp/>c<sp/>=<sp/>Qt::ArrowCursor;</highlight></codeline>
<codeline lineno="2478"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1abb26f86fb723e81f43e0a27e8ffa0aa8" kindref="member">gravity</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2479"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8ab32beb056fbfe36afbabc6c88c81ab36" kindref="member">Gravity::TopLeft</ref>:</highlight></codeline>
<codeline lineno="2480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/><ref refid="namespace_k_win_1_1_extended_cursor_1a7cb2d5bc7b5966a1499c5f6e3048c290a9ad5d6446235ab7a7d35fb34c5bb2a9d" kindref="member">KWin::ExtendedCursor::SizeNorthWest</ref>;</highlight></codeline>
<codeline lineno="2481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a9146bfc669fddc88db2c4d89297d0e9a" kindref="member">Gravity::BottomRight</ref>:</highlight></codeline>
<codeline lineno="2483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/><ref refid="namespace_k_win_1_1_extended_cursor_1a7cb2d5bc7b5966a1499c5f6e3048c290ace921a5459888ba61bd5e21a7a2ff423" kindref="member">KWin::ExtendedCursor::SizeSouthEast</ref>;</highlight></codeline>
<codeline lineno="2484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2485"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a98e5a1c44509157ebcaf46c515c78875" kindref="member">Gravity::BottomLeft</ref>:</highlight></codeline>
<codeline lineno="2486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/><ref refid="namespace_k_win_1_1_extended_cursor_1a7cb2d5bc7b5966a1499c5f6e3048c290a9de72becd09e878d040a7e7c1573edf0" kindref="member">KWin::ExtendedCursor::SizeSouthWest</ref>;</highlight></codeline>
<codeline lineno="2487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a1d85a557894c340c318493f33bfa8efb" kindref="member">Gravity::TopRight</ref>:</highlight></codeline>
<codeline lineno="2489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/><ref refid="namespace_k_win_1_1_extended_cursor_1a7cb2d5bc7b5966a1499c5f6e3048c290aeb9e779a82ab19389bf0416eab4e6b7c" kindref="member">KWin::ExtendedCursor::SizeNorthEast</ref>;</highlight></codeline>
<codeline lineno="2490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2491"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Gravity::Top</ref>:</highlight></codeline>
<codeline lineno="2492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/><ref refid="namespace_k_win_1_1_extended_cursor_1a7cb2d5bc7b5966a1499c5f6e3048c290a30ccb8d95fe229cd1d6b3c3c36f8152d" kindref="member">KWin::ExtendedCursor::SizeNorth</ref>;</highlight></codeline>
<codeline lineno="2493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2494"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Gravity::Bottom</ref>:</highlight></codeline>
<codeline lineno="2495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/><ref refid="namespace_k_win_1_1_extended_cursor_1a7cb2d5bc7b5966a1499c5f6e3048c290afe568b1bfe4a2e6ccbc37ea72868bfcc" kindref="member">KWin::ExtendedCursor::SizeSouth</ref>;</highlight></codeline>
<codeline lineno="2496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2497"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Gravity::Left</ref>:</highlight></codeline>
<codeline lineno="2498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/><ref refid="namespace_k_win_1_1_extended_cursor_1a7cb2d5bc7b5966a1499c5f6e3048c290af2d9a06ae3fc3210a33c9ee539baa44b" kindref="member">KWin::ExtendedCursor::SizeWest</ref>;</highlight></codeline>
<codeline lineno="2499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2500"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a92b09c7c48c520c3c55e497875da437c" kindref="member">Gravity::Right</ref>:</highlight></codeline>
<codeline lineno="2501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/><ref refid="namespace_k_win_1_1_extended_cursor_1a7cb2d5bc7b5966a1499c5f6e3048c290a0ce4cf641e5de6c6e7e17514bb223f5e" kindref="member">KWin::ExtendedCursor::SizeEast</ref>;</highlight></codeline>
<codeline lineno="2502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2503"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a52812fb30393688827b36f5ff51c1a6d" kindref="member">isInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/>Qt::ClosedHandCursor;</highlight></codeline>
<codeline lineno="2506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c<sp/>=<sp/>Qt::ArrowCursor;</highlight></codeline>
<codeline lineno="2508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2510"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2511"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(c<sp/>==<sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.cursor)<sp/>{</highlight></codeline>
<codeline lineno="2512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2513"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2514"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.cursor<sp/>=<sp/>c;</highlight></codeline>
<codeline lineno="2515"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1afd3ab3a04af8f8ee6569e6389b1a7ac2" kindref="member">moveResizeCursorChanged</ref>(c);</highlight></codeline>
<codeline lineno="2516"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2517"><highlight class="normal"></highlight></codeline>
<codeline lineno="2518" refid="class_k_win_1_1_window_1ad31baea5b1b98cc7a01b21e6b527f77a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ad31baea5b1b98cc7a01b21e6b527f77a" kindref="member">Window::leaveInteractiveMoveResize</ref>()</highlight></codeline>
<codeline lineno="2519"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2520"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;setMoveResizeWindow(</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2521"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a3ac078b88d06393b75e7ba06d5b934c8" kindref="member">setInteractiveMoveResize</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2522"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;screenEdges()-&gt;isDesktopSwitchingMovingClients())<sp/>{</highlight></codeline>
<codeline lineno="2523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;screenEdges()-&gt;reserveDesktopSwitching(</highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/>Qt::Vertical<sp/>|<sp/>Qt::Horizontal);</highlight></codeline>
<codeline lineno="2524"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2525"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ac0833d8fcb7badada14ec1ab9a1a7729" kindref="member">isElectricBorderMaximizing</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outline()-&gt;hide();</highlight></codeline>
<codeline lineno="2527"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2528"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2529"><highlight class="normal"></highlight></codeline>
<codeline lineno="2530" refid="class_k_win_1_1_window_1a1225fe6301b15744feb468fa81c52d21" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1225fe6301b15744feb468fa81c52d21" kindref="member">Window::doStartInteractiveMoveResize</ref>()</highlight></codeline>
<codeline lineno="2531"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2533"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2534"><highlight class="normal"></highlight></codeline>
<codeline lineno="2535" refid="class_k_win_1_1_window_1ac94cdf63c71362a86dc28ecb5e40a1bc" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ac94cdf63c71362a86dc28ecb5e40a1bc" kindref="member">Window::doFinishInteractiveMoveResize</ref>()</highlight></codeline>
<codeline lineno="2536"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2537"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2538"><highlight class="normal"></highlight></codeline>
<codeline lineno="2539" refid="class_k_win_1_1_window_1a340e12bfbaf12ad16dc20e49e1fda8ee" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a340e12bfbaf12ad16dc20e49e1fda8ee" kindref="member">Window::isWaitingForInteractiveResizeSync</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2540"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2541"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2542"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2543"><highlight class="normal"></highlight></codeline>
<codeline lineno="2544" refid="class_k_win_1_1_window_1a73ece0a5a9b6157cb1c10461a3ccb1fe" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a73ece0a5a9b6157cb1c10461a3ccb1fe" kindref="member">Window::doInteractiveResizeSync</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;)</highlight></codeline>
<codeline lineno="2545"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2546"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2547"><highlight class="normal"></highlight></codeline>
<codeline lineno="2548" refid="class_k_win_1_1_window_1a841ef2a66e586b3cfb6aadd65e179419" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a841ef2a66e586b3cfb6aadd65e179419" kindref="member">Window::checkQuickTilingMaximizationZones</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>xroot,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>yroot)</highlight></codeline>
<codeline lineno="2549"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2550"><highlight class="normal"><sp/><sp/><sp/><sp/>std::optional&lt;ElectricBorderMode&gt;<sp/>mode<sp/>=<sp/>std::nullopt;</highlight></codeline>
<codeline lineno="2551"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>innerBorder<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2552"><highlight class="normal"></highlight></codeline>
<codeline lineno="2553"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>outputs<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputs();</highlight></codeline>
<codeline lineno="2554"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref><sp/>:<sp/>outputs)<sp/>{</highlight></codeline>
<codeline lineno="2555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>-&gt;geometry().contains(QPoint(xroot,<sp/>yroot)))<sp/>{</highlight></codeline>
<codeline lineno="2556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2558"><highlight class="normal"></highlight></codeline>
<codeline lineno="2559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>isInScreen<sp/>=<sp/>[&amp;<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>,<sp/>&amp;outputs](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPoint<sp/>&amp;pt)<sp/>{</highlight></codeline>
<codeline lineno="2560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*other<sp/>:<sp/>outputs)<sp/>{</highlight></codeline>
<codeline lineno="2561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(other<sp/>==<sp/><ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(other-&gt;geometry().contains(pt))<sp/>{</highlight></codeline>
<codeline lineno="2565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="2570"><highlight class="normal"></highlight></codeline>
<codeline lineno="2571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRectF<sp/>area<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a445c2e99842dbf1b3870807ebbd11f23" kindref="member">MaximizeArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>QPointF(xroot,<sp/>yroot));</highlight></codeline>
<codeline lineno="2572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QuickTileMode<sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>=<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>;</highlight></codeline>
<codeline lineno="2573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;electricBorderTiling())<sp/>{</highlight></codeline>
<codeline lineno="2574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(xroot<sp/>&lt;=<sp/>area.x()<sp/>+<sp/>20)<sp/>{</highlight></codeline>
<codeline lineno="2575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>|=<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa945d5e233cf7d6240f6b783b36a374ff" kindref="member">QuickTileFlag::Left</ref>;</highlight></codeline>
<codeline lineno="2576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>innerBorder<sp/>=<sp/>isInScreen(QPoint(area.x()<sp/>-<sp/>1,<sp/>yroot));</highlight></codeline>
<codeline lineno="2577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(xroot<sp/>&gt;=<sp/>area.x()<sp/>+<sp/>area.width()<sp/>-<sp/>20)<sp/>{</highlight></codeline>
<codeline lineno="2578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>|=<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa92b09c7c48c520c3c55e497875da437c" kindref="member">QuickTileFlag::Right</ref>;</highlight></codeline>
<codeline lineno="2579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>innerBorder<sp/>=<sp/>isInScreen(QPoint(area.right()<sp/>+<sp/>1,<sp/>yroot));</highlight></codeline>
<codeline lineno="2580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2582"><highlight class="normal"></highlight></codeline>
<codeline lineno="2583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>!=<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>))<sp/>{</highlight></codeline>
<codeline lineno="2584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(yroot<sp/>&lt;=<sp/>area.y()<sp/>+<sp/>area.height()<sp/>*<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;electricBorderCornerRatio())<sp/>{</highlight></codeline>
<codeline lineno="2585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>|=<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfaa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">QuickTileFlag::Top</ref>;</highlight></codeline>
<codeline lineno="2586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(yroot<sp/>&gt;=<sp/>area.y()<sp/>+<sp/>area.height()<sp/>-<sp/>area.height()<sp/>*<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;electricBorderCornerRatio())<sp/>{</highlight></codeline>
<codeline lineno="2587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>|=<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">QuickTileFlag::Bottom</ref>;</highlight></codeline>
<codeline lineno="2588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>;</highlight></codeline>
<codeline lineno="2590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;electricBorderMaximize()<sp/>&amp;&amp;<sp/>yroot<sp/>&lt;=<sp/>area.y()<sp/>+<sp/>5<sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1aa63a6139d1d83641d1e6d1617da0406d" kindref="member">isMaximizable</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode<sp/>=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9abc602b186700b8c6fb525fe2c828e910" kindref="member">MaximizeFull</ref>;</highlight></codeline>
<codeline lineno="2592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>innerBorder<sp/>=<sp/>isInScreen(QPoint(xroot,<sp/>area.y()<sp/>-<sp/>1));</highlight></codeline>
<codeline lineno="2593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>no<sp/>point<sp/>in<sp/>checking<sp/>other<sp/>screens<sp/>to<sp/>contain<sp/>this...<sp/>&quot;point&quot;...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2595"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2596"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>!=<sp/><ref refid="class_k_win_1_1_window_1abd7f4cf5b59018602262ca9ec54e419e" kindref="member">electricBorderMode</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a57e519ab516032f0d9d74016c1229f1d" kindref="member">setElectricBorderMode</ref>(mode);</highlight></codeline>
<codeline lineno="2598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(innerBorder)<sp/>{</highlight></codeline>
<codeline lineno="2599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a8ac86198b154d673d3f95e53f8e22bbc" kindref="member">m_electricMaximizingDelay</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8ac86198b154d673d3f95e53f8e22bbc" kindref="member">m_electricMaximizingDelay</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>QTimer(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8ac86198b154d673d3f95e53f8e22bbc" kindref="member">m_electricMaximizingDelay</ref>-&gt;setInterval(250);</highlight></codeline>
<codeline lineno="2602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8ac86198b154d673d3f95e53f8e22bbc" kindref="member">m_electricMaximizingDelay</ref>-&gt;setSingleShot(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1a8ac86198b154d673d3f95e53f8e22bbc" kindref="member">m_electricMaximizingDelay</ref>,<sp/>&amp;QTimer::timeout,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="2604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1b63155365b80df09ad34dc75f15102d" kindref="member">isInteractiveMove</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8daebb2d16d0caf9dd9e9db6322b47de" kindref="member">setElectricBorderMaximizing</ref>(<ref refid="class_k_win_1_1_window_1abd7f4cf5b59018602262ca9ec54e419e" kindref="member">electricBorderMode</ref>().has_value());</highlight></codeline>
<codeline lineno="2606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="2608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8ac86198b154d673d3f95e53f8e22bbc" kindref="member">m_electricMaximizingDelay</ref>-&gt;start();</highlight></codeline>
<codeline lineno="2610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8daebb2d16d0caf9dd9e9db6322b47de" kindref="member">setElectricBorderMaximizing</ref>(mode.has_value());</highlight></codeline>
<codeline lineno="2612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2613"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2614"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2615"><highlight class="normal"></highlight></codeline>
<codeline lineno="2616" refid="class_k_win_1_1_window_1aa5afd7d435f68d9fdfe23ae20b954bc6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aa5afd7d435f68d9fdfe23ae20b954bc6" kindref="member">Window::resetQuickTilingMaximizationZones</ref>()</highlight></codeline>
<codeline lineno="2617"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2618"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1abd7f4cf5b59018602262ca9ec54e419e" kindref="member">electricBorderMode</ref>().has_value())<sp/>{</highlight></codeline>
<codeline lineno="2619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a8ac86198b154d673d3f95e53f8e22bbc" kindref="member">m_electricMaximizingDelay</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8ac86198b154d673d3f95e53f8e22bbc" kindref="member">m_electricMaximizingDelay</ref>-&gt;stop();</highlight></codeline>
<codeline lineno="2621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8daebb2d16d0caf9dd9e9db6322b47de" kindref="member">setElectricBorderMaximizing</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a57e519ab516032f0d9d74016c1229f1d" kindref="member">setElectricBorderMode</ref>(std::nullopt);</highlight></codeline>
<codeline lineno="2624"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2625"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2626"><highlight class="normal"></highlight></codeline>
<codeline lineno="2627" refid="class_k_win_1_1_window_1aeb1157e5384db85990b6c16659bc7ab3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aeb1157e5384db85990b6c16659bc7ab3" kindref="member">Window::keyPressEvent</ref>(QKeyCombination<sp/>key_combination)</highlight></codeline>
<codeline lineno="2628"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2629"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a1b63155365b80df09ad34dc75f15102d" kindref="member">isInteractiveMove</ref>()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a6994e3aab2074f1b07c15c2f51629363" kindref="member">isInteractiveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2631"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2632"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_control<sp/>=<sp/>key_combination.keyboardModifiers()<sp/>&amp;<sp/>Qt::CTRL;</highlight></codeline>
<codeline lineno="2633"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>is_alt<sp/>=<sp/>key_combination.keyboardModifiers()<sp/>&amp;<sp/>Qt::ALT;</highlight></codeline>
<codeline lineno="2634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>delta<sp/>=<sp/>is_control<sp/>?<sp/>1<sp/>:<sp/>is_alt<sp/>?<sp/>32</highlight></codeline>
<codeline lineno="2635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>8;</highlight></codeline>
<codeline lineno="2636"><highlight class="normal"><sp/><sp/><sp/><sp/>QPointF<sp/><ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a028d288109b39cb174d34fb8b2b44345" kindref="member">interactiveMoveResizeAnchor</ref>();</highlight></codeline>
<codeline lineno="2637"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(key_combination.key())<sp/>{</highlight></codeline>
<codeline lineno="2638"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::Key_Left:</highlight></codeline>
<codeline lineno="2639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>.rx()<sp/>-=<sp/>delta;</highlight></codeline>
<codeline lineno="2640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2641"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::Key_Right:</highlight></codeline>
<codeline lineno="2642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>.rx()<sp/>+=<sp/>delta;</highlight></codeline>
<codeline lineno="2643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2644"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::Key_Up:</highlight></codeline>
<codeline lineno="2645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>.ry()<sp/>-=<sp/>delta;</highlight></codeline>
<codeline lineno="2646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2647"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::Key_Down:</highlight></codeline>
<codeline lineno="2648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>.ry()<sp/>+=<sp/>delta;</highlight></codeline>
<codeline lineno="2649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2650"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::Key_Space:</highlight></codeline>
<codeline lineno="2651"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::Key_Return:</highlight></codeline>
<codeline lineno="2652"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::Key_Enter:</highlight></codeline>
<codeline lineno="2653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6978b71453df0de95f4822332b1be103" kindref="member">finishInteractiveMoveResize</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2655"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">updateCursor</ref>();</highlight></codeline>
<codeline lineno="2656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2657"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::Key_Escape:</highlight></codeline>
<codeline lineno="2658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6978b71453df0de95f4822332b1be103" kindref="member">finishInteractiveMoveResize</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">updateCursor</ref>();</highlight></codeline>
<codeline lineno="2661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2662"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2664"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2665"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1abe2e249447d344f266998fdcef93fde0" kindref="member">input</ref>()-&gt;pointer()-&gt;warp(<ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>);</highlight></codeline>
<codeline lineno="2666"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2667"><highlight class="normal"></highlight></codeline>
<codeline lineno="2668" refid="class_k_win_1_1_window_1a2570c494a29c3c06a6b47230592e97c4" refkind="member"><highlight class="normal">QSizeF<sp/><ref refid="class_k_win_1_1_window_1a2570c494a29c3c06a6b47230592e97c4" kindref="member">Window::resizeIncrements</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2669"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2670"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QSizeF(1,<sp/>1);</highlight></codeline>
<codeline lineno="2671"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2672"><highlight class="normal"></highlight></codeline>
<codeline lineno="2673" refid="class_k_win_1_1_window_1ac40923cee6c26120f57174bde42a37eb" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ac40923cee6c26120f57174bde42a37eb" kindref="member">Window::dontInteractiveMoveResize</ref>()</highlight></codeline>
<codeline lineno="2674"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2675"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2676"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af36f8d8979cc3ffb49d244fd04541f0f" kindref="member">stopDelayedInteractiveMoveResize</ref>();</highlight></codeline>
<codeline lineno="2677"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a52812fb30393688827b36f5ff51c1a6d" kindref="member">isInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6978b71453df0de95f4822332b1be103" kindref="member">finishInteractiveMoveResize</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2679"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2680"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2681"><highlight class="normal"></highlight></codeline>
<codeline lineno="2682" refid="class_k_win_1_1_window_1a167b374ab7f2cd2da20250457a4fc2d2" refkind="member"><highlight class="normal"><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8" kindref="member">Gravity</ref><sp/><ref refid="class_k_win_1_1_window_1a167b374ab7f2cd2da20250457a4fc2d2" kindref="member">Window::mouseGravity</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2683"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2684"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;sectionUnderMouse())<sp/>{</highlight></codeline>
<codeline lineno="2686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::BottomLeftSection:</highlight></codeline>
<codeline lineno="2687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a98e5a1c44509157ebcaf46c515c78875" kindref="member">Gravity::BottomLeft</ref>;</highlight></codeline>
<codeline lineno="2688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::BottomRightSection:</highlight></codeline>
<codeline lineno="2689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a9146bfc669fddc88db2c4d89297d0e9a" kindref="member">Gravity::BottomRight</ref>;</highlight></codeline>
<codeline lineno="2690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::BottomSection:</highlight></codeline>
<codeline lineno="2691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Gravity::Bottom</ref>;</highlight></codeline>
<codeline lineno="2692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::LeftSection:</highlight></codeline>
<codeline lineno="2693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Gravity::Left</ref>;</highlight></codeline>
<codeline lineno="2694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::RightSection:</highlight></codeline>
<codeline lineno="2695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a92b09c7c48c520c3c55e497875da437c" kindref="member">Gravity::Right</ref>;</highlight></codeline>
<codeline lineno="2696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::TopSection:</highlight></codeline>
<codeline lineno="2697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Gravity::Top</ref>;</highlight></codeline>
<codeline lineno="2698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::TopLeftSection:</highlight></codeline>
<codeline lineno="2699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8ab32beb056fbfe36afbabc6c88c81ab36" kindref="member">Gravity::TopLeft</ref>;</highlight></codeline>
<codeline lineno="2700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::TopRightSection:</highlight></codeline>
<codeline lineno="2701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a1d85a557894c340c318493f33bfa8efb" kindref="member">Gravity::TopRight</ref>;</highlight></codeline>
<codeline lineno="2702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a6adf97f83acf6453d4a6a4b1070f3754" kindref="member">Gravity::None</ref>;</highlight></codeline>
<codeline lineno="2704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2705"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2706"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a6adf97f83acf6453d4a6a4b1070f3754" kindref="member">Gravity::None</ref>;</highlight></codeline>
<codeline lineno="2707"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2708"><highlight class="normal"></highlight></codeline>
<codeline lineno="2709" refid="class_k_win_1_1_window_1a3bb6bb26cb4a8e13525c376ac9bbd3b2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3bb6bb26cb4a8e13525c376ac9bbd3b2" kindref="member">Window::endInteractiveMoveResize</ref>()</highlight></codeline>
<codeline lineno="2710"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2711"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2712"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af36f8d8979cc3ffb49d244fd04541f0f" kindref="member">stopDelayedInteractiveMoveResize</ref>();</highlight></codeline>
<codeline lineno="2713"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a52812fb30393688827b36f5ff51c1a6d" kindref="member">isInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6978b71453df0de95f4822332b1be103" kindref="member">finishInteractiveMoveResize</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a5b6daf48e5a5dfacc4c06034357cee70" kindref="member">setInteractiveMoveResizeGravity</ref>(<ref refid="class_k_win_1_1_window_1a167b374ab7f2cd2da20250457a4fc2d2" kindref="member">mouseGravity</ref>());</highlight></codeline>
<codeline lineno="2716"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2717"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">updateCursor</ref>();</highlight></codeline>
<codeline lineno="2718"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2719"><highlight class="normal"></highlight></codeline>
<codeline lineno="2720" refid="class_k_win_1_1_window_1aaae917a76558b06792ac435c316cf705" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aaae917a76558b06792ac435c316cf705" kindref="member">Window::cancelInteractiveMoveResize</ref>()</highlight></codeline>
<codeline lineno="2721"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2722"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2723"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af36f8d8979cc3ffb49d244fd04541f0f" kindref="member">stopDelayedInteractiveMoveResize</ref>();</highlight></codeline>
<codeline lineno="2724"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a52812fb30393688827b36f5ff51c1a6d" kindref="member">isInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6978b71453df0de95f4822332b1be103" kindref="member">finishInteractiveMoveResize</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a5b6daf48e5a5dfacc4c06034357cee70" kindref="member">setInteractiveMoveResizeGravity</ref>(<ref refid="class_k_win_1_1_window_1a167b374ab7f2cd2da20250457a4fc2d2" kindref="member">mouseGravity</ref>());</highlight></codeline>
<codeline lineno="2727"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2728"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">updateCursor</ref>();</highlight></codeline>
<codeline lineno="2729"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2730"><highlight class="normal"></highlight></codeline>
<codeline lineno="2731" refid="class_k_win_1_1_window_1ab2d8993f1630348add5dc2632aba5de5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab2d8993f1630348add5dc2632aba5de5" kindref="member">Window::setDecoration</ref>(std::shared_ptr&lt;KDecoration3::Decoration&gt;<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>)</highlight></codeline>
<codeline lineno="2732"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2733"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.decoration<sp/>==<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2735"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2736"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QMetaObject::invokeMethod(<ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>.get(),<sp/>QOverload&lt;&gt;::of(&amp;KDecoration3::Decoration::update),<sp/>Qt::QueuedConnection);</highlight></codeline>
<codeline lineno="2738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>.get(),<sp/>&amp;KDecoration3::Decoration::shadowChanged,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="2739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(!isDeleted())<sp/>{</highlight></codeline>
<codeline lineno="2740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>updateShadow();</highlight></codeline>
<codeline lineno="2741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="2743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>.get(),<sp/>&amp;KDecoration3::Decoration::bordersChanged,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="2744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(!isDeleted())<sp/>{</highlight></codeline>
<codeline lineno="2745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>updateDecorationInputShape();</highlight></codeline>
<codeline lineno="2746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="2748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connect(decoration.get(),<sp/>&amp;KDecoration3::Decoration::resizeOnlyBordersChanged,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="2749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>(!isDeleted())<sp/>{</highlight></codeline>
<codeline lineno="2750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>updateDecorationInputShape();</highlight></codeline>
<codeline lineno="2751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="2753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connect(decoratedWindow()-&gt;decoratedWindow(),<sp/>&amp;KDecoration3::DecoratedWindow::sizeChanged,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>[</highlight><highlight class="keyword">this</highlight><highlight class="normal">]()<sp/>{</highlight></codeline>
<codeline lineno="2754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!isDeleted())<sp/>{</highlight></codeline>
<codeline lineno="2755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>updateDecorationInputShape();</highlight></codeline>
<codeline lineno="2756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="2758"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2759"><highlight class="normal"><sp/><sp/><sp/><sp/>m_decoration.decoration<sp/>=<sp/>decoration;</highlight></codeline>
<codeline lineno="2760"><highlight class="normal"><sp/><sp/><sp/><sp/>updateDecorationInputShape();</highlight></codeline>
<codeline lineno="2761"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/>decorationChanged();</highlight></codeline>
<codeline lineno="2762"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2763"><highlight class="normal"></highlight></codeline>
<codeline lineno="2764" refid="class_k_win_1_1_window_1ae574c58525b0a07014d9066093fe6105" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae574c58525b0a07014d9066093fe6105" kindref="member">Window::updateDecorationInputShape</ref>()</highlight></codeline>
<codeline lineno="2765"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2766"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.inputRegion<sp/>=<sp/>QRegion();</highlight></codeline>
<codeline lineno="2768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2769"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2770"><highlight class="normal"></highlight></codeline>
<codeline lineno="2771"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QMarginsF<sp/>borders<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;borders();</highlight></codeline>
<codeline lineno="2772"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QMarginsF<sp/>resizeBorders<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;resizeOnlyBorders();</highlight></codeline>
<codeline lineno="2773"><highlight class="normal"></highlight></codeline>
<codeline lineno="2774"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>innerRect<sp/>=<sp/>QRectF(QPointF(<ref refid="class_k_win_1_1_window_1a704f2db4a15f2ca4e6ae0b163e73c708" kindref="member">borderLeft</ref>(),<sp/><ref refid="class_k_win_1_1_window_1a079dfba93240f19cadab52f478e48e84" kindref="member">borderTop</ref>()),<sp/><ref refid="class_k_win_1_1_window_1aeebcd9865806bb3e4b74d13b4ed91ded" kindref="member">decoratedWindow</ref>()-&gt;<ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>());</highlight></codeline>
<codeline lineno="2775"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>outerRect<sp/>=<sp/>innerRect<sp/>+<sp/>borders<sp/>+<sp/>resizeBorders;</highlight></codeline>
<codeline lineno="2776"><highlight class="normal"></highlight></codeline>
<codeline lineno="2777"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.inputRegion<sp/>=<sp/>QRegion(outerRect.toAlignedRect())<sp/>-<sp/>innerRect.toAlignedRect();</highlight></codeline>
<codeline lineno="2778"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2779"><highlight class="normal"></highlight></codeline>
<codeline lineno="2780" refid="class_k_win_1_1_window_1ab1e2bd22ec836e8cada97462d90badf2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4ca7398a5e80f2ed8d5eec3ed382f235" kindref="member">Window::decorationHasAlpha</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2781"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2782"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;isOpaque())<sp/>{</highlight></codeline>
<codeline lineno="2783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>either<sp/>no<sp/>decoration<sp/>or<sp/>decoration<sp/>has<sp/>alpha<sp/>disabled</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2785"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2786"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2787"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2788"><highlight class="normal"></highlight></codeline>
<codeline lineno="2789" refid="class_k_win_1_1_window_1a2aa1fc2ef7187d8f8ed3f3bb60e1df9b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a2aa1fc2ef7187d8f8ed3f3bb60e1df9b" kindref="member">Window::triggerDecorationRepaint</ref>()</highlight></codeline>
<codeline lineno="2790"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2791"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;update();</highlight></codeline>
<codeline lineno="2793"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2794"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2795"><highlight class="normal"></highlight></codeline>
<codeline lineno="2796" refid="class_k_win_1_1_window_1ac76883ec1ae279e0453ad6ea21a6a441" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ac76883ec1ae279e0453ad6ea21a6a441" kindref="member">Window::layoutDecorationRects</ref>(QRectF<sp/>&amp;left,<sp/>QRectF<sp/>&amp;top,<sp/>QRectF<sp/>&amp;right,<sp/>QRectF<sp/>&amp;bottom)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2797"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2798"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2800"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2801"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>r<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;rect();</highlight></codeline>
<codeline lineno="2802"><highlight class="normal"></highlight></codeline>
<codeline lineno="2803"><highlight class="normal"><sp/><sp/><sp/><sp/>top<sp/>=<sp/>QRectF(r.x(),<sp/>r.y(),<sp/>r.width(),<sp/><ref refid="class_k_win_1_1_window_1a079dfba93240f19cadab52f478e48e84" kindref="member">borderTop</ref>());</highlight></codeline>
<codeline lineno="2804"><highlight class="normal"><sp/><sp/><sp/><sp/>bottom<sp/>=<sp/>QRectF(r.x(),<sp/>r.y()<sp/>+<sp/>r.height()<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a7b47bcdf2ffd2ba3113725d2ebfaf822" kindref="member">borderBottom</ref>(),</highlight></codeline>
<codeline lineno="2805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r.width(),<sp/><ref refid="class_k_win_1_1_window_1a7b47bcdf2ffd2ba3113725d2ebfaf822" kindref="member">borderBottom</ref>());</highlight></codeline>
<codeline lineno="2806"><highlight class="normal"><sp/><sp/><sp/><sp/>left<sp/>=<sp/>QRectF(r.x(),<sp/>r.y()<sp/>+<sp/>top.height(),</highlight></codeline>
<codeline lineno="2807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a704f2db4a15f2ca4e6ae0b163e73c708" kindref="member">borderLeft</ref>(),<sp/>r.height()<sp/>-<sp/>top.height()<sp/>-<sp/>bottom.height());</highlight></codeline>
<codeline lineno="2808"><highlight class="normal"><sp/><sp/><sp/><sp/>right<sp/>=<sp/>QRectF(r.x()<sp/>+<sp/>r.width()<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a3309d429b01d3670e9fcf4f54917ce46" kindref="member">borderRight</ref>(),<sp/>r.y()<sp/>+<sp/>top.height(),</highlight></codeline>
<codeline lineno="2809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a3309d429b01d3670e9fcf4f54917ce46" kindref="member">borderRight</ref>(),<sp/>r.height()<sp/>-<sp/>top.height()<sp/>-<sp/>bottom.height());</highlight></codeline>
<codeline lineno="2810"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2811"><highlight class="normal"></highlight></codeline>
<codeline lineno="2812" refid="class_k_win_1_1_window_1a192d2d38ea0f55ec06c164838fac36ac" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a192d2d38ea0f55ec06c164838fac36ac" kindref="member">Window::processDecorationMove</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;localPos,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;globalPos)</highlight></codeline>
<codeline lineno="2813"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2814"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a14a4d0eae0024af8a7c3d9fc9cbfa4df" kindref="member">isInteractiveMoveResizePointerButtonDown</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a52812fb30393688827b36f5ff51c1a6d" kindref="member">isInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/><ref refid="class_k_win_1_1_window_1a140e419a5274b750fd8a6b3789c8f6af" kindref="member">offset</ref>(<ref refid="class_k_win_1_1_window_1a087ebcf075b63c7581b7bf3c55fab2ef" kindref="member">interactiveMoveOffset</ref>().<ref refid="class_k_win_1_1_window_1a8ca7699b2ae5cef0dcf3755f55f68fb7" kindref="member">x</ref>()<sp/>*<sp/><ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref>(),<sp/><ref refid="class_k_win_1_1_window_1a087ebcf075b63c7581b7bf3c55fab2ef" kindref="member">interactiveMoveOffset</ref>().<ref refid="class_k_win_1_1_window_1a82df990348a6c4a0696ef5e1f8aea78d" kindref="member">y</ref>()<sp/>*<sp/><ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref>());</highlight></codeline>
<codeline lineno="2817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>delta(localPos<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a140e419a5274b750fd8a6b3789c8f6af" kindref="member">offset</ref>);</highlight></codeline>
<codeline lineno="2818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(delta.manhattanLength()<sp/>&gt;=<sp/>QApplication::startDragDistance())<sp/>{</highlight></codeline>
<codeline lineno="2819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a4470354b4fa88d30ee3c7667d77c7b9c" kindref="member">startInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aa144f13367344f7c18bb8cd178464763" kindref="member">updateInteractiveMoveResize</ref>(globalPos,<sp/><ref refid="namespace_k_win_1abe2e249447d344f266998fdcef93fde0" kindref="member">input</ref>()-&gt;keyboardModifiers());</highlight></codeline>
<codeline lineno="2821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">updateCursor</ref>();</highlight></codeline>
<codeline lineno="2825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2828"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2829"><highlight class="normal"></highlight></codeline>
<codeline lineno="2830"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/>handle<sp/>modifiers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2831"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8" kindref="member">Gravity</ref><sp/>newGravity<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a167b374ab7f2cd2da20250457a4fc2d2" kindref="member">mouseGravity</ref>();</highlight></codeline>
<codeline lineno="2832"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(newGravity<sp/>!=<sp/><ref refid="class_k_win_1_1_window_1aeb3ff3e9e2c5fe0b4816948a52cb58a6" kindref="member">interactiveMoveResizeGravity</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a5b6daf48e5a5dfacc4c06034357cee70" kindref="member">setInteractiveMoveResizeGravity</ref>(newGravity);</highlight></codeline>
<codeline lineno="2834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">updateCursor</ref>();</highlight></codeline>
<codeline lineno="2835"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2836"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2837"><highlight class="normal"></highlight></codeline>
<codeline lineno="2838" refid="class_k_win_1_1_window_1a3c741dfbd6ca6136eb56b6e57054b8d9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3c741dfbd6ca6136eb56b6e57054b8d9" kindref="member">Window::processDecorationButtonPress</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;localPos,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;globalPos,<sp/>Qt::MouseButton<sp/>button,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ignoreMenu)</highlight></codeline>
<codeline lineno="2839"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2840"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcd" kindref="member">Options::MouseCommand</ref><sp/>com<sp/>=<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda8b997af77435f50a9f27699d29132d84" kindref="member">Options::MouseNothing</ref>;</highlight></codeline>
<codeline lineno="2841"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1acac15cb52cc30597cd970a45958ba827" kindref="member">active</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>();</highlight></codeline>
<codeline lineno="2842"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a7a9c5f2a5a2a21002dfc4632c67280bf" kindref="member">wantsInput</ref>())<sp/>{<sp/></highlight><highlight class="comment">//<sp/>we<sp/>cannot<sp/>be<sp/>active,<sp/>use<sp/>it<sp/>anyway</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1acac15cb52cc30597cd970a45958ba827" kindref="member">active</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2844"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2845"><highlight class="normal"></highlight></codeline>
<codeline lineno="2846"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>whether<sp/>it<sp/>is<sp/>a<sp/>double<sp/>click</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2847"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(button<sp/>==<sp/>Qt::LeftButton)<sp/>{</highlight></codeline>
<codeline lineno="2848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.doubleClickTimer.isValid())<sp/>{</highlight></codeline>
<codeline lineno="2849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>qint64<sp/>interval<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.doubleClickTimer.elapsed();</highlight></codeline>
<codeline lineno="2850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.doubleClickTimer.invalidate();</highlight></codeline>
<codeline lineno="2851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(interval<sp/>&gt;<sp/>QGuiApplication::styleHints()-&gt;mouseDoubleClickInterval())<sp/>{</highlight></codeline>
<codeline lineno="2852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.doubleClickTimer.start();<sp/></highlight><highlight class="comment">//<sp/>expired<sp/>-&gt;<sp/>new<sp/>first<sp/>click<sp/>and<sp/>pot.<sp/>init</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2853"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_options_1a47885bbac9ddb7f8fc6b945369275075" kindref="member">Options::WindowOperation</ref><sp/>operation;</highlight></codeline>
<codeline lineno="2855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;sectionUnderMouse())<sp/>{</highlight></codeline>
<codeline lineno="2856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::TitleBarArea:</highlight></codeline>
<codeline lineno="2857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>operation<sp/>=<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;operationTitlebarDblClick();</highlight></codeline>
<codeline lineno="2858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::LeftSection:</highlight></codeline>
<codeline lineno="2860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::RightSection:</highlight></codeline>
<codeline lineno="2861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>operation<sp/>=<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;doubleClickBorderToMaximize()<sp/>?<sp/><ref refid="class_k_win_1_1_options_1a47885bbac9ddb7f8fc6b945369275075a0cae4af1e8af7dad13e2e35e51a74354" kindref="member">Options::HMaximizeOp</ref><sp/>:<sp/><ref refid="class_k_win_1_1_options_1a47885bbac9ddb7f8fc6b945369275075a2d54d76f41e2def3f58c49e40238b22d" kindref="member">Options::NoOp</ref>;</highlight></codeline>
<codeline lineno="2862"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::TopSection:</highlight></codeline>
<codeline lineno="2864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::BottomSection:</highlight></codeline>
<codeline lineno="2865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>operation<sp/>=<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;doubleClickBorderToMaximize()<sp/>?<sp/><ref refid="class_k_win_1_1_options_1a47885bbac9ddb7f8fc6b945369275075a44b47e044adfc1e15d5575375694a953" kindref="member">Options::VMaximizeOp</ref><sp/>:<sp/><ref refid="class_k_win_1_1_options_1a47885bbac9ddb7f8fc6b945369275075a2d54d76f41e2def3f58c49e40238b22d" kindref="member">Options::NoOp</ref>;</highlight></codeline>
<codeline lineno="2866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::TopLeftSection:</highlight></codeline>
<codeline lineno="2868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::TopRightSection:</highlight></codeline>
<codeline lineno="2869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::BottomLeftSection:</highlight></codeline>
<codeline lineno="2870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>Qt::BottomRightSection:</highlight></codeline>
<codeline lineno="2871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>operation<sp/>=<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;doubleClickBorderToMaximize()<sp/>?<sp/><ref refid="class_k_win_1_1_options_1a47885bbac9ddb7f8fc6b945369275075a8c35939ccd6d63e69da086fd510f8dbc" kindref="member">Options::MaximizeOp</ref><sp/>:<sp/><ref refid="class_k_win_1_1_options_1a47885bbac9ddb7f8fc6b945369275075a2d54d76f41e2def3f58c49e40238b22d" kindref="member">Options::NoOp</ref>;</highlight></codeline>
<codeline lineno="2872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="2874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>operation<sp/>=<sp/><ref refid="class_k_win_1_1_options_1a47885bbac9ddb7f8fc6b945369275075a2d54d76f41e2def3f58c49e40238b22d" kindref="member">Options::NoOp</ref>;</highlight></codeline>
<codeline lineno="2875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;performWindowOperation(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>operation);</highlight></codeline>
<codeline lineno="2878"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac40923cee6c26120f57174bde42a37eb" kindref="member">dontInteractiveMoveResize</ref>();</highlight></codeline>
<codeline lineno="2879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2880"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.doubleClickTimer.start();<sp/></highlight><highlight class="comment">//<sp/>new<sp/>first<sp/>click<sp/>and<sp/>pot.<sp/>init,<sp/>could<sp/>be<sp/>invalidated<sp/>by<sp/>release<sp/>-<sp/>see<sp/>below</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2884"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2885"><highlight class="normal"></highlight></codeline>
<codeline lineno="2886"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(button<sp/>==<sp/>Qt::LeftButton)<sp/>{</highlight></codeline>
<codeline lineno="2887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>com<sp/>=<sp/><ref refid="class_k_win_1_1_window_1acac15cb52cc30597cd970a45958ba827" kindref="member">active</ref><sp/>?<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandActiveTitlebar1()<sp/>:<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandInactiveTitlebar1();</highlight></codeline>
<codeline lineno="2888"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(button<sp/>==<sp/>Qt::MiddleButton)<sp/>{</highlight></codeline>
<codeline lineno="2889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>com<sp/>=<sp/><ref refid="class_k_win_1_1_window_1acac15cb52cc30597cd970a45958ba827" kindref="member">active</ref><sp/>?<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandActiveTitlebar2()<sp/>:<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandInactiveTitlebar2();</highlight></codeline>
<codeline lineno="2890"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(button<sp/>==<sp/>Qt::RightButton)<sp/>{</highlight></codeline>
<codeline lineno="2891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>com<sp/>=<sp/><ref refid="class_k_win_1_1_window_1acac15cb52cc30597cd970a45958ba827" kindref="member">active</ref><sp/>?<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandActiveTitlebar3()<sp/>:<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;commandInactiveTitlebar3();</highlight></codeline>
<codeline lineno="2892"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2893"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(button<sp/>==<sp/>Qt::LeftButton</highlight></codeline>
<codeline lineno="2894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>com<sp/>!=<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdab7b263076d0de561d51396743a454444" kindref="member">Options::MouseOperationsMenu</ref><sp/></highlight><highlight class="comment">//<sp/>actions<sp/>where<sp/>it&apos;s<sp/>not<sp/>possible<sp/>to<sp/>get<sp/>the<sp/>matching</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>com<sp/>!=<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda2531480ee797c5fcecfd01a2e4444b39" kindref="member">Options::MouseMinimize</ref>)<sp/></highlight><highlight class="comment">//<sp/>mouse<sp/>release<sp/>event</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2896"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="2897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a5b6daf48e5a5dfacc4c06034357cee70" kindref="member">setInteractiveMoveResizeGravity</ref>(<ref refid="class_k_win_1_1_window_1a167b374ab7f2cd2da20250457a4fc2d2" kindref="member">mouseGravity</ref>());</highlight></codeline>
<codeline lineno="2898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a419a9bbda60e3f84216574ec05f4787a" kindref="member">setInteractiveMoveResizeAnchor</ref>(globalPos);</highlight></codeline>
<codeline lineno="2900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a00035dedbdce6b18de9f323c8a12ebac" kindref="member">setInteractiveMoveResizeModifiers</ref>(Qt::KeyboardModifiers());</highlight></codeline>
<codeline lineno="2901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7e62656d305c8cceba734c4f362d3249" kindref="member">setInteractiveMoveOffset</ref>(QPointF(qreal(localPos.x())<sp/>/<sp/><ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref>(),<sp/>qreal(localPos.y())<sp/>/<sp/><ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref>()));</highlight></codeline>
<codeline lineno="2902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a78a086d817f68eeedf87e3e49706b3da" kindref="member">setUnrestrictedInteractiveMoveResize</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a30f65669aaec9f5dda9b01d987466f7b" kindref="member">startDelayedInteractiveMoveResize</ref>();</highlight></codeline>
<codeline lineno="2904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">updateCursor</ref>();</highlight></codeline>
<codeline lineno="2905"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2906"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>In<sp/>the<sp/>new<sp/>API<sp/>the<sp/>decoration<sp/>may<sp/>process<sp/>the<sp/>menu<sp/>action<sp/>to<sp/>display<sp/>an<sp/>inactive<sp/>tab&apos;s<sp/>menu.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2907"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>event<sp/>is<sp/>unhandled<sp/>then<sp/>the<sp/>core<sp/>will<sp/>create<sp/>one<sp/>for<sp/>the<sp/>active<sp/>window<sp/>in<sp/>the<sp/>group.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2908"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ignoreMenu<sp/>||<sp/>com<sp/>!=<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdab7b263076d0de561d51396743a454444" kindref="member">Options::MouseOperationsMenu</ref>)<sp/>{</highlight></codeline>
<codeline lineno="2909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1adc4cfddd14db72a5b6337bf3b0f8c639" kindref="member">performMousePressCommand</ref>(com,<sp/>globalPos);</highlight></codeline>
<codeline lineno="2910"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2911"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>!(<sp/></highlight><highlight class="comment">//<sp/>Return<sp/>events<sp/>that<sp/>should<sp/>be<sp/>passed<sp/>to<sp/>the<sp/>decoration<sp/>in<sp/>the<sp/>new<sp/>API</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>com<sp/>==<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda1afe122278403158ebb797514b1ed79d" kindref="member">Options::MouseRaise</ref><sp/>||<sp/>com<sp/>==<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdab7b263076d0de561d51396743a454444" kindref="member">Options::MouseOperationsMenu</ref><sp/>||<sp/>com<sp/>==<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcdaa99a0c7b5549ddeeb7fd8863ce6c8b58" kindref="member">Options::MouseActivateAndRaise</ref><sp/>||<sp/>com<sp/>==<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda490e42267ce22e84ac98e46b63bd4dcb" kindref="member">Options::MouseActivate</ref><sp/>||<sp/>com<sp/>==<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda5f9c14fd5eb1ba175151470737e380d2" kindref="member">Options::MouseActivateRaiseAndPassClick</ref><sp/>||<sp/>com<sp/>==<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda9eea91fb2cabc7ab85338650330bd597" kindref="member">Options::MouseActivateAndPassClick</ref><sp/>||<sp/>com<sp/>==<sp/><ref refid="class_k_win_1_1_options_1a3ea5092c5fafec92b108838f1cecedcda8b997af77435f50a9f27699d29132d84" kindref="member">Options::MouseNothing</ref>);</highlight></codeline>
<codeline lineno="2913"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2914"><highlight class="normal"></highlight></codeline>
<codeline lineno="2915" refid="class_k_win_1_1_window_1a2299969b07dae95abd1896a63d24f147" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a2299969b07dae95abd1896a63d24f147" kindref="member">Window::processDecorationButtonRelease</ref>(Qt::MouseButton<sp/>button)</highlight></codeline>
<codeline lineno="2916"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2917"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(button<sp/>==<sp/>Qt::LeftButton)<sp/>{</highlight></codeline>
<codeline lineno="2918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c4200a7f6de700eb03c3b48a86a2fdd" kindref="member">setInteractiveMoveResizePointerButtonDown</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af36f8d8979cc3ffb49d244fd04541f0f" kindref="member">stopDelayedInteractiveMoveResize</ref>();</highlight></codeline>
<codeline lineno="2920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a52812fb30393688827b36f5ff51c1a6d" kindref="member">isInteractiveMoveResize</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6978b71453df0de95f4822332b1be103" kindref="member">finishInteractiveMoveResize</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a5b6daf48e5a5dfacc4c06034357cee70" kindref="member">setInteractiveMoveResizeGravity</ref>(<ref refid="class_k_win_1_1_window_1a167b374ab7f2cd2da20250457a4fc2d2" kindref="member">mouseGravity</ref>());</highlight></codeline>
<codeline lineno="2923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac3324745eae4f1e36c81876c373ffe5e" kindref="member">updateCursor</ref>();</highlight></codeline>
<codeline lineno="2925"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2926"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2927"><highlight class="normal"></highlight></codeline>
<codeline lineno="2928" refid="class_k_win_1_1_window_1a1bd3b04534d23abc203bc9ac28d5bdcf" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1bd3b04534d23abc203bc9ac28d5bdcf" kindref="member">Window::startDecorationDoubleClickTimer</ref>()</highlight></codeline>
<codeline lineno="2929"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2930"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.doubleClickTimer.start();</highlight></codeline>
<codeline lineno="2931"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2932"><highlight class="normal"></highlight></codeline>
<codeline lineno="2933" refid="class_k_win_1_1_window_1af13e920c6c31b68f63437425761e91eb" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af13e920c6c31b68f63437425761e91eb" kindref="member">Window::invalidateDecorationDoubleClickTimer</ref>()</highlight></codeline>
<codeline lineno="2934"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2935"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.doubleClickTimer.invalidate();</highlight></codeline>
<codeline lineno="2936"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2937"><highlight class="normal"></highlight></codeline>
<codeline lineno="2938" refid="class_k_win_1_1_window_1a4eb8c1b2c6df25f85d091afeeebb66ef" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af3de3b41671127884529d47ba9e96fc0" kindref="member">Window::providesContextHelp</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2939"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2940"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2941"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2942"><highlight class="normal"></highlight></codeline>
<codeline lineno="2943" refid="class_k_win_1_1_window_1ab6ab84f217f36414e4089b4b7b34f069" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab6ab84f217f36414e4089b4b7b34f069" kindref="member">Window::showContextHelp</ref>()</highlight></codeline>
<codeline lineno="2944"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2945"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2946"><highlight class="normal"></highlight></codeline>
<codeline lineno="2947" refid="class_k_win_1_1_window_1ae186402da754d5946bcfeab855f6096e" refkind="member"><highlight class="normal">KDecoration3::Decoration<sp/>*<ref refid="class_k_win_1_1_window_1ae186402da754d5946bcfeab855f6096e" kindref="member">Window::nextDecoration</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2948"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2949"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>();</highlight></codeline>
<codeline lineno="2950"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2951"><highlight class="normal"></highlight></codeline>
<codeline lineno="2952" refid="class_k_win_1_1_window_1aeebcd9865806bb3e4b74d13b4ed91ded" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_decoration_1_1_decorated_window_impl" kindref="compound">Decoration::DecoratedWindowImpl</ref><sp/>*<ref refid="class_k_win_1_1_window_1aeebcd9865806bb3e4b74d13b4ed91ded" kindref="member">Window::decoratedWindow</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2953"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="2954"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.client;</highlight></codeline>
<codeline lineno="2955"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2956"><highlight class="normal"></highlight></codeline>
<codeline lineno="2957" refid="class_k_win_1_1_window_1ad11b98291d4eddcbcc38e614d416f499" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ad11b98291d4eddcbcc38e614d416f499" kindref="member">Window::setDecoratedWindow</ref>(<ref refid="class_k_win_1_1_decoration_1_1_decorated_window_impl" kindref="compound">Decoration::DecoratedWindowImpl</ref><sp/>*<ref refid="class_k_win_1_1_window_1abe19bb40b369f778012075b9752d84eb" kindref="member">client</ref>)</highlight></codeline>
<codeline lineno="2958"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2959"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1f4d0f011a8c41e357782a318cd0078d" kindref="member">m_decoration</ref>.client<sp/>=<sp/><ref refid="class_k_win_1_1_window_1abe19bb40b369f778012075b9752d84eb" kindref="member">client</ref>;</highlight></codeline>
<codeline lineno="2960"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2961"><highlight class="normal"></highlight></codeline>
<codeline lineno="2962" refid="class_k_win_1_1_window_1aeb2a5b22cd9d9d72646b739689c9e6e0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aeb2a5b22cd9d9d72646b739689c9e6e0" kindref="member">Window::pointerEnterEvent</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;globalPos)</highlight></codeline>
<codeline lineno="2963"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2964"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;isShadeHover())<sp/>{</highlight></codeline>
<codeline lineno="2965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a58c27d98b0edb3a6d0afb7fdf3882c39" kindref="member">cancelShadeHoverTimer</ref>();</highlight></codeline>
<codeline lineno="2966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac7c35d8668fd5e4e11838ee581e41722" kindref="member">startShadeHoverTimer</ref>();</highlight></codeline>
<codeline lineno="2967"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2968"><highlight class="normal"></highlight></codeline>
<codeline lineno="2969"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;focusPolicy()<sp/>==<sp/><ref refid="class_k_win_1_1_options_1af26eff7293c0d6b8eacc46df59bdf44fa72f042da0a14bd206b669010a573d5ab" kindref="member">Options::ClickToFocus</ref><sp/>||<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;userActionsMenu()-&gt;<ref refid="class_k_win_1_1_window_1aed48d73c0d33bd1134f6c0b48104030d" kindref="member">isShown</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2971"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2972"><highlight class="normal"></highlight></codeline>
<codeline lineno="2973"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;isAutoRaise()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1ab56044e6eff0cd7e2a144756834c0751" kindref="member">isDesktop</ref>()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a3b2b28edaa7b699d1407322fd11ec1cb" kindref="member">isDock</ref>()<sp/>&amp;&amp;<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;focusChangeEnabled()<sp/>&amp;&amp;<sp/>globalPos<sp/>!=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;focusMousePosition()<sp/>&amp;&amp;<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;topWindowOnDesktop(VirtualDesktopManager::self()-&gt;currentDesktop(),<sp/><ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;isSeparateScreenFocus()<sp/>?<sp/><ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>()<sp/>:<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">)<sp/>!=<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="2974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8e53686fbdb1f4670854388a074a6119" kindref="member">startAutoRaise</ref>();</highlight></codeline>
<codeline lineno="2975"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2976"><highlight class="normal"></highlight></codeline>
<codeline lineno="2977"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ab56044e6eff0cd7e2a144756834c0751" kindref="member">isDesktop</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1a3b2b28edaa7b699d1407322fd11ec1cb" kindref="member">isDock</ref>())<sp/>{</highlight></codeline>
<codeline lineno="2978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="2979"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2980"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>FocusFollowsMouse,<sp/>change<sp/>focus<sp/>only<sp/>if<sp/>the<sp/>mouse<sp/>has<sp/>actually<sp/>been<sp/>moved,<sp/>not<sp/>if<sp/>the<sp/>focus</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2981"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>change<sp/>came<sp/>because<sp/>of<sp/>window<sp/>changes<sp/>(e.g.<sp/>closing<sp/>a<sp/>window)<sp/>-<sp/>#92290</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2982"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1aacddce7916a99bb943d9071c40754c1c" kindref="member">options</ref>-&gt;focusPolicy()<sp/>!=<sp/><ref refid="class_k_win_1_1_options_1af26eff7293c0d6b8eacc46df59bdf44fa9dc0240001ea8bd8d844db126749df73" kindref="member">Options::FocusFollowsMouse</ref></highlight></codeline>
<codeline lineno="2983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>||<sp/>globalPos<sp/>!=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;focusMousePosition())<sp/>{</highlight></codeline>
<codeline lineno="2984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;requestDelayFocus(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="2985"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="2986"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2987"><highlight class="normal"></highlight></codeline>
<codeline lineno="2988" refid="class_k_win_1_1_window_1a94aff261a7be7524f316a35b8fe4190f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a94aff261a7be7524f316a35b8fe4190f" kindref="member">Window::pointerLeaveEvent</ref>()</highlight></codeline>
<codeline lineno="2989"><highlight class="normal">{</highlight></codeline>
<codeline lineno="2990"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aae37a8d1ea78997edb9c87bb12e44401" kindref="member">cancelAutoRaise</ref>();</highlight></codeline>
<codeline lineno="2991"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;cancelDelayFocus();</highlight></codeline>
<codeline lineno="2992"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a58c27d98b0edb3a6d0afb7fdf3882c39" kindref="member">cancelShadeHoverTimer</ref>();</highlight></codeline>
<codeline lineno="2993"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a4805d5c28b9aac6559f3c0a06863bbf9" kindref="member">startShadeUnhoverTimer</ref>();</highlight></codeline>
<codeline lineno="2994"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/>send<sp/>hover<sp/>leave<sp/>to<sp/>deco</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2995"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO:<sp/>handle<sp/>Options::FocusStrictlyUnderMouse</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2996"><highlight class="normal">}</highlight></codeline>
<codeline lineno="2997"><highlight class="normal"></highlight></codeline>
<codeline lineno="2998" refid="class_k_win_1_1_window_1ad97233455cde3594215a551becc5fb00" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a2e72ccaab8958830979e76f8e36564f7" kindref="member">Window::iconGeometry</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="2999"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3000"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a566b2f1b031cd7f536104017d3e157de" kindref="member">windowManagementInterface</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QRectF();</highlight></codeline>
<codeline lineno="3002"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3003"><highlight class="normal"></highlight></codeline>
<codeline lineno="3004"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>minDistance<sp/>=<sp/>INT_MAX;</highlight></codeline>
<codeline lineno="3005"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*candidatePanel<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3006"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>candidateGeom;</highlight></codeline>
<codeline lineno="3007"><highlight class="normal"></highlight></codeline>
<codeline lineno="3008"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>minGeometries<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a566b2f1b031cd7f536104017d3e157de" kindref="member">windowManagementInterface</ref>()-&gt;minimizedGeometries();</highlight></codeline>
<codeline lineno="3009"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>minGeometries.constBegin(),<sp/>end<sp/>=<sp/>minGeometries.constEnd();<sp/>i<sp/>!=<sp/>end;<sp/>++i)<sp/>{</highlight></codeline>
<codeline lineno="3010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*panel<sp/>=<sp/><ref refid="namespace_k_win_1a820772eeac71cfe988208d4b4e5764a6" kindref="member">waylandServer</ref>()-&gt;findWindow(i.key());</highlight></codeline>
<codeline lineno="3011"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!panel)<sp/>{</highlight></codeline>
<codeline lineno="3012"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3013"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3014"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>distance<sp/>=<sp/>QPointF(panel-&gt;<ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>()<sp/>-<sp/><ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>()).manhattanLength();</highlight></codeline>
<codeline lineno="3015"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(distance<sp/>&lt;<sp/>minDistance)<sp/>{</highlight></codeline>
<codeline lineno="3016"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>minDistance<sp/>=<sp/>distance;</highlight></codeline>
<codeline lineno="3017"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidatePanel<sp/>=<sp/>panel;</highlight></codeline>
<codeline lineno="3018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidateGeom<sp/>=<sp/>i.value();</highlight></codeline>
<codeline lineno="3019"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3020"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3021"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!candidatePanel)<sp/>{</highlight></codeline>
<codeline lineno="3022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>all<sp/>mainwindows<sp/>of<sp/>this<sp/>window.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3023"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>windows<sp/>=<sp/><ref refid="class_k_win_1_1_window_1afaea2549a9bde1616f1c0491a340ad64" kindref="member">mainWindows</ref>();</highlight></codeline>
<codeline lineno="3024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*mainWindow<sp/>:<sp/>windows)<sp/>{</highlight></codeline>
<codeline lineno="3025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>geom<sp/>=<sp/>mainWindow-&gt;iconGeometry();</highlight></codeline>
<codeline lineno="3026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geom.isValid())<sp/>{</highlight></codeline>
<codeline lineno="3027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>geom;</highlight></codeline>
<codeline lineno="3028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QRectF();</highlight></codeline>
<codeline lineno="3031"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3032"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>candidateGeom.translated(candidatePanel-&gt;<ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>());</highlight></codeline>
<codeline lineno="3033"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3034"><highlight class="normal"></highlight></codeline>
<codeline lineno="3035" refid="class_k_win_1_1_window_1a0d654ed94cbf37efd319bc78522523da" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a0d654ed94cbf37efd319bc78522523da" kindref="member">Window::virtualKeyboardGeometry</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3036"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3037"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aa21b3b775184dac69e633ff5429fadc4" kindref="member">m_virtualKeyboardGeometry</ref>;</highlight></codeline>
<codeline lineno="3038"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3039"><highlight class="normal"></highlight></codeline>
<codeline lineno="3040" refid="class_k_win_1_1_window_1a064dec4659e7831fe425f689ad0312c9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a064dec4659e7831fe425f689ad0312c9" kindref="member">Window::setVirtualKeyboardGeometry</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;geo)</highlight></codeline>
<codeline lineno="3041"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3042"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>No<sp/>keyboard<sp/>anymore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3043"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geo.isEmpty()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="3044"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>availableArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a445c2e99842dbf1b3870807ebbd11f23" kindref="member">MaximizeArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3045"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRectF<sp/>newWindowGeometry<sp/>=<sp/>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9aac06708e540fd3823add3d1fc048876d" kindref="member">MaximizeHorizontal</ref>)<sp/>?<sp/>availableArea<sp/>:<sp/><ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref>;</highlight></codeline>
<codeline lineno="3046"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aca6e1f1d8772897c5efbfb3c17fa436e" kindref="member">moveResize</ref>(newWindowGeometry);</highlight></codeline>
<codeline lineno="3047"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref><sp/>=<sp/>QRectF();</highlight></codeline>
<codeline lineno="3048"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geo.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="3049"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>keyboard<sp/>has<sp/>just<sp/>been<sp/>opened<sp/>(rather<sp/>than<sp/>resized)<sp/>save<sp/>window<sp/>geometry<sp/>for<sp/>a<sp/>restore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3051"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="3052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="3053"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3054"><highlight class="normal"></highlight></codeline>
<codeline lineno="3055"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aa21b3b775184dac69e633ff5429fadc4" kindref="member">m_virtualKeyboardGeometry</ref><sp/>=<sp/>geo;</highlight></codeline>
<codeline lineno="3056"><highlight class="normal"></highlight></codeline>
<codeline lineno="3057"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Don&apos;t<sp/>resize<sp/>Desktop<sp/>and<sp/>fullscreen<sp/>windows</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3058"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a4b695bf258e4c855a72d9c832e0ae4b9" kindref="member">isRequestedFullScreen</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1ab56044e6eff0cd7e2a144756834c0751" kindref="member">isDesktop</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3060"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3061"><highlight class="normal"></highlight></codeline>
<codeline lineno="3062"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!geo.intersects(<ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3063"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3064"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3065"><highlight class="normal"></highlight></codeline>
<codeline lineno="3066"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>availableArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a445c2e99842dbf1b3870807ebbd11f23" kindref="member">MaximizeArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3067"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>newWindowGeometry<sp/>=<sp/>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9aac06708e540fd3823add3d1fc048876d" kindref="member">MaximizeHorizontal</ref>)<sp/>?<sp/>availableArea<sp/>:<sp/><ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref>;</highlight></codeline>
<codeline lineno="3068"><highlight class="normal"><sp/><sp/><sp/><sp/>newWindowGeometry.setHeight(std::min(newWindowGeometry.height(),<sp/>geo.top()<sp/>-<sp/>availableArea.top()));</highlight></codeline>
<codeline lineno="3069"><highlight class="normal"><sp/><sp/><sp/><sp/>newWindowGeometry.moveTop(std::max(geo.top()<sp/>-<sp/>newWindowGeometry.height(),<sp/>availableArea.top()));</highlight></codeline>
<codeline lineno="3070"><highlight class="normal"><sp/><sp/><sp/><sp/>newWindowGeometry<sp/>=<sp/>newWindowGeometry.intersected(availableArea);</highlight></codeline>
<codeline lineno="3071"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aca6e1f1d8772897c5efbfb3c17fa436e" kindref="member">moveResize</ref>(newWindowGeometry);</highlight></codeline>
<codeline lineno="3072"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3073"><highlight class="normal"></highlight></codeline>
<codeline lineno="3074" refid="class_k_win_1_1_window_1a04c86c8dccc5bc02600ce775e4cf78a0" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a04c86c8dccc5bc02600ce775e4cf78a0" kindref="member">Window::keyboardGeometryRestore</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3075"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3076"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref>;</highlight></codeline>
<codeline lineno="3077"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3078"><highlight class="normal"></highlight></codeline>
<codeline lineno="3079" refid="class_k_win_1_1_window_1a316c6dea6c926489ab87a93df74f9ec0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a316c6dea6c926489ab87a93df74f9ec0" kindref="member">Window::setKeyboardGeometryRestore</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;geom)</highlight></codeline>
<codeline lineno="3080"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3081"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af0d59bddcb003671edd6c8c5918ca9bb" kindref="member">m_keyboardGeometryRestore</ref><sp/>=<sp/>geom;</highlight></codeline>
<codeline lineno="3082"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3083"><highlight class="normal"></highlight></codeline>
<codeline lineno="3084" refid="class_k_win_1_1_window_1ad70cb80f746c7f97cb0e55d53a9869a4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ad70cb80f746c7f97cb0e55d53a9869a4" kindref="member">Window::dockWantsInput</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3085"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3086"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3087"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3088"><highlight class="normal"></highlight></codeline>
<codeline lineno="3089" refid="class_k_win_1_1_window_1a4f8e4a201d469a4bec2646970b1a3f42" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4f8e4a201d469a4bec2646970b1a3f42" kindref="member">Window::setDesktopFileName</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;name)</highlight></codeline>
<codeline lineno="3090"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3091"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>effectiveName<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkDesktopFile(name);</highlight></codeline>
<codeline lineno="3092"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(effectiveName<sp/>==<sp/><ref refid="class_k_win_1_1_window_1a09fb67780141bb5039d70ec04e2c8d09" kindref="member">m_desktopFileName</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3094"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3095"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a09fb67780141bb5039d70ec04e2c8d09" kindref="member">m_desktopFileName</ref><sp/>=<sp/>effectiveName;</highlight></codeline>
<codeline lineno="3096"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">updateWindowRules</ref>(<ref refid="class_k_win_1_1_rules_1af260e8f34c4f8e04cc312fe34c135501adeac35bbe8a897ab63fed7f602e62eb9" kindref="member">Rules::DesktopFile</ref>);</highlight></codeline>
<codeline lineno="3097"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1aa7c85eca2cfa19d7ea698cd46396c6dc" kindref="member">desktopFileNameChanged</ref>();</highlight></codeline>
<codeline lineno="3098"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3099"><highlight class="normal"></highlight></codeline>
<codeline lineno="3100" refid="class_k_win_1_1_window_1a3e8d94d178149efd393f5f944366dae5" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_k_win_1_1_window_1a3e8d94d178149efd393f5f944366dae5" kindref="member">Window::iconFromDesktopFile</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;<ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref>)</highlight></codeline>
<codeline lineno="3101"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>absolutePath<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a936c783bfd766648824d4d7990c0bb2f" kindref="member">findDesktopFile</ref>(<ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref>);</highlight></codeline>
<codeline lineno="3103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(absolutePath.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="3104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{};</highlight></codeline>
<codeline lineno="3105"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3106"><highlight class="normal"></highlight></codeline>
<codeline lineno="3107"><highlight class="normal"><sp/><sp/><sp/><sp/>KDesktopFile<sp/>df(absolutePath);</highlight></codeline>
<codeline lineno="3108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>df.readIcon();</highlight></codeline>
<codeline lineno="3109"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3110"><highlight class="normal"></highlight></codeline>
<codeline lineno="3111" refid="class_k_win_1_1_window_1a65483fe15894a40c5bd6117ec37812fc" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_k_win_1_1_window_1a3e8d94d178149efd393f5f944366dae5" kindref="member">Window::iconFromDesktopFile</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3112"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3e8d94d178149efd393f5f944366dae5" kindref="member">iconFromDesktopFile</ref>(<ref refid="class_k_win_1_1_window_1a09fb67780141bb5039d70ec04e2c8d09" kindref="member">m_desktopFileName</ref>);</highlight></codeline>
<codeline lineno="3114"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3115"><highlight class="normal"></highlight></codeline>
<codeline lineno="3116" refid="class_k_win_1_1_window_1a936c783bfd766648824d4d7990c0bb2f" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_k_win_1_1_window_1a936c783bfd766648824d4d7990c0bb2f" kindref="member">Window::findDesktopFile</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;<ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref>)</highlight></codeline>
<codeline lineno="3117"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="3119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{};</highlight></codeline>
<codeline lineno="3120"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3121"><highlight class="normal"></highlight></codeline>
<codeline lineno="3122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QLatin1StringView<sp/>suffix(</highlight><highlight class="stringliteral">&quot;.desktop&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>desktopFileNameWithPrefix<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref><sp/>+<sp/>suffix;</highlight></codeline>
<codeline lineno="3124"><highlight class="normal"></highlight></codeline>
<codeline lineno="3125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(QDir::isAbsolutePath(<ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(QFile::exists(desktopFileNameWithPrefix))<sp/>{</highlight></codeline>
<codeline lineno="3127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>desktopFileNameWithPrefix;</highlight></codeline>
<codeline lineno="3128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3129"><highlight class="normal"></highlight></codeline>
<codeline lineno="3130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref>.endsWith(suffix))<sp/>{</highlight></codeline>
<codeline lineno="3131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(QFile::exists(<ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref>;</highlight></codeline>
<codeline lineno="3133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3135"><highlight class="normal"></highlight></codeline>
<codeline lineno="3136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QString();</highlight></codeline>
<codeline lineno="3137"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3138"><highlight class="normal"></highlight></codeline>
<codeline lineno="3139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>filePath<sp/>=<sp/>QStandardPaths::locate(QStandardPaths::ApplicationsLocation,<sp/>desktopFileNameWithPrefix);</highlight></codeline>
<codeline lineno="3140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!filePath.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="3141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>filePath;</highlight></codeline>
<codeline lineno="3142"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3143"><highlight class="normal"></highlight></codeline>
<codeline lineno="3144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref>.endsWith(suffix))<sp/>{</highlight></codeline>
<codeline lineno="3145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QStandardPaths::locate(QStandardPaths::ApplicationsLocation,<sp/><ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref>);</highlight></codeline>
<codeline lineno="3146"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3147"><highlight class="normal"></highlight></codeline>
<codeline lineno="3148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QString();</highlight></codeline>
<codeline lineno="3149"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3150"><highlight class="normal"></highlight></codeline>
<codeline lineno="3151" refid="class_k_win_1_1_window_1a6718fa91ff19f314d85678e091b8340c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae023877c81ca2684d535e7d7f89e4ce7" kindref="member">Window::hasApplicationMenu</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3152"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;applicationMenu()-&gt;applicationMenuEnabled()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a0fc590d232b8a473c027c123d765351a" kindref="member">m_applicationMenuServiceName</ref>.isEmpty()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1afb4dae41e63bf8253fc18fb0592fb896" kindref="member">m_applicationMenuObjectPath</ref>.isEmpty();</highlight></codeline>
<codeline lineno="3154"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3155"><highlight class="normal"></highlight></codeline>
<codeline lineno="3156" refid="class_k_win_1_1_window_1aa6855ec71b01961008ef688291652965" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aa6855ec71b01961008ef688291652965" kindref="member">Window::updateApplicationMenuServiceName</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;serviceName)</highlight></codeline>
<codeline lineno="3157"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>old_hasApplicationMenu<sp/>=<sp/><ref refid="class_k_win_1_1_window_1ae023877c81ca2684d535e7d7f89e4ce7" kindref="member">hasApplicationMenu</ref>();</highlight></codeline>
<codeline lineno="3159"><highlight class="normal"></highlight></codeline>
<codeline lineno="3160"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a0fc590d232b8a473c027c123d765351a" kindref="member">m_applicationMenuServiceName</ref><sp/>=<sp/>serviceName;</highlight></codeline>
<codeline lineno="3161"><highlight class="normal"></highlight></codeline>
<codeline lineno="3162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>new_hasApplicationMenu<sp/>=<sp/><ref refid="class_k_win_1_1_window_1ae023877c81ca2684d535e7d7f89e4ce7" kindref="member">hasApplicationMenu</ref>();</highlight></codeline>
<codeline lineno="3163"><highlight class="normal"></highlight></codeline>
<codeline lineno="3164"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a61be5e5de3298a63108f511acb5b3583" kindref="member">applicationMenuChanged</ref>();</highlight></codeline>
<codeline lineno="3165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(old_hasApplicationMenu<sp/>!=<sp/>new_hasApplicationMenu)<sp/>{</highlight></codeline>
<codeline lineno="3166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a71e3866d32586ef81815db5d089295f9" kindref="member">hasApplicationMenuChanged</ref>(new_hasApplicationMenu);</highlight></codeline>
<codeline lineno="3167"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3168"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3169"><highlight class="normal"></highlight></codeline>
<codeline lineno="3170" refid="class_k_win_1_1_window_1acbf43400025a9c526cf446f35e0ad6d8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1acbf43400025a9c526cf446f35e0ad6d8" kindref="member">Window::updateApplicationMenuObjectPath</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;objectPath)</highlight></codeline>
<codeline lineno="3171"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>old_hasApplicationMenu<sp/>=<sp/><ref refid="class_k_win_1_1_window_1ae023877c81ca2684d535e7d7f89e4ce7" kindref="member">hasApplicationMenu</ref>();</highlight></codeline>
<codeline lineno="3173"><highlight class="normal"></highlight></codeline>
<codeline lineno="3174"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afb4dae41e63bf8253fc18fb0592fb896" kindref="member">m_applicationMenuObjectPath</ref><sp/>=<sp/>objectPath;</highlight></codeline>
<codeline lineno="3175"><highlight class="normal"></highlight></codeline>
<codeline lineno="3176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>new_hasApplicationMenu<sp/>=<sp/><ref refid="class_k_win_1_1_window_1ae023877c81ca2684d535e7d7f89e4ce7" kindref="member">hasApplicationMenu</ref>();</highlight></codeline>
<codeline lineno="3177"><highlight class="normal"></highlight></codeline>
<codeline lineno="3178"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a61be5e5de3298a63108f511acb5b3583" kindref="member">applicationMenuChanged</ref>();</highlight></codeline>
<codeline lineno="3179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(old_hasApplicationMenu<sp/>!=<sp/>new_hasApplicationMenu)<sp/>{</highlight></codeline>
<codeline lineno="3180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a71e3866d32586ef81815db5d089295f9" kindref="member">hasApplicationMenuChanged</ref>(new_hasApplicationMenu);</highlight></codeline>
<codeline lineno="3181"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3182"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3183"><highlight class="normal"></highlight></codeline>
<codeline lineno="3184" refid="class_k_win_1_1_window_1a82738dff3fdc591b41d16aafef113e01" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a82738dff3fdc591b41d16aafef113e01" kindref="member">Window::setApplicationMenuActive</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a64b3e78c92b9566c25f826c9269b9d7d" kindref="member">applicationMenuActive</ref>)</highlight></codeline>
<codeline lineno="3185"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a34d2bc7be777b7e73a80e0e9f0e11dee" kindref="member">m_applicationMenuActive</ref><sp/>!=<sp/><ref refid="class_k_win_1_1_window_1a64b3e78c92b9566c25f826c9269b9d7d" kindref="member">applicationMenuActive</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a34d2bc7be777b7e73a80e0e9f0e11dee" kindref="member">m_applicationMenuActive</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a64b3e78c92b9566c25f826c9269b9d7d" kindref="member">applicationMenuActive</ref>;</highlight></codeline>
<codeline lineno="3188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a8160969459097d515917fcc1e5ec1ee3" kindref="member">applicationMenuActiveChanged</ref>(<ref refid="class_k_win_1_1_window_1a64b3e78c92b9566c25f826c9269b9d7d" kindref="member">applicationMenuActive</ref>);</highlight></codeline>
<codeline lineno="3189"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3190"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3191"><highlight class="normal"></highlight></codeline>
<codeline lineno="3192" refid="class_k_win_1_1_window_1a04cfd63418e8fc4dc8c3cb3565a613a9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a04cfd63418e8fc4dc8c3cb3565a613a9" kindref="member">Window::showApplicationMenu</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>actionId)</highlight></codeline>
<codeline lineno="3193"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a85199ff20c051bd2738f150f96875b7f" kindref="member">isDecorated</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;showApplicationMenu(actionId);</highlight></codeline>
<codeline lineno="3196"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>we<sp/>don&apos;t<sp/>know<sp/>where<sp/>the<sp/>application<sp/>menu<sp/>button<sp/>will<sp/>be,<sp/>show<sp/>it<sp/>in<sp/>the<sp/>top<sp/>left<sp/>corner<sp/>instead</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;showApplicationMenu(QRect(),<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>actionId);</highlight></codeline>
<codeline lineno="3199"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3200"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3201"><highlight class="normal"></highlight></codeline>
<codeline lineno="3202" refid="class_k_win_1_1_window_1a06fa16385e03864699000a61f6a1933b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a706a06ca23af2665a7f386dc72a870e6" kindref="member">Window::unresponsive</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3203"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a2e2dbdceda6f42b30b91e6f9949cdef1" kindref="member">m_unresponsive</ref>;</highlight></codeline>
<codeline lineno="3205"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3206"><highlight class="normal"></highlight></codeline>
<codeline lineno="3207" refid="class_k_win_1_1_window_1aacf6c3ac882bd25beb2777cedd4dbc64" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aacf6c3ac882bd25beb2777cedd4dbc64" kindref="member">Window::setUnresponsive</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a706a06ca23af2665a7f386dc72a870e6" kindref="member">unresponsive</ref>)</highlight></codeline>
<codeline lineno="3208"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a2e2dbdceda6f42b30b91e6f9949cdef1" kindref="member">m_unresponsive</ref><sp/>!=<sp/><ref refid="class_k_win_1_1_window_1a706a06ca23af2665a7f386dc72a870e6" kindref="member">unresponsive</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2e2dbdceda6f42b30b91e6f9949cdef1" kindref="member">m_unresponsive</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a706a06ca23af2665a7f386dc72a870e6" kindref="member">unresponsive</ref>;</highlight></codeline>
<codeline lineno="3211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1ad6fb29161438612c7904e7c1f1311e2f" kindref="member">unresponsiveChanged</ref>(<ref refid="class_k_win_1_1_window_1a2e2dbdceda6f42b30b91e6f9949cdef1" kindref="member">m_unresponsive</ref>);</highlight></codeline>
<codeline lineno="3212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1aed9d3f3c470d1fa02c8cce52dbffa050" kindref="member">captionChanged</ref>();</highlight></codeline>
<codeline lineno="3213"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3214"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3215"><highlight class="normal"></highlight></codeline>
<codeline lineno="3216" refid="class_k_win_1_1_window_1af4f8e9d5bcbfd147ce65a6106858010e" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_k_win_1_1_window_1af4f8e9d5bcbfd147ce65a6106858010e" kindref="member">Window::shortcutCaptionSuffix</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3217"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1adf86e393b2358d840cbe8d4b6870193b" kindref="member">shortcut</ref>().isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="3219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QString();</highlight></codeline>
<codeline lineno="3220"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;<sp/>{&quot;</highlight><highlight class="normal">)<sp/>+<sp/><ref refid="class_k_win_1_1_window_1adf86e393b2358d840cbe8d4b6870193b" kindref="member">shortcut</ref>().toString()<sp/>+<sp/>QLatin1Char(</highlight><highlight class="charliteral">&apos;}&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3222"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3223"><highlight class="normal"></highlight></codeline>
<codeline lineno="3224" refid="class_k_win_1_1_window_1a29aa4e9445d651a8ad460def78d9a9eb" refkind="member"><highlight class="normal">QString<sp/><ref refid="class_k_win_1_1_window_1a9a91fff09e5795dce9c1732082ff09b4" kindref="member">Window::caption</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3225"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3226"><highlight class="normal"><sp/><sp/><sp/><sp/>QString<sp/>cap<sp/>=<sp/><ref refid="class_k_win_1_1_window_1af3efc82546fdf210e4136a4e0d7b1a46" kindref="member">captionNormal</ref>()<sp/>+<sp/><ref refid="class_k_win_1_1_window_1a5f87d4992170acf48102a02db67279f0" kindref="member">captionSuffix</ref>();</highlight></codeline>
<codeline lineno="3227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a706a06ca23af2665a7f386dc72a870e6" kindref="member">unresponsive</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cap<sp/>+=<sp/>QLatin1String(</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cap<sp/>+=<sp/>i18nc(</highlight><highlight class="stringliteral">&quot;Application<sp/>is<sp/>not<sp/>responding,<sp/>appended<sp/>to<sp/>window<sp/>title&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;(Not<sp/>Responding)&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3230"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cap;</highlight></codeline>
<codeline lineno="3232"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3233"><highlight class="normal"></highlight></codeline>
<codeline lineno="3239" refid="class_k_win_1_1_window_1ae70865a6d475746978ca119ac336092e" refkind="member"><highlight class="normal">QStringList<sp/><ref refid="class_k_win_1_1_window_1aa71dc40a7137f7d9295a5ad7a635b0c7" kindref="member">Window::activities</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3240"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af5906859fd02b57258bcd8bc581d1c79" kindref="member">m_activityList</ref>;</highlight></codeline>
<codeline lineno="3242"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3243"><highlight class="normal"></highlight></codeline>
<codeline lineno="3244" refid="class_k_win_1_1_window_1a6214074a0338d546c1c97c736f1b1fe6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a6214074a0338d546c1c97c736f1b1fe6" kindref="member">Window::isOnCurrentActivity</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3245"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3246"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>KWIN_BUILD_ACTIVITIES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;<ref refid="class_k_win_1_1_window_1aa71dc40a7137f7d9295a5ad7a635b0c7" kindref="member">activities</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3249"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3250"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af30982dccaf9fcab4a7da3dd7053fc8b" kindref="member">isOnActivity</ref>(<ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;<ref refid="class_k_win_1_1_window_1aa71dc40a7137f7d9295a5ad7a635b0c7" kindref="member">activities</ref>()-&gt;current());</highlight></codeline>
<codeline lineno="3251"><highlight class="normal"></highlight><highlight class="preprocessor">#else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3253"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3254"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3255"><highlight class="normal"></highlight></codeline>
<codeline lineno="3263" refid="class_k_win_1_1_window_1a545f116b85dc0d6e66045171aa18fe53" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a545f116b85dc0d6e66045171aa18fe53" kindref="member">Window::setOnActivity</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;activity,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>enable)</highlight></codeline>
<codeline lineno="3264"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3265"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>KWIN_BUILD_ACTIVITIES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;<ref refid="class_k_win_1_1_window_1aa71dc40a7137f7d9295a5ad7a635b0c7" kindref="member">activities</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3268"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3269"><highlight class="normal"><sp/><sp/><sp/><sp/>QStringList<sp/>newActivitiesList<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aa71dc40a7137f7d9295a5ad7a635b0c7" kindref="member">activities</ref>();</highlight></codeline>
<codeline lineno="3270"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(newActivitiesList.contains(activity)<sp/>==<sp/>enable)<sp/>{</highlight></codeline>
<codeline lineno="3271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>nothing<sp/>to<sp/>do</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3273"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3274"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(enable)<sp/>{</highlight></codeline>
<codeline lineno="3275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QStringList<sp/>allActivities<sp/>=<sp/><ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;activities()-&gt;all();</highlight></codeline>
<codeline lineno="3276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!allActivities.contains(activity))<sp/>{</highlight></codeline>
<codeline lineno="3277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>bogus<sp/>ID</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newActivitiesList.append(activity);</highlight></codeline>
<codeline lineno="3281"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newActivitiesList.removeOne(activity);</highlight></codeline>
<codeline lineno="3283"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3284"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7e638bc0587a8f3df06238420f94962f" kindref="member">setOnActivities</ref>(newActivitiesList);</highlight></codeline>
<codeline lineno="3285"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3286"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3287"><highlight class="normal"></highlight></codeline>
<codeline lineno="3291" refid="class_k_win_1_1_window_1a7e638bc0587a8f3df06238420f94962f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7e638bc0587a8f3df06238420f94962f" kindref="member">Window::setOnActivities</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QStringList<sp/>&amp;newActivitiesList)</highlight></codeline>
<codeline lineno="3292"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3293"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>KWIN_BUILD_ACTIVITIES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;<ref refid="class_k_win_1_1_window_1aa71dc40a7137f7d9295a5ad7a635b0c7" kindref="member">activities</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3296"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3297"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;<ref refid="class_k_win_1_1_window_1aa71dc40a7137f7d9295a5ad7a635b0c7" kindref="member">activities</ref>()-&gt;serviceStatus()<sp/>!=<sp/>KActivities::Consumer::Running)<sp/>{</highlight></codeline>
<codeline lineno="3298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3299"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>allActivities<sp/>=<sp/><ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;activities()-&gt;all();</highlight></codeline>
<codeline lineno="3301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>activityList<sp/>=<sp/>[&amp;]<sp/>{</highlight></codeline>
<codeline lineno="3302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>result<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkActivity(newActivitiesList);</highlight></codeline>
<codeline lineno="3303"><highlight class="normal"></highlight></codeline>
<codeline lineno="3304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it<sp/>=<sp/>std::remove_if(result.begin(),<sp/>result.end(),<sp/>[=](</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QString<sp/>&amp;activity)<sp/>{</highlight></codeline>
<codeline lineno="3305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>!allActivities.contains(activity);</highlight></codeline>
<codeline lineno="3306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="3307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.erase(it,<sp/>result.end());</highlight></codeline>
<codeline lineno="3308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result;</highlight></codeline>
<codeline lineno="3309"><highlight class="normal"><sp/><sp/><sp/><sp/>}();</highlight></codeline>
<codeline lineno="3310"><highlight class="normal"></highlight></codeline>
<codeline lineno="3311"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>allActivityExplicitlyRequested<sp/>=<sp/>activityList.isEmpty()<sp/>||<sp/>activityList.contains(<ref refid="class_k_win_1_1_activities_1a6ccd547e1f038b38c73014940bff1c8e" kindref="member">Activities::nullUuid</ref>());</highlight></codeline>
<codeline lineno="3312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>allActivitiesCovered<sp/>=<sp/>activityList.size()<sp/>&gt;<sp/>1<sp/>&amp;&amp;<sp/>activityList.size()<sp/>==<sp/>allActivities.size();</highlight></codeline>
<codeline lineno="3313"><highlight class="normal"></highlight></codeline>
<codeline lineno="3314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(allActivityExplicitlyRequested<sp/>||<sp/>allActivitiesCovered)<sp/>{</highlight></codeline>
<codeline lineno="3315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1af5906859fd02b57258bcd8bc581d1c79" kindref="member">m_activityList</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="3316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af5906859fd02b57258bcd8bc581d1c79" kindref="member">m_activityList</ref>.clear();</highlight></codeline>
<codeline lineno="3317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac7fddb149ff502da3b73ba871ab63dc5" kindref="member">doSetOnActivities</ref>(<ref refid="class_k_win_1_1_window_1af5906859fd02b57258bcd8bc581d1c79" kindref="member">m_activityList</ref>);</highlight></codeline>
<codeline lineno="3318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3319"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1af5906859fd02b57258bcd8bc581d1c79" kindref="member">m_activityList</ref><sp/>!=<sp/>activityList)<sp/>{</highlight></codeline>
<codeline lineno="3321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af5906859fd02b57258bcd8bc581d1c79" kindref="member">m_activityList</ref><sp/>=<sp/>activityList;</highlight></codeline>
<codeline lineno="3322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac7fddb149ff502da3b73ba871ab63dc5" kindref="member">doSetOnActivities</ref>(<ref refid="class_k_win_1_1_window_1af5906859fd02b57258bcd8bc581d1c79" kindref="member">m_activityList</ref>);</highlight></codeline>
<codeline lineno="3323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3324"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3325"><highlight class="normal"></highlight></codeline>
<codeline lineno="3326"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a819092f9968d638a17b8e857e092d0f1" kindref="member">updateActivities</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3327"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3328"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3329"><highlight class="normal"></highlight></codeline>
<codeline lineno="3330" refid="class_k_win_1_1_window_1ac7fddb149ff502da3b73ba871ab63dc5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ac7fddb149ff502da3b73ba871ab63dc5" kindref="member">Window::doSetOnActivities</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QStringList<sp/>&amp;activityList)</highlight></codeline>
<codeline lineno="3331"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3332"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3333"><highlight class="normal"></highlight></codeline>
<codeline lineno="3338" refid="class_k_win_1_1_window_1a4fd6928be07d09893f0ee9df9e015fc7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4fd6928be07d09893f0ee9df9e015fc7" kindref="member">Window::setOnAllActivities</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>all)</highlight></codeline>
<codeline lineno="3339"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3340"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>KWIN_BUILD_ACTIVITIES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3341"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(all<sp/>==<sp/><ref refid="class_k_win_1_1_window_1a20a2cd33c04529fd4e5115e272ffaaf8" kindref="member">isOnAllActivities</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3343"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3344"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(all)<sp/>{</highlight></codeline>
<codeline lineno="3345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7e638bc0587a8f3df06238420f94962f" kindref="member">setOnActivities</ref>(QStringList());</highlight></codeline>
<codeline lineno="3346"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a545f116b85dc0d6e66045171aa18fe53" kindref="member">setOnActivity</ref>(<ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;<ref refid="class_k_win_1_1_window_1aa71dc40a7137f7d9295a5ad7a635b0c7" kindref="member">activities</ref>()-&gt;current(),<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3348"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3349"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3350"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3351"><highlight class="normal"></highlight></codeline>
<codeline lineno="3355" refid="class_k_win_1_1_window_1a819092f9968d638a17b8e857e092d0f1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a819092f9968d638a17b8e857e092d0f1" kindref="member">Window::updateActivities</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>includeTransients)</highlight></codeline>
<codeline lineno="3356"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3357"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ae71abb379513c957189b9b5bc50be96b" kindref="member">m_activityUpdatesBlocked</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac2a9b46eff2a2b64330634e98bed862a" kindref="member">m_blockedActivityUpdatesRequireTransients</ref><sp/>|=<sp/>includeTransients;</highlight></codeline>
<codeline lineno="3359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3360"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3361"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1ac86328eec92ac6f01ab3293a3d72064e" kindref="member">activitiesChanged</ref>();</highlight></codeline>
<codeline lineno="3362"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac2a9b46eff2a2b64330634e98bed862a" kindref="member">m_blockedActivityUpdatesRequireTransients</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;<sp/></highlight><highlight class="comment">//<sp/>reset</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3363"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_workspace_1a8ca8f8a3904f007fd6a256c0d6996201" kindref="member">Workspace::self</ref>()-&gt;focusChain()-&gt;update(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_focus_chain_1acab3b23e1580c8efd3734cf5f5243de7a9b0c9b8b20ea9d810dbf7be51526f985" kindref="member">FocusChain::MakeFirst</ref>);</highlight></codeline>
<codeline lineno="3364"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">updateWindowRules</ref>(<ref refid="class_k_win_1_1_rules_1af260e8f34c4f8e04cc312fe34c135501a23d1f71fe66bb98e95d0f29db33d981b" kindref="member">Rules::Activity</ref>);</highlight></codeline>
<codeline lineno="3365"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3366"><highlight class="normal"></highlight></codeline>
<codeline lineno="3367" refid="class_k_win_1_1_window_1a940ee491c5f1fe9fdb660110ad491804" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a940ee491c5f1fe9fdb660110ad491804" kindref="member">Window::blockActivityUpdates</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>b)</highlight></codeline>
<codeline lineno="3368"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(b)<sp/>{</highlight></codeline>
<codeline lineno="3370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>++<ref refid="class_k_win_1_1_window_1ae71abb379513c957189b9b5bc50be96b" kindref="member">m_activityUpdatesBlocked</ref>;</highlight></codeline>
<codeline lineno="3371"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_ASSERT(<ref refid="class_k_win_1_1_window_1ae71abb379513c957189b9b5bc50be96b" kindref="member">m_activityUpdatesBlocked</ref>);</highlight></codeline>
<codeline lineno="3373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>--<ref refid="class_k_win_1_1_window_1ae71abb379513c957189b9b5bc50be96b" kindref="member">m_activityUpdatesBlocked</ref>;</highlight></codeline>
<codeline lineno="3374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1ae71abb379513c957189b9b5bc50be96b" kindref="member">m_activityUpdatesBlocked</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a819092f9968d638a17b8e857e092d0f1" kindref="member">updateActivities</ref>(<ref refid="class_k_win_1_1_window_1ac2a9b46eff2a2b64330634e98bed862a" kindref="member">m_blockedActivityUpdatesRequireTransients</ref>);</highlight></codeline>
<codeline lineno="3376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3377"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3378"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3379"><highlight class="normal"></highlight></codeline>
<codeline lineno="3380" refid="class_k_win_1_1_window_1a4d1c2d0e1fde826cd0f99ec00ed93de6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4d1c2d0e1fde826cd0f99ec00ed93de6" kindref="member">Window::groupTransient</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3381"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3382"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3383"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3384"><highlight class="normal"></highlight></codeline>
<codeline lineno="3385" refid="class_k_win_1_1_window_1af60e148f9cc7e10a15e07d21b4481a34" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_group" kindref="compound">Group</ref><sp/>*<ref refid="class_k_win_1_1_window_1af60e148f9cc7e10a15e07d21b4481a34" kindref="member">Window::group</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3386"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3388"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3389"><highlight class="normal"></highlight></codeline>
<codeline lineno="3390" refid="class_k_win_1_1_window_1a0e7daafcd723a739be737dab9a66f22d" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_group" kindref="compound">Group</ref><sp/>*<ref refid="class_k_win_1_1_window_1af60e148f9cc7e10a15e07d21b4481a34" kindref="member">Window::group</ref>()</highlight></codeline>
<codeline lineno="3391"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3393"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3394"><highlight class="normal"></highlight></codeline>
<codeline lineno="3395" refid="class_k_win_1_1_window_1a739d097e02c1cfa5162510a20c6114d2" refkind="member"><highlight class="normal">QPointF<sp/><ref refid="class_k_win_1_1_window_1a739d097e02c1cfa5162510a20c6114d2" kindref="member">Window::framePosToClientPos</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;point)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3396"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3397"><highlight class="normal"><sp/><sp/><sp/><sp/>QMarginsF<sp/>borders;</highlight></codeline>
<codeline lineno="3398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>borders<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;currentState()-&gt;borders();</highlight></codeline>
<codeline lineno="3400"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3401"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>point<sp/>+<sp/>QPointF(borders.left(),<sp/>borders.top());</highlight></codeline>
<codeline lineno="3402"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3403"><highlight class="normal"></highlight></codeline>
<codeline lineno="3404" refid="class_k_win_1_1_window_1a5bbc27846d8e4d03bb44061b15609f50" refkind="member"><highlight class="normal">QPointF<sp/><ref refid="class_k_win_1_1_window_1a5bbc27846d8e4d03bb44061b15609f50" kindref="member">Window::nextFramePosToClientPos</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;point)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3405"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3406"><highlight class="normal"><sp/><sp/><sp/><sp/>QMarginsF<sp/>borders;</highlight></codeline>
<codeline lineno="3407"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1ae186402da754d5946bcfeab855f6096e" kindref="member">nextDecoration</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>borders<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>-&gt;nextState()-&gt;borders();</highlight></codeline>
<codeline lineno="3409"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>point<sp/>+<sp/>QPointF(borders.left(),<sp/>borders.top());</highlight></codeline>
<codeline lineno="3411"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3412"><highlight class="normal"></highlight></codeline>
<codeline lineno="3413" refid="class_k_win_1_1_window_1a817b5734d5c89784f28c1bef955a6485" refkind="member"><highlight class="normal">QPointF<sp/><ref refid="class_k_win_1_1_window_1a817b5734d5c89784f28c1bef955a6485" kindref="member">Window::clientPosToFramePos</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;point)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3414"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3415"><highlight class="normal"><sp/><sp/><sp/><sp/>QMarginsF<sp/>borders;</highlight></codeline>
<codeline lineno="3416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>borders<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;currentState()-&gt;borders();</highlight></codeline>
<codeline lineno="3418"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3419"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>point<sp/>-<sp/>QPointF(borders.left(),<sp/>borders.top());</highlight></codeline>
<codeline lineno="3420"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3421"><highlight class="normal"></highlight></codeline>
<codeline lineno="3422" refid="class_k_win_1_1_window_1a2ec8e47f4272f0e80bec5033f5cac31e" refkind="member"><highlight class="normal">QPointF<sp/><ref refid="class_k_win_1_1_window_1a2ec8e47f4272f0e80bec5033f5cac31e" kindref="member">Window::nextClientPosToFramePos</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;point)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3423"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3424"><highlight class="normal"><sp/><sp/><sp/><sp/>QMarginsF<sp/>borders;</highlight></codeline>
<codeline lineno="3425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1ae186402da754d5946bcfeab855f6096e" kindref="member">nextDecoration</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>borders<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>-&gt;nextState()-&gt;borders();</highlight></codeline>
<codeline lineno="3427"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3428"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>point<sp/>-<sp/>QPointF(borders.left(),<sp/>borders.top());</highlight></codeline>
<codeline lineno="3429"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3430"><highlight class="normal"></highlight></codeline>
<codeline lineno="3431" refid="class_k_win_1_1_window_1ae09928747c6104d9520e519176f0f618" refkind="member"><highlight class="normal">QSizeF<sp/><ref refid="class_k_win_1_1_window_1ae09928747c6104d9520e519176f0f618" kindref="member">Window::frameSizeToClientSize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSizeF<sp/>&amp;<ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3432"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3433"><highlight class="normal"><sp/><sp/><sp/><sp/>QMarginsF<sp/>borders;</highlight></codeline>
<codeline lineno="3434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>borders<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;currentState()-&gt;borders();</highlight></codeline>
<codeline lineno="3436"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3437"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>.shrunkBy(borders);</highlight></codeline>
<codeline lineno="3438"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3439"><highlight class="normal"></highlight></codeline>
<codeline lineno="3440" refid="class_k_win_1_1_window_1abc82318fb715dcc5a0a3b98515897e92" refkind="member"><highlight class="normal">QSizeF<sp/><ref refid="class_k_win_1_1_window_1abc82318fb715dcc5a0a3b98515897e92" kindref="member">Window::nextFrameSizeToClientSize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSizeF<sp/>&amp;<ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3441"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3442"><highlight class="normal"><sp/><sp/><sp/><sp/>QMarginsF<sp/>borders;</highlight></codeline>
<codeline lineno="3443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1ae186402da754d5946bcfeab855f6096e" kindref="member">nextDecoration</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>borders<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>-&gt;nextState()-&gt;borders();</highlight></codeline>
<codeline lineno="3445"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3446"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>.shrunkBy(borders);</highlight></codeline>
<codeline lineno="3447"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3448"><highlight class="normal"></highlight></codeline>
<codeline lineno="3449" refid="class_k_win_1_1_window_1aec00cdb081b9048bde71fa2844cee001" refkind="member"><highlight class="normal">QSizeF<sp/><ref refid="class_k_win_1_1_window_1aec00cdb081b9048bde71fa2844cee001" kindref="member">Window::clientSizeToFrameSize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSizeF<sp/>&amp;<ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3450"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3451"><highlight class="normal"><sp/><sp/><sp/><sp/>QMarginsF<sp/>borders;</highlight></codeline>
<codeline lineno="3452"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>borders<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>()-&gt;currentState()-&gt;borders();</highlight></codeline>
<codeline lineno="3454"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3455"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>.grownBy(borders);</highlight></codeline>
<codeline lineno="3456"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3457"><highlight class="normal"></highlight></codeline>
<codeline lineno="3458" refid="class_k_win_1_1_window_1af4f582315c040559fde4abcadf727776" refkind="member"><highlight class="normal">QSizeF<sp/><ref refid="class_k_win_1_1_window_1af4f582315c040559fde4abcadf727776" kindref="member">Window::nextClientSizeToFrameSize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSizeF<sp/>&amp;<ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3459"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3460"><highlight class="normal"><sp/><sp/><sp/><sp/>QMarginsF<sp/>borders;</highlight></codeline>
<codeline lineno="3461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1ae186402da754d5946bcfeab855f6096e" kindref="member">nextDecoration</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>borders<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aeb9f103fab307fd78c92cef1f14275b2" kindref="member">decoration</ref>-&gt;nextState()-&gt;borders();</highlight></codeline>
<codeline lineno="3463"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>.grownBy(borders);</highlight></codeline>
<codeline lineno="3465"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3466"><highlight class="normal"></highlight></codeline>
<codeline lineno="3467" refid="class_k_win_1_1_window_1a31d53d6011e247371ee9316d6be2ba81" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a31d53d6011e247371ee9316d6be2ba81" kindref="member">Window::frameRectToClientRect</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3468"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QRectF(<ref refid="class_k_win_1_1_window_1a739d097e02c1cfa5162510a20c6114d2" kindref="member">framePosToClientPos</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.topLeft()),</highlight></codeline>
<codeline lineno="3470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae09928747c6104d9520e519176f0f618" kindref="member">frameSizeToClientSize</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.size()));</highlight></codeline>
<codeline lineno="3471"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3472"><highlight class="normal"></highlight></codeline>
<codeline lineno="3473" refid="class_k_win_1_1_window_1a609229e1420ffc3f9d584ea7834fdb73" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a609229e1420ffc3f9d584ea7834fdb73" kindref="member">Window::nextFrameRectToClientRect</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3474"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3475"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QRectF(<ref refid="class_k_win_1_1_window_1a5bbc27846d8e4d03bb44061b15609f50" kindref="member">nextFramePosToClientPos</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.topLeft()),</highlight></codeline>
<codeline lineno="3476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1abc82318fb715dcc5a0a3b98515897e92" kindref="member">nextFrameSizeToClientSize</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.size()));</highlight></codeline>
<codeline lineno="3477"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3478"><highlight class="normal"></highlight></codeline>
<codeline lineno="3479" refid="class_k_win_1_1_window_1a94200d7cbb5dc1e378197dbde9b22c38" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a94200d7cbb5dc1e378197dbde9b22c38" kindref="member">Window::clientRectToFrameRect</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3480"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3481"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QRectF(<ref refid="class_k_win_1_1_window_1a817b5734d5c89784f28c1bef955a6485" kindref="member">clientPosToFramePos</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.topLeft()),</highlight></codeline>
<codeline lineno="3482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aec00cdb081b9048bde71fa2844cee001" kindref="member">clientSizeToFrameSize</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.size()));</highlight></codeline>
<codeline lineno="3483"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3484"><highlight class="normal"></highlight></codeline>
<codeline lineno="3485" refid="class_k_win_1_1_window_1a295cbed96fc3d79023a1820b26c2af53" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a295cbed96fc3d79023a1820b26c2af53" kindref="member">Window::nextClientRectToFrameRect</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3486"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QRectF(<ref refid="class_k_win_1_1_window_1a2ec8e47f4272f0e80bec5033f5cac31e" kindref="member">nextClientPosToFramePos</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.topLeft()),</highlight></codeline>
<codeline lineno="3488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af4f582315c040559fde4abcadf727776" kindref="member">nextClientSizeToFrameSize</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.size()));</highlight></codeline>
<codeline lineno="3489"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3490"><highlight class="normal"></highlight></codeline>
<codeline lineno="3491" refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">Window::moveResizeGeometry</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3492"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af7e5c26ceb8213166436ae5cb33b3868" kindref="member">m_moveResizeGeometry</ref>;</highlight></codeline>
<codeline lineno="3494"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3495"><highlight class="normal"></highlight></codeline>
<codeline lineno="3496" refid="class_k_win_1_1_window_1a8653343fc420debd4ffb00938488a736" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a8653343fc420debd4ffb00938488a736" kindref="member">Window::setMoveResizeGeometry</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;geo)</highlight></codeline>
<codeline lineno="3497"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3498"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1af7e5c26ceb8213166436ae5cb33b3868" kindref="member">m_moveResizeGeometry</ref><sp/>=<sp/>geo;</highlight></codeline>
<codeline lineno="3499"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1adbbbb9c3b063b36a448825bc710cb4a8" kindref="member">setMoveResizeOutput</ref>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputAt(geo.center()));</highlight></codeline>
<codeline lineno="3500"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3501"><highlight class="normal"></highlight></codeline>
<codeline lineno="3502" refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*<ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">Window::moveResizeOutput</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3503"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3504"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0cf00bc60958289e00e98f54c5cd5efc" kindref="member">m_moveResizeOutput</ref>;</highlight></codeline>
<codeline lineno="3505"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3506"><highlight class="normal"></highlight></codeline>
<codeline lineno="3507" refid="class_k_win_1_1_window_1adbbbb9c3b063b36a448825bc710cb4a8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1adbbbb9c3b063b36a448825bc710cb4a8" kindref="member">Window::setMoveResizeOutput</ref>(<ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>)</highlight></codeline>
<codeline lineno="3508"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a0cf00bc60958289e00e98f54c5cd5efc" kindref="member">m_moveResizeOutput</ref><sp/>==<sp/><ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3511"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3512"><highlight class="normal"></highlight></codeline>
<codeline lineno="3513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a0cf00bc60958289e00e98f54c5cd5efc" kindref="member">m_moveResizeOutput</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>disconnect(<ref refid="class_k_win_1_1_window_1a0cf00bc60958289e00e98f54c5cd5efc" kindref="member">m_moveResizeOutput</ref>,<sp/>&amp;<ref refid="class_k_win_1_1_output_1a6d784164a30461f60488d1ef7a47d787" kindref="member">Output::scaleChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a5ba5344f9d163c3f951057ddd84f2111" kindref="member">Window::updateNextTargetScale</ref>);</highlight></codeline>
<codeline lineno="3515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>disconnect(<ref refid="class_k_win_1_1_window_1a0cf00bc60958289e00e98f54c5cd5efc" kindref="member">m_moveResizeOutput</ref>,<sp/>&amp;<ref refid="class_k_win_1_1_output_1ac1e24bed156ab39494dfd360e277635d" kindref="member">Output::transformChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ac1a0623d451064d4938fc3f4872a2a9d" kindref="member">Window::updatePreferredBufferTransform</ref>);</highlight></codeline>
<codeline lineno="3516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>disconnect(<ref refid="class_k_win_1_1_window_1a0cf00bc60958289e00e98f54c5cd5efc" kindref="member">m_moveResizeOutput</ref>,<sp/>&amp;<ref refid="class_k_win_1_1_output_1a28b08e9f87c706f7bef73a9d437823b6" kindref="member">Output::colorDescriptionChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a8317614541483173a05da42f7d35d06b" kindref="member">Window::updatePreferredColorDescription</ref>);</highlight></codeline>
<codeline lineno="3517"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3518"><highlight class="normal"></highlight></codeline>
<codeline lineno="3519"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a0cf00bc60958289e00e98f54c5cd5efc" kindref="member">m_moveResizeOutput</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>;</highlight></codeline>
<codeline lineno="3520"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>,<sp/>&amp;<ref refid="class_k_win_1_1_output_1a6d784164a30461f60488d1ef7a47d787" kindref="member">Output::scaleChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a5ba5344f9d163c3f951057ddd84f2111" kindref="member">Window::updateNextTargetScale</ref>);</highlight></codeline>
<codeline lineno="3522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>,<sp/>&amp;<ref refid="class_k_win_1_1_output_1ac1e24bed156ab39494dfd360e277635d" kindref="member">Output::transformChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ac1a0623d451064d4938fc3f4872a2a9d" kindref="member">Window::updatePreferredBufferTransform</ref>);</highlight></codeline>
<codeline lineno="3523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>connect(<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>,<sp/>&amp;<ref refid="class_k_win_1_1_output_1a28b08e9f87c706f7bef73a9d437823b6" kindref="member">Output::colorDescriptionChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a8317614541483173a05da42f7d35d06b" kindref="member">Window::updatePreferredColorDescription</ref>);</highlight></codeline>
<codeline lineno="3524"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3525"><highlight class="normal"></highlight></codeline>
<codeline lineno="3526"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a5ba5344f9d163c3f951057ddd84f2111" kindref="member">updateNextTargetScale</ref>();</highlight></codeline>
<codeline lineno="3527"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac1a0623d451064d4938fc3f4872a2a9d" kindref="member">updatePreferredBufferTransform</ref>();</highlight></codeline>
<codeline lineno="3528"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8317614541483173a05da42f7d35d06b" kindref="member">updatePreferredColorDescription</ref>();</highlight></codeline>
<codeline lineno="3529"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3530"><highlight class="normal"></highlight></codeline>
<codeline lineno="3531" refid="class_k_win_1_1_window_1ae6dc01373356e8b623e67a3d36ded9ce" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a6dc0bc3b6fedf55e01d0db0ee508b320" kindref="member">Window::move</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;point)</highlight></codeline>
<codeline lineno="3532"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3533"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3535"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3536"><highlight class="normal"></highlight></codeline>
<codeline lineno="3537"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref><sp/>=<sp/>QRectF(point,<sp/><ref refid="class_k_win_1_1_window_1af7e5c26ceb8213166436ae5cb33b3868" kindref="member">m_moveResizeGeometry</ref>.size());</highlight></codeline>
<codeline lineno="3538"><highlight class="normal"></highlight></codeline>
<codeline lineno="3539"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8653343fc420debd4ffb00938488a736" kindref="member">setMoveResizeGeometry</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>);</highlight></codeline>
<codeline lineno="3540"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afac271a8d3eb8a6d16e65ba261713a8a" kindref="member">moveResizeInternal</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>,<sp/><ref refid="class_k_win_1_1_window_1a412b316294522eb307c31fb2155e82e9a6bc362dbf494c61ea117fe3c71ca48a5" kindref="member">MoveResizeMode::Move</ref>);</highlight></codeline>
<codeline lineno="3541"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3542"><highlight class="normal"></highlight></codeline>
<codeline lineno="3543" refid="class_k_win_1_1_window_1acbdb2c16d25e7aa8842c04a0d51fe61e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4f9ff78c2b5b8fb2c900869968a9df63" kindref="member">Window::resize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSizeF<sp/>&amp;<ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>)</highlight></codeline>
<codeline lineno="3544"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3545"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3547"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3548"><highlight class="normal"></highlight></codeline>
<codeline lineno="3549"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref><sp/>=<sp/>QRectF(<ref refid="class_k_win_1_1_window_1af7e5c26ceb8213166436ae5cb33b3868" kindref="member">m_moveResizeGeometry</ref>.topLeft(),<sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>);</highlight></codeline>
<codeline lineno="3550"><highlight class="normal"></highlight></codeline>
<codeline lineno="3551"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8653343fc420debd4ffb00938488a736" kindref="member">setMoveResizeGeometry</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>);</highlight></codeline>
<codeline lineno="3552"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afac271a8d3eb8a6d16e65ba261713a8a" kindref="member">moveResizeInternal</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>,<sp/><ref refid="class_k_win_1_1_window_1a412b316294522eb307c31fb2155e82e9a9d723d04c40bfd81835c0766a698cf63" kindref="member">MoveResizeMode::Resize</ref>);</highlight></codeline>
<codeline lineno="3553"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3554"><highlight class="normal"></highlight></codeline>
<codeline lineno="3555" refid="class_k_win_1_1_window_1aca6e1f1d8772897c5efbfb3c17fa436e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aca6e1f1d8772897c5efbfb3c17fa436e" kindref="member">Window::moveResize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>)</highlight></codeline>
<codeline lineno="3556"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3557"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3559"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3560"><highlight class="normal"></highlight></codeline>
<codeline lineno="3561"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a8653343fc420debd4ffb00938488a736" kindref="member">setMoveResizeGeometry</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>);</highlight></codeline>
<codeline lineno="3562"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afac271a8d3eb8a6d16e65ba261713a8a" kindref="member">moveResizeInternal</ref>(<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>,<sp/><ref refid="class_k_win_1_1_window_1a412b316294522eb307c31fb2155e82e9a947af1b31ca1ff7d7668777c04c8b03d" kindref="member">MoveResizeMode::MoveResize</ref>);</highlight></codeline>
<codeline lineno="3563"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3564"><highlight class="normal"></highlight></codeline>
<codeline lineno="3565" refid="class_k_win_1_1_window_1a57e519ab516032f0d9d74016c1229f1d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a57e519ab516032f0d9d74016c1229f1d" kindref="member">Window::setElectricBorderMode</ref>(std::optional&lt;ElectricBorderMode&gt;<sp/>mode)</highlight></codeline>
<codeline lineno="3566"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3567"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a85e581a5d27c42ac61ba665b48b6ccd8" kindref="member">m_electricMode</ref><sp/>=<sp/>mode;</highlight></codeline>
<codeline lineno="3568"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3569"><highlight class="normal"></highlight></codeline>
<codeline lineno="3570" refid="class_k_win_1_1_window_1a8daebb2d16d0caf9dd9e9db6322b47de" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a8daebb2d16d0caf9dd9e9db6322b47de" kindref="member">Window::setElectricBorderMaximizing</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>maximizing)</highlight></codeline>
<codeline lineno="3571"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3572"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a12c2b2f6f08bc682b5709b0b31835af2" kindref="member">m_electricMaximizing</ref><sp/>=<sp/>maximizing;</highlight></codeline>
<codeline lineno="3573"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(maximizing)<sp/>{</highlight></codeline>
<codeline lineno="3574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a771c32db912a7dca82da5fd3f9fe5fa8" kindref="member">quickTileMode</ref><sp/>=<sp/>std::get_if&lt;QuickTileMode&gt;(&amp;<ref refid="class_k_win_1_1_window_1a85e581a5d27c42ac61ba665b48b6ccd8" kindref="member">m_electricMode</ref>.value()))<sp/>{</highlight></codeline>
<codeline lineno="3575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outline()-&gt;show(<ref refid="class_k_win_1_1_window_1aee9db3fc7ca52ecdaf42b7a77137c238" kindref="member">quickTileGeometry</ref>(*<ref refid="class_k_win_1_1_window_1a771c32db912a7dca82da5fd3f9fe5fa8" kindref="member">quickTileMode</ref>,<sp/><ref refid="class_k_win_1_1_window_1a028d288109b39cb174d34fb8b2b44345" kindref="member">interactiveMoveResizeAnchor</ref>()).toRect(),<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>().toRect());</highlight></codeline>
<codeline lineno="3576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(std::get_if&lt;MaximizeMode&gt;(&amp;<ref refid="class_k_win_1_1_window_1a85e581a5d27c42ac61ba665b48b6ccd8" kindref="member">m_electricMode</ref>.value()))<sp/>{</highlight></codeline>
<codeline lineno="3577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outline()-&gt;show(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a445c2e99842dbf1b3870807ebbd11f23" kindref="member">MaximizeArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_window_1a028d288109b39cb174d34fb8b2b44345" kindref="member">interactiveMoveResizeAnchor</ref>()).toRect(),<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>().toRect());</highlight></codeline>
<codeline lineno="3578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3579"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outline()-&gt;hide();</highlight></codeline>
<codeline lineno="3581"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3582"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3583"><highlight class="normal"></highlight></codeline>
<codeline lineno="3584" refid="class_k_win_1_1_window_1aee9db3fc7ca52ecdaf42b7a77137c238" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1aee9db3fc7ca52ecdaf42b7a77137c238" kindref="member">Window::quickTileGeometry</ref>(QuickTileMode<sp/>mode,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;<ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3585"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3586"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref><sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputAt(<ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>);</highlight></codeline>
<codeline lineno="3587"><highlight class="normal"></highlight></codeline>
<codeline lineno="3588"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa90589c47f06eb971d548591f23c285af" kindref="member">QuickTileFlag::Custom</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;rootTile(<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>)-&gt;pick(<ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>);</highlight></codeline>
<codeline lineno="3590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>-&gt;windowGeometry();</highlight></codeline>
<codeline lineno="3592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3593"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3594"><highlight class="normal"></highlight></codeline>
<codeline lineno="3595"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;tileManager(<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>)-&gt;quickTile(mode);</highlight></codeline>
<codeline lineno="3596"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>-&gt;windowGeometry();</highlight></codeline>
<codeline lineno="3598"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3599"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a445c2e99842dbf1b3870807ebbd11f23" kindref="member">MaximizeArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>);</highlight></codeline>
<codeline lineno="3600"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3601"><highlight class="normal"></highlight></codeline>
<codeline lineno="3602" refid="class_k_win_1_1_window_1ae3e09a76bdd4d8b7faea845fd8a37e7f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae3e09a76bdd4d8b7faea845fd8a37e7f" kindref="member">Window::exitQuickTileMode</ref>()</highlight></codeline>
<codeline lineno="3603"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3604"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>outputs<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputs();</highlight></codeline>
<codeline lineno="3605"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref><sp/>:<sp/>outputs)<sp/>{</highlight></codeline>
<codeline lineno="3606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;tileManager(<ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>)-&gt;forgetWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3607"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3608"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3609"><highlight class="normal"></highlight></codeline>
<codeline lineno="3610" refid="class_k_win_1_1_window_1af21a731d416e0b1a9390d85e629b0c98" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af21a731d416e0b1a9390d85e629b0c98" kindref="member">Window::updateElectricGeometryRestore</ref>()</highlight></codeline>
<codeline lineno="3611"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3612"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a30324ba0bf9c10338dd809187d7ab87e" kindref="member">m_electricGeometryRestore</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5f94086b4bce785556425c530c59dbaf" kindref="member">geometryRestore</ref>();</highlight></codeline>
<codeline lineno="3613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.initialQuickTileMode<sp/>==<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9aac06708e540fd3823add3d1fc048876d" kindref="member">MaximizeHorizontal</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a30324ba0bf9c10338dd809187d7ab87e" kindref="member">m_electricGeometryRestore</ref>.setX(<ref refid="class_k_win_1_1_window_1a8ca7699b2ae5cef0dcf3755f55f68fb7" kindref="member">x</ref>());</highlight></codeline>
<codeline lineno="3616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a30324ba0bf9c10338dd809187d7ab87e" kindref="member">m_electricGeometryRestore</ref>.setWidth(<ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref>());</highlight></codeline>
<codeline lineno="3617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a21499d1263beb477425205b49fca8ef1" kindref="member">MaximizeVertical</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a30324ba0bf9c10338dd809187d7ab87e" kindref="member">m_electricGeometryRestore</ref>.setY(<ref refid="class_k_win_1_1_window_1a82df990348a6c4a0696ef5e1f8aea78d" kindref="member">y</ref>());</highlight></codeline>
<codeline lineno="3620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a30324ba0bf9c10338dd809187d7ab87e" kindref="member">m_electricGeometryRestore</ref>.setHeight(<ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref>());</highlight></codeline>
<codeline lineno="3621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3622"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3623"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3624"><highlight class="normal"></highlight></codeline>
<codeline lineno="3625" refid="class_k_win_1_1_window_1a3df1363787b3578160154bf8b472c6d2" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a3df1363787b3578160154bf8b472c6d2" kindref="member">Window::quickTileGeometryRestore</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3626"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3627"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1ffaa1f6015de331667110a987922089" kindref="member">requestedQuickTileMode</ref>()<sp/>!=<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>window<sp/>is<sp/>tiled,<sp/>geometryRestore()<sp/>already<sp/>has<sp/>a<sp/>good<sp/>value.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a5f94086b4bce785556425c530c59dbaf" kindref="member">geometryRestore</ref>();</highlight></codeline>
<codeline lineno="3630"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3631"><highlight class="normal"></highlight></codeline>
<codeline lineno="3632"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ac0833d8fcb7badada14ec1ab9a1a7729" kindref="member">isElectricBorderMaximizing</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a30324ba0bf9c10338dd809187d7ab87e" kindref="member">m_electricGeometryRestore</ref>;</highlight></codeline>
<codeline lineno="3634"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="3636"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3637"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3638"><highlight class="normal"></highlight></codeline>
<codeline lineno="3639"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>QuickTileMode<sp/>combineQuickTileMode(QuickTileMode<sp/>mode,<sp/>QuickTileMode<sp/>other)</highlight></codeline>
<codeline lineno="3640"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3641"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isHorizontal<sp/>=<sp/>(other<sp/>&amp;<sp/>(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa945d5e233cf7d6240f6b783b36a374ff" kindref="member">QuickTileFlag::Left</ref><sp/>|<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa92b09c7c48c520c3c55e497875da437c" kindref="member">QuickTileFlag::Right</ref>))<sp/>==<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>;</highlight></codeline>
<codeline lineno="3642"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isVertical<sp/>=<sp/>(other<sp/>&amp;<sp/>(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfaa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">QuickTileFlag::Top</ref><sp/>|<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">QuickTileFlag::Bottom</ref>))<sp/>==<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>;</highlight></codeline>
<codeline lineno="3643"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(isHorizontal<sp/>!=<sp/>isVertical)<sp/>{</highlight></codeline>
<codeline lineno="3644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>==<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa945d5e233cf7d6240f6b783b36a374ff" kindref="member">QuickTileFlag::Left</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(other<sp/>&amp;<sp/>~<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa92b09c7c48c520c3c55e497875da437c" kindref="member">QuickTileFlag::Right</ref>)<sp/>|<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa945d5e233cf7d6240f6b783b36a374ff" kindref="member">QuickTileFlag::Left</ref>;</highlight></codeline>
<codeline lineno="3646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>==<sp/>QuickTileFlag::Right)<sp/>{</highlight></codeline>
<codeline lineno="3647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(other<sp/>&amp;<sp/>~QuickTileFlag::Left)<sp/>|<sp/>QuickTileFlag::Right;</highlight></codeline>
<codeline lineno="3648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>==<sp/>QuickTileFlag::Top)<sp/>{</highlight></codeline>
<codeline lineno="3649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(other<sp/>&amp;<sp/>~QuickTileFlag::Bottom)<sp/>|<sp/>QuickTileFlag::Top;</highlight></codeline>
<codeline lineno="3650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>==<sp/>QuickTileFlag::Bottom)<sp/>{</highlight></codeline>
<codeline lineno="3651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(other<sp/>&amp;<sp/>~QuickTileFlag::Top)<sp/>|<sp/>QuickTileFlag::Bottom;</highlight></codeline>
<codeline lineno="3652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3653"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3654"><highlight class="normal"></highlight></codeline>
<codeline lineno="3655"><highlight class="normal"><sp/><sp/><sp/><sp/>QuickTileMode<sp/>combined<sp/>=<sp/>other;</highlight></codeline>
<codeline lineno="3656"><highlight class="normal"></highlight></codeline>
<codeline lineno="3657"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>&amp;<sp/>QuickTileFlag::Left)<sp/>{</highlight></codeline>
<codeline lineno="3658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(other<sp/>&amp;<sp/>QuickTileFlag::Right)<sp/>{</highlight></codeline>
<codeline lineno="3659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>combined<sp/>&amp;=<sp/>~QuickTileFlag::Right;</highlight></codeline>
<codeline lineno="3660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>combined<sp/>|=<sp/>QuickTileFlag::Left;</highlight></codeline>
<codeline lineno="3662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3663"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3664"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>&amp;<sp/>QuickTileFlag::Right)<sp/>{</highlight></codeline>
<codeline lineno="3665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(other<sp/>&amp;<sp/>QuickTileFlag::Left)<sp/>{</highlight></codeline>
<codeline lineno="3666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>combined<sp/>&amp;=<sp/>~QuickTileFlag::Left;</highlight></codeline>
<codeline lineno="3667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>combined<sp/>|=<sp/>QuickTileFlag::Right;</highlight></codeline>
<codeline lineno="3669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3670"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3671"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>&amp;<sp/>QuickTileFlag::Top)<sp/>{</highlight></codeline>
<codeline lineno="3672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(other<sp/>&amp;<sp/>QuickTileFlag::Bottom)<sp/>{</highlight></codeline>
<codeline lineno="3673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>combined<sp/>&amp;=<sp/>~QuickTileFlag::Bottom;</highlight></codeline>
<codeline lineno="3674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>combined<sp/>|=<sp/>QuickTileFlag::Top;</highlight></codeline>
<codeline lineno="3676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3677"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3678"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>&amp;<sp/>QuickTileFlag::Bottom)<sp/>{</highlight></codeline>
<codeline lineno="3679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(other<sp/>&amp;<sp/>QuickTileFlag::Top)<sp/>{</highlight></codeline>
<codeline lineno="3680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>combined<sp/>&amp;=<sp/>~QuickTileFlag::Top;</highlight></codeline>
<codeline lineno="3681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>combined<sp/>|=<sp/>QuickTileFlag::Bottom;</highlight></codeline>
<codeline lineno="3683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3684"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3685"><highlight class="normal"></highlight></codeline>
<codeline lineno="3686"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>combined;</highlight></codeline>
<codeline lineno="3687"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3688"><highlight class="normal"></highlight></codeline>
<codeline lineno="3689" refid="class_k_win_1_1_window_1ae6731dcfd435bc27d7bbee375b152835" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae6731dcfd435bc27d7bbee375b152835" kindref="member">Window::handleQuickTileShortcut</ref>(QuickTileMode<sp/>mode)</highlight></codeline>
<codeline lineno="3690"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3691"><highlight class="normal"><sp/><sp/><sp/><sp/>QPointF<sp/>tileAtPoint<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>().center();</highlight></codeline>
<codeline lineno="3692"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>!=<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3693"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QuickTileMode<sp/>oldMode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a1ffaa1f6015de331667110a987922089" kindref="member">requestedQuickTileMode</ref>();</highlight></codeline>
<codeline lineno="3694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldMode<sp/>==<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>)<sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>==<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeMode::MaximizeRestore</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Not<sp/>coming<sp/>out<sp/>of<sp/>an<sp/>existing<sp/>tile,<sp/>not<sp/>shifting<sp/>monitors,<sp/>we&apos;re<sp/>setting<sp/>a<sp/>brand<sp/>new<sp/>tile.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Store<sp/>geometry<sp/>first,<sp/>so<sp/>we<sp/>can<sp/>go<sp/>out<sp/>of<sp/>this<sp/>tile<sp/>later.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9372354c3330f992f28ca6e6fb22d700" kindref="member">setGeometryRestore</ref>(<ref refid="class_k_win_1_1_window_1a3df1363787b3578160154bf8b472c6d2" kindref="member">quickTileGeometryRestore</ref>());</highlight></codeline>
<codeline lineno="3698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>trying<sp/>to<sp/>tile<sp/>to<sp/>the<sp/>side<sp/>that<sp/>the<sp/>window<sp/>is<sp/>already<sp/>tiled<sp/>to<sp/>move<sp/>the<sp/>window<sp/>to<sp/>the<sp/>next</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>screen<sp/>near<sp/>the<sp/>tile<sp/>if<sp/>it<sp/>exists<sp/>and<sp/>swap<sp/>the<sp/>tile<sp/>side,<sp/>otherwise<sp/>toggle<sp/>the<sp/>mode<sp/>(set<sp/>QuickTileFlag::None)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QuickTileMode<sp/>combined<sp/>=<sp/>combineQuickTileMode(mode,<sp/>oldMode);</highlight></codeline>
<codeline lineno="3702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(combined<sp/>==<sp/>oldMode)<sp/>{</highlight></codeline>
<codeline lineno="3703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*currentOutput<sp/>=<sp/><ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">moveResizeOutput</ref>();</highlight></codeline>
<codeline lineno="3704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*nextOutput<sp/>=<sp/>currentOutput;</highlight></codeline>
<codeline lineno="3705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*candidateOutput<sp/>=<sp/>currentOutput;</highlight></codeline>
<codeline lineno="3706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((mode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfac1b5fa03ecdb95d4a45dd1c40b02527f" kindref="member">QuickTileFlag::Horizontal</ref>)<sp/>==<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa945d5e233cf7d6240f6b783b36a374ff" kindref="member">QuickTileFlag::Left</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidateOutput<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;findOutput(nextOutput,<sp/><ref refid="class_k_win_1_1_workspace_1a75a4c472ed6068c76df3b4066f03ac69abbe324899c853ba3b231f973f844c426" kindref="member">Workspace::DirectionWest</ref>);</highlight></codeline>
<codeline lineno="3708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((mode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfac1b5fa03ecdb95d4a45dd1c40b02527f" kindref="member">QuickTileFlag::Horizontal</ref>)<sp/>==<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa92b09c7c48c520c3c55e497875da437c" kindref="member">QuickTileFlag::Right</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidateOutput<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;findOutput(nextOutput,<sp/><ref refid="class_k_win_1_1_workspace_1a75a4c472ed6068c76df3b4066f03ac69a15f4c5efa2b0812013442472b1c3a8a8" kindref="member">Workspace::DirectionEast</ref>);</highlight></codeline>
<codeline lineno="3710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>shiftHorizontal<sp/>=<sp/>candidateOutput<sp/>!=<sp/>nextOutput;</highlight></codeline>
<codeline lineno="3712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextOutput<sp/>=<sp/>candidateOutput;</highlight></codeline>
<codeline lineno="3713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((mode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa06ce2a25e5d12c166a36f654dbea6012" kindref="member">QuickTileFlag::Vertical</ref>)<sp/>==<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfaa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">QuickTileFlag::Top</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidateOutput<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;findOutput(nextOutput,<sp/><ref refid="class_k_win_1_1_workspace_1a75a4c472ed6068c76df3b4066f03ac69a0addddb327e68da424c9afac55b41355" kindref="member">Workspace::DirectionNorth</ref>);</highlight></codeline>
<codeline lineno="3715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((mode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa06ce2a25e5d12c166a36f654dbea6012" kindref="member">QuickTileFlag::Vertical</ref>)<sp/>==<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">QuickTileFlag::Bottom</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>candidateOutput<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;findOutput(nextOutput,<sp/><ref refid="class_k_win_1_1_workspace_1a75a4c472ed6068c76df3b4066f03ac69ab47c69147e9db336d33919ba7f6b7407" kindref="member">Workspace::DirectionSouth</ref>);</highlight></codeline>
<codeline lineno="3717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>shiftVertical<sp/>=<sp/>candidateOutput<sp/>!=<sp/>nextOutput;</highlight></codeline>
<codeline lineno="3719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nextOutput<sp/>=<sp/>candidateOutput;</highlight></codeline>
<codeline lineno="3720"><highlight class="normal"></highlight></codeline>
<codeline lineno="3721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nextOutput<sp/>!=<sp/>currentOutput)<sp/>{</highlight></codeline>
<codeline lineno="3722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Move<sp/>to<sp/>other<sp/>screen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileAtPoint<sp/>=<sp/>nextOutput-&gt;<ref refid="class_k_win_1_1_output_1acf46dad2b0990591fdebe45b4877ab16" kindref="member">geometry</ref>().center();</highlight></codeline>
<codeline lineno="3724"><highlight class="normal"></highlight></codeline>
<codeline lineno="3725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Swap<sp/>sides</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(shiftHorizontal)<sp/>{</highlight></codeline>
<codeline lineno="3727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>combined<sp/>=<sp/>(~combined<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfac1b5fa03ecdb95d4a45dd1c40b02527f" kindref="member">QuickTileFlag::Horizontal</ref>)<sp/>|<sp/>(combined<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa06ce2a25e5d12c166a36f654dbea6012" kindref="member">QuickTileFlag::Vertical</ref>);</highlight></codeline>
<codeline lineno="3728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(shiftVertical)<sp/>{</highlight></codeline>
<codeline lineno="3730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>combined<sp/>=<sp/>(~combined<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa06ce2a25e5d12c166a36f654dbea6012" kindref="member">QuickTileFlag::Vertical</ref>)<sp/>|<sp/>(combined<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfac1b5fa03ecdb95d4a45dd1c40b02527f" kindref="member">QuickTileFlag::Horizontal</ref>);</highlight></codeline>
<codeline lineno="3731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3734"><highlight class="normal"></highlight></codeline>
<codeline lineno="3735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode<sp/>=<sp/>combined;</highlight></codeline>
<codeline lineno="3736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3737"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3738"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac21b2eb64cb5abacbe9015e592c6c935" kindref="member">setQuickTileMode</ref>(mode,<sp/>tileAtPoint);</highlight></codeline>
<codeline lineno="3739"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3740"><highlight class="normal"></highlight></codeline>
<codeline lineno="3741" refid="class_k_win_1_1_window_1a90b69dcdcb07786cd185f895a73649e6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a90b69dcdcb07786cd185f895a73649e6" kindref="member">Window::handleCustomQuickTileShortcut</ref>(QuickTileMode<sp/>mode)</highlight></codeline>
<codeline lineno="3742"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3743"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>==<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3745"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3746"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>window<sp/>is<sp/>not<sp/>tiled<sp/>already,<sp/>set<sp/>it<sp/>to<sp/>nearest<sp/>one</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3747"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*tileAtPoint<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;rootTile(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputAt(<ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>().center()))-&gt;pick(<ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>().center());</highlight></codeline>
<codeline lineno="3748"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!tileAtPoint)<sp/>{</highlight></codeline>
<codeline lineno="3749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3750"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3751"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(tileAtPoint<sp/>!=<sp/><ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tileAtPoint-&gt;<ref refid="class_k_win_1_1_tile_1a298023137b89857eba123451ef808cea" kindref="member">addWindow</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3754"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3755"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>customTile<sp/>=<sp/>qobject_cast&lt;CustomTile<sp/>*&gt;(tileAtPoint);</highlight></codeline>
<codeline lineno="3756"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!customTile)<sp/>{</highlight></codeline>
<codeline lineno="3757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3758"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3759"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>the<sp/>next<sp/>tile<sp/>that<sp/>is<sp/>not<sp/>a<sp/>layout<sp/>tile<sp/>from<sp/>the<sp/>edge</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3760"><highlight class="normal"><sp/><sp/><sp/><sp/>Qt::Edge<sp/>edge;</highlight></codeline>
<codeline lineno="3761"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa945d5e233cf7d6240f6b783b36a374ff" kindref="member">QuickTileFlag::Left</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>edge<sp/>=<sp/>Qt::LeftEdge;</highlight></codeline>
<codeline lineno="3763"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3764"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa92b09c7c48c520c3c55e497875da437c" kindref="member">QuickTileFlag::Right</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>edge<sp/>=<sp/>Qt::RightEdge;</highlight></codeline>
<codeline lineno="3766"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3767"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfaa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">QuickTileFlag::Top</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>edge<sp/>=<sp/>Qt::TopEdge;</highlight></codeline>
<codeline lineno="3769"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3770"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">QuickTileFlag::Bottom</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>edge<sp/>=<sp/>Qt::BottomEdge;</highlight></codeline>
<codeline lineno="3772"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3773"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_custom_tile" kindref="compound">CustomTile</ref><sp/>*next<sp/>=<sp/>customTile-&gt;<ref refid="class_k_win_1_1_custom_tile_1a60c879da8357860c1e3c85cb4f063039" kindref="member">nextNonLayoutTileAt</ref>(edge);</highlight></codeline>
<codeline lineno="3774"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(next)<sp/>{</highlight></codeline>
<codeline lineno="3775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>next-&gt;<ref refid="class_k_win_1_1_tile_1a298023137b89857eba123451ef808cea" kindref="member">addWindow</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3776"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3777"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3778"><highlight class="normal"></highlight></codeline>
<codeline lineno="3779" refid="class_k_win_1_1_window_1aa0a1368e7290795e7c7ed6d32c97d0de" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aa0a1368e7290795e7c7ed6d32c97d0de" kindref="member">Window::setQuickTileModeAtCurrentPosition</ref>(QuickTileMode<sp/>mode)</highlight></codeline>
<codeline lineno="3780"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3781"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac21b2eb64cb5abacbe9015e592c6c935" kindref="member">setQuickTileMode</ref>(mode,<sp/><ref refid="class_k_win_1_1_window_1af7e5c26ceb8213166436ae5cb33b3868" kindref="member">m_moveResizeGeometry</ref>.center());</highlight></codeline>
<codeline lineno="3782"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3783"><highlight class="normal"></highlight></codeline>
<codeline lineno="3784" refid="class_k_win_1_1_window_1ac21b2eb64cb5abacbe9015e592c6c935" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ac21b2eb64cb5abacbe9015e592c6c935" kindref="member">Window::setQuickTileMode</ref>(QuickTileMode<sp/>mode,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/>&amp;tileAtPoint)</highlight></codeline>
<codeline lineno="3785"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3786"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;updateFocusMousePosition(<ref refid="class_k_win_1_1_cursors_1a5e43427047cf7663b4d9723fac4c1408" kindref="member">Cursors::self</ref>()-&gt;mouse()-&gt;<ref refid="class_k_win_1_1_window_1a090c42b4c18c700d15ff1822a2044c0f" kindref="member">pos</ref>());<sp/></highlight><highlight class="comment">//<sp/>may<sp/>cause<sp/>leave<sp/>event</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3787"><highlight class="normal"></highlight></codeline>
<codeline lineno="3788"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>sanitize<sp/>the<sp/>mode,<sp/>ie.<sp/>simplify<sp/>&quot;invalid&quot;<sp/>combinations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3789"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((mode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfac1b5fa03ecdb95d4a45dd1c40b02527f" kindref="member">QuickTileFlag::Horizontal</ref>)<sp/>==<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfac1b5fa03ecdb95d4a45dd1c40b02527f" kindref="member">QuickTileFlag::Horizontal</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode<sp/>&amp;=<sp/>~QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfac1b5fa03ecdb95d4a45dd1c40b02527f" kindref="member">QuickTileFlag::Horizontal</ref>);</highlight></codeline>
<codeline lineno="3791"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3792"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((mode<sp/>&amp;<sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa06ce2a25e5d12c166a36f654dbea6012" kindref="member">QuickTileFlag::Vertical</ref>)<sp/>==<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa06ce2a25e5d12c166a36f654dbea6012" kindref="member">QuickTileFlag::Vertical</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mode<sp/>&amp;=<sp/>~QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa06ce2a25e5d12c166a36f654dbea6012" kindref="member">QuickTileFlag::Vertical</ref>);</highlight></codeline>
<codeline lineno="3794"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3795"><highlight class="normal"></highlight></codeline>
<codeline lineno="3796"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3797"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(mode<sp/>==<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa90589c47f06eb971d548591f23c285af" kindref="member">QuickTileFlag::Custom</ref>))<sp/>{</highlight></codeline>
<codeline lineno="3798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;rootTile(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputAt(tileAtPoint))-&gt;pick(tileAtPoint);</highlight></codeline>
<codeline lineno="3799"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3800"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;tileManager(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputAt(tileAtPoint))-&gt;quickTile(mode);</highlight></codeline>
<codeline lineno="3801"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3802"><highlight class="normal"></highlight></codeline>
<codeline lineno="3803"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref><sp/>!=<sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>-&gt;addWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref><sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref>-&gt;isActive())<sp/>{</highlight></codeline>
<codeline lineno="3807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref>-&gt;removeWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3809"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3810"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3811"><highlight class="normal"></highlight></codeline>
<codeline lineno="3812" refid="class_k_win_1_1_window_1a771c32db912a7dca82da5fd3f9fe5fa8" refkind="member"><highlight class="normal">QuickTileMode<sp/><ref refid="class_k_win_1_1_window_1a771c32db912a7dca82da5fd3f9fe5fa8" kindref="member">Window::quickTileMode</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3813"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3814"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a19c97e72ee45549f09b9b6fd62c97e73" kindref="member">m_tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a19c97e72ee45549f09b9b6fd62c97e73" kindref="member">m_tile</ref>-&gt;quickTileMode();</highlight></codeline>
<codeline lineno="3816"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>;</highlight></codeline>
<codeline lineno="3818"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3819"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3820"><highlight class="normal"></highlight></codeline>
<codeline lineno="3821" refid="class_k_win_1_1_window_1a1ffaa1f6015de331667110a987922089" refkind="member"><highlight class="normal">QuickTileMode<sp/><ref refid="class_k_win_1_1_window_1a1ffaa1f6015de331667110a987922089" kindref="member">Window::requestedQuickTileMode</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3822"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3823"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref>-&gt;quickTileMode();</highlight></codeline>
<codeline lineno="3825"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3826"><highlight class="normal"></highlight></codeline>
<codeline lineno="3827"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>;</highlight></codeline>
<codeline lineno="3828"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3829"><highlight class="normal"></highlight></codeline>
<codeline lineno="3830" refid="class_k_win_1_1_window_1a02d9a70e899649f5bf05e182c54d9120" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a02d9a70e899649f5bf05e182c54d9120" kindref="member">Window::commitTile</ref>(<ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)</highlight></codeline>
<codeline lineno="3831"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3832"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a19c97e72ee45549f09b9b6fd62c97e73" kindref="member">m_tile</ref><sp/>==<sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3834"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3835"><highlight class="normal"></highlight></codeline>
<codeline lineno="3836"><highlight class="normal"><sp/><sp/><sp/><sp/>QuickTileMode<sp/>oldTileMode<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a771c32db912a7dca82da5fd3f9fe5fa8" kindref="member">quickTileMode</ref>();</highlight></codeline>
<codeline lineno="3837"><highlight class="normal"></highlight></codeline>
<codeline lineno="3838"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a19c97e72ee45549f09b9b6fd62c97e73" kindref="member">m_tile</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>;</highlight></codeline>
<codeline lineno="3839"><highlight class="normal"></highlight></codeline>
<codeline lineno="3840"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a69b6dd1515f1491903ce82938e7973e6" kindref="member">tileChanged</ref>(<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>);</highlight></codeline>
<codeline lineno="3841"><highlight class="normal"></highlight></codeline>
<codeline lineno="3842"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldTileMode<sp/>!=<sp/><ref refid="class_k_win_1_1_window_1a771c32db912a7dca82da5fd3f9fe5fa8" kindref="member">quickTileMode</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a8b05c56b34e456d2ffeec10eaef8fa5e" kindref="member">quickTileModeChanged</ref>();</highlight></codeline>
<codeline lineno="3844"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3845"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3846"><highlight class="normal"></highlight></codeline>
<codeline lineno="3847" refid="class_k_win_1_1_window_1a09799395c3f6800a6d39e39695fed8b2" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">Window::tile</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3848"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3849"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a19c97e72ee45549f09b9b6fd62c97e73" kindref="member">m_tile</ref>;</highlight></codeline>
<codeline lineno="3850"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3851"><highlight class="normal"></highlight></codeline>
<codeline lineno="3852" refid="class_k_win_1_1_window_1a935782e2939b237ea347b393d34ca27b" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*<ref refid="class_k_win_1_1_window_1a935782e2939b237ea347b393d34ca27b" kindref="member">Window::requestedTile</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="3853"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="3854"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref>;</highlight></codeline>
<codeline lineno="3855"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3856"><highlight class="normal"></highlight></codeline>
<codeline lineno="3857" refid="class_k_win_1_1_window_1a45f340de71d3dbb253c978d091d39d07" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a45f340de71d3dbb253c978d091d39d07" kindref="member">Window::requestTile</ref>(<ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)</highlight></codeline>
<codeline lineno="3858"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3859"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3861"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3862"><highlight class="normal"></highlight></codeline>
<codeline lineno="3863"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref><sp/>==<sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3865"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3866"><highlight class="normal"></highlight></codeline>
<codeline lineno="3867"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>&amp;&amp;<sp/><ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>!=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a0c0c85ab71928ebce12edcfd33c64b0d" kindref="member">setMaximize</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>!=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>window<sp/>rules<sp/>may<sp/>enforce<sp/>a<sp/>different<sp/>maximize<sp/>mode,<sp/>we<sp/>can&apos;t<sp/>do<sp/>anything<sp/>here</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3873"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3874"><highlight class="normal"></highlight></codeline>
<codeline lineno="3875"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref><sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref><sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a19c97e72ee45549f09b9b6fd62c97e73" kindref="member">m_tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9372354c3330f992f28ca6e6fb22d700" kindref="member">setGeometryRestore</ref>(<ref refid="class_k_win_1_1_window_1a3df1363787b3578160154bf8b472c6d2" kindref="member">quickTileGeometryRestore</ref>());</highlight></codeline>
<codeline lineno="3877"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3878"><highlight class="normal"></highlight></codeline>
<codeline lineno="3879"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>;</highlight></codeline>
<codeline lineno="3880"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aca6e1f1d8772897c5efbfb3c17fa436e" kindref="member">moveResize</ref>(<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>-&gt;windowGeometry());</highlight></codeline>
<codeline lineno="3882"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3883"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRectF<sp/>geometry<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="3884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a5f94086b4bce785556425c530c59dbaf" kindref="member">geometryRestore</ref>().isValid())<sp/>{</highlight></codeline>
<codeline lineno="3885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geometry<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5f94086b4bce785556425c530c59dbaf" kindref="member">geometryRestore</ref>();</highlight></codeline>
<codeline lineno="3886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1b63155365b80df09ad34dc75f15102d" kindref="member">isInteractiveMove</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/><ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a028d288109b39cb174d34fb8b2b44345" kindref="member">interactiveMoveResizeAnchor</ref>();</highlight></codeline>
<codeline lineno="3889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QPointF<sp/><ref refid="class_k_win_1_1_window_1a140e419a5274b750fd8a6b3789c8f6af" kindref="member">offset</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a087ebcf075b63c7581b7bf3c55fab2ef" kindref="member">interactiveMoveOffset</ref>();</highlight></codeline>
<codeline lineno="3890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geometry.moveTopLeft(QPointF(<ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref>.x()<sp/>-<sp/>geometry.width()<sp/>*<sp/><ref refid="class_k_win_1_1_window_1a140e419a5274b750fd8a6b3789c8f6af" kindref="member">offset</ref>.x(),</highlight></codeline>
<codeline lineno="3891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a59bcf5b3c635478120afa53945ee8b75" kindref="member">anchor</ref>.y()<sp/>-<sp/>geometry.height()<sp/>*<sp/><ref refid="class_k_win_1_1_window_1a140e419a5274b750fd8a6b3789c8f6af" kindref="member">offset</ref>.y()));</highlight></codeline>
<codeline lineno="3892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aca6e1f1d8772897c5efbfb3c17fa436e" kindref="member">moveResize</ref>(geometry);</highlight></codeline>
<codeline lineno="3894"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3895"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afed2df13c860037d7c04502b2b681c90" kindref="member">doSetQuickTileMode</ref>();</highlight></codeline>
<codeline lineno="3896"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a1fdebcd600a74ba4e3ceef2dc4e01da4" kindref="member">requestedTileChanged</ref>();</highlight></codeline>
<codeline lineno="3897"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3898"><highlight class="normal"></highlight></codeline>
<codeline lineno="3899" refid="class_k_win_1_1_window_1a1e17df8a7fdcbbde5cfe8ab92e7e6421" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1e17df8a7fdcbbde5cfe8ab92e7e6421" kindref="member">Window::forgetTile</ref>(<ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)</highlight></codeline>
<codeline lineno="3900"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3901"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref><sp/>!=<sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3903"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3904"><highlight class="normal"></highlight></codeline>
<codeline lineno="3905"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref><sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3906"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afed2df13c860037d7c04502b2b681c90" kindref="member">doSetQuickTileMode</ref>();</highlight></codeline>
<codeline lineno="3907"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a1fdebcd600a74ba4e3ceef2dc4e01da4" kindref="member">requestedTileChanged</ref>();</highlight></codeline>
<codeline lineno="3908"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3909"><highlight class="normal"></highlight></codeline>
<codeline lineno="3910" refid="class_k_win_1_1_window_1a71c83108b40bc535e453981b1958db08" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a71c83108b40bc535e453981b1958db08" kindref="member">Window::setTileCompatibility</ref>(<ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)</highlight></codeline>
<codeline lineno="3911"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3912"><highlight class="normal"><sp/><sp/><sp/><sp/>qCWarning(KWIN_CORE)<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Writing<sp/>to<sp/>the<sp/>property<sp/>window.tile<sp/>is<sp/>deprecated:<sp/>use<sp/>tile.addWindow()<sp/>instead&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3913"><highlight class="normal"></highlight></codeline>
<codeline lineno="3914"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref><sp/>==<sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3916"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3917"><highlight class="normal"></highlight></codeline>
<codeline lineno="3918"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*previousTile<sp/>=<sp/><ref refid="class_k_win_1_1_window_1ad11fd4fa0886c3235d511ca20c92cdd3" kindref="member">m_requestedTile</ref>;</highlight></codeline>
<codeline lineno="3919"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a69d854b1314004bad99f5e93c3ff7a1f" kindref="member">tile</ref>-&gt;addWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3921"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3922"><highlight class="normal"></highlight></codeline>
<codeline lineno="3923"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(previousTile)<sp/>{</highlight></codeline>
<codeline lineno="3924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>previousTile-&gt;<ref refid="class_k_win_1_1_tile_1a6c7f77e3bceeb1f9396a56b4013fea66" kindref="member">removeWindow</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3925"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3926"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3927"><highlight class="normal"></highlight></codeline>
<codeline lineno="3928" refid="class_k_win_1_1_window_1afed2df13c860037d7c04502b2b681c90" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1afed2df13c860037d7c04502b2b681c90" kindref="member">Window::doSetQuickTileMode</ref>()</highlight></codeline>
<codeline lineno="3929"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3930"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3931"><highlight class="normal"></highlight></codeline>
<codeline lineno="3932" refid="class_k_win_1_1_window_1acfcb309859b64b65e4f9bfdd3593e831" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1acfcb309859b64b65e4f9bfdd3593e831" kindref="member">Window::doSetHidden</ref>()</highlight></codeline>
<codeline lineno="3933"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3934"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3935"><highlight class="normal"></highlight></codeline>
<codeline lineno="3936" refid="class_k_win_1_1_window_1a9a8e4718ca55a6dbbd4a510b1f6dd7c0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a9a8e4718ca55a6dbbd4a510b1f6dd7c0" kindref="member">Window::doSetHiddenByShowDesktop</ref>()</highlight></codeline>
<codeline lineno="3937"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3938"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3939"><highlight class="normal"></highlight></codeline>
<codeline lineno="3940" refid="class_k_win_1_1_window_1a48c39e5a2fae63c9480116fa64b89d57" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a48c39e5a2fae63c9480116fa64b89d57" kindref="member">Window::moveToArea</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;geometry,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;oldArea,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;newArea)</highlight></codeline>
<codeline lineno="3941"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3942"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>ret<sp/>=<sp/>geometry;</highlight></codeline>
<codeline lineno="3943"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>move<sp/>the<sp/>window<sp/>to<sp/>have<sp/>the<sp/>same<sp/>relative<sp/>position<sp/>to<sp/>the<sp/>center<sp/>of<sp/>the<sp/>screen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3944"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>(i.e.<sp/>one<sp/>near<sp/>the<sp/>middle<sp/>of<sp/>the<sp/>right<sp/>edge<sp/>will<sp/>also<sp/>end<sp/>up<sp/>near<sp/>the<sp/>middle<sp/>of<sp/>the<sp/>right<sp/>edge)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3945"><highlight class="normal"><sp/><sp/><sp/><sp/>QPointF<sp/>center<sp/>=<sp/>geometry.center()<sp/>-<sp/>oldArea.center();</highlight></codeline>
<codeline lineno="3946"><highlight class="normal"><sp/><sp/><sp/><sp/>center.setX(center.x()<sp/>*<sp/>newArea.width()<sp/>/<sp/>oldArea.width());</highlight></codeline>
<codeline lineno="3947"><highlight class="normal"><sp/><sp/><sp/><sp/>center.setY(center.y()<sp/>*<sp/>newArea.height()<sp/>/<sp/>oldArea.height());</highlight></codeline>
<codeline lineno="3948"><highlight class="normal"><sp/><sp/><sp/><sp/>center<sp/>+=<sp/>newArea.center();</highlight></codeline>
<codeline lineno="3949"><highlight class="normal"><sp/><sp/><sp/><sp/>ret.moveCenter(center);</highlight></codeline>
<codeline lineno="3950"><highlight class="normal"></highlight></codeline>
<codeline lineno="3951"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>window<sp/>was<sp/>inside<sp/>the<sp/>old<sp/>screen<sp/>area,<sp/>explicitly<sp/>make<sp/>sure<sp/>its<sp/>inside<sp/>also<sp/>the<sp/>new<sp/>screen<sp/>area</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3952"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldArea.contains(geometry))<sp/>{</highlight></codeline>
<codeline lineno="3953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a2bc639db4c4a762bc0d58a715136a0ca" kindref="member">keepInArea</ref>(ret,<sp/>newArea);</highlight></codeline>
<codeline lineno="3954"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3955"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="3956"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3957"><highlight class="normal"></highlight></codeline>
<codeline lineno="3958" refid="class_k_win_1_1_window_1a094255358ae73e7620a5716508e00968" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a094255358ae73e7620a5716508e00968" kindref="member">Window::ensureSpecialStateGeometry</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;geometry)</highlight></codeline>
<codeline lineno="3959"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3960"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a4b695bf258e4c855a72d9c832e0ae4b9" kindref="member">isRequestedFullScreen</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a2563a6e9cbb4da3bfb726a990f05895c" kindref="member">FullScreenArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>geometry.center());</highlight></codeline>
<codeline lineno="3962"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>!=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>maximizeArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a445c2e99842dbf1b3870807ebbd11f23" kindref="member">MaximizeArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>geometry.center());</highlight></codeline>
<codeline lineno="3964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRectF<sp/>ret<sp/>=<sp/>geometry;</highlight></codeline>
<codeline lineno="3965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9aac06708e540fd3823add3d1fc048876d" kindref="member">MaximizeHorizontal</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret.setX(maximizeArea.x());</highlight></codeline>
<codeline lineno="3967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret.setWidth(maximizeArea.width());</highlight></codeline>
<codeline lineno="3968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>&amp;<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a21499d1263beb477425205b49fca8ef1" kindref="member">MaximizeVertical</ref>)<sp/>{</highlight></codeline>
<codeline lineno="3970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret.setY(maximizeArea.y());</highlight></codeline>
<codeline lineno="3971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret.setHeight(maximizeArea.height());</highlight></codeline>
<codeline lineno="3972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a2bc639db4c4a762bc0d58a715136a0ca" kindref="member">keepInArea</ref>(ret,<sp/>maximizeArea,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="3974"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a935782e2939b237ea347b393d34ca27b" kindref="member">requestedTile</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a935782e2939b237ea347b393d34ca27b" kindref="member">requestedTile</ref>()-&gt;windowGeometry();</highlight></codeline>
<codeline lineno="3976"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="3977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>geometry;</highlight></codeline>
<codeline lineno="3978"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3979"><highlight class="normal">}</highlight></codeline>
<codeline lineno="3980"><highlight class="normal"></highlight></codeline>
<codeline lineno="3981" refid="class_k_win_1_1_window_1a43d064a134863a34bfe5956f21a35641" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a43d064a134863a34bfe5956f21a35641" kindref="member">Window::sendToOutput</ref>(<ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*newOutput)</highlight></codeline>
<codeline lineno="3982"><highlight class="normal">{</highlight></codeline>
<codeline lineno="3983"><highlight class="normal"><sp/><sp/><sp/><sp/>newOutput<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkOutput(newOutput);</highlight></codeline>
<codeline lineno="3984"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>())<sp/>{</highlight></codeline>
<codeline lineno="3985"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;setActiveOutput(newOutput);</highlight></codeline>
<codeline lineno="3986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>might<sp/>impact<sp/>the<sp/>layer<sp/>of<sp/>a<sp/>fullscreen<sp/>window</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>windows<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;windows();</highlight></codeline>
<codeline lineno="3988"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1f57b5fc7e5ebf9060435cacce04349d" kindref="member">Window</ref><sp/>*other<sp/>:<sp/>windows)<sp/>{</highlight></codeline>
<codeline lineno="3989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(other-&gt;isFullScreen()<sp/>&amp;&amp;<sp/>other-&gt;output()<sp/>==<sp/>newOutput)<sp/>{</highlight></codeline>
<codeline lineno="3990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>other-&gt;updateLayer();</highlight></codeline>
<codeline lineno="3991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3993"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3994"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">moveResizeOutput</ref>()<sp/>==<sp/>newOutput)<sp/>{</highlight></codeline>
<codeline lineno="3995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="3996"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="3997"><highlight class="normal"></highlight></codeline>
<codeline lineno="3998"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>oldGeom<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="3999"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>oldScreenArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a445c2e99842dbf1b3870807ebbd11f23" kindref="member">MaximizeArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/><ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">moveResizeOutput</ref>());</highlight></codeline>
<codeline lineno="4000"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>screenArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a445c2e99842dbf1b3870807ebbd11f23" kindref="member">MaximizeArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>newOutput);</highlight></codeline>
<codeline lineno="4001"><highlight class="normal"></highlight></codeline>
<codeline lineno="4002"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a1ffaa1f6015de331667110a987922089" kindref="member">requestedQuickTileMode</ref>()<sp/>==<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa90589c47f06eb971d548591f23c285af" kindref="member">QuickTileFlag::Custom</ref>))<sp/>{</highlight></codeline>
<codeline lineno="4003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;tileManager(<ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">moveResizeOutput</ref>())-&gt;forgetWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4004"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="4005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_tile" kindref="compound">Tile</ref><sp/>*newTile<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;tileManager(newOutput)-&gt;quickTile(<ref refid="class_k_win_1_1_window_1a1ffaa1f6015de331667110a987922089" kindref="member">requestedQuickTileMode</ref>());</highlight></codeline>
<codeline lineno="4006"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(newTile)<sp/>{</highlight></codeline>
<codeline lineno="4007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newTile-&gt;<ref refid="class_k_win_1_1_tile_1a298023137b89857eba123451ef808cea" kindref="member">addWindow</ref>(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4008"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4009"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4010"><highlight class="normal"></highlight></codeline>
<codeline lineno="4011"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>newGeom<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a48c39e5a2fae63c9480116fa64b89d57" kindref="member">moveToArea</ref>(oldGeom,<sp/>oldScreenArea,<sp/>screenArea);</highlight></codeline>
<codeline lineno="4012"><highlight class="normal"><sp/><sp/><sp/><sp/>newGeom<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a094255358ae73e7620a5716508e00968" kindref="member">ensureSpecialStateGeometry</ref>(newGeom);</highlight></codeline>
<codeline lineno="4013"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aca6e1f1d8772897c5efbfb3c17fa436e" kindref="member">moveResize</ref>(newGeom);</highlight></codeline>
<codeline lineno="4014"><highlight class="normal"></highlight></codeline>
<codeline lineno="4015"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>move<sp/>geometry<sp/>restores<sp/>to<sp/>the<sp/>new<sp/>output<sp/>as<sp/>well</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4016"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aa475aaf802327aabba57f3c9404a34d3" kindref="member">setFullscreenGeometryRestore</ref>(<ref refid="class_k_win_1_1_window_1a48c39e5a2fae63c9480116fa64b89d57" kindref="member">moveToArea</ref>(<ref refid="class_k_win_1_1_window_1a7c7d55137ebad9559a28f1c0f142d7e3" kindref="member">m_fullscreenGeometryRestore</ref>,<sp/>oldScreenArea,<sp/>screenArea));</highlight></codeline>
<codeline lineno="4017"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9372354c3330f992f28ca6e6fb22d700" kindref="member">setGeometryRestore</ref>(<ref refid="class_k_win_1_1_window_1a48c39e5a2fae63c9480116fa64b89d57" kindref="member">moveToArea</ref>(<ref refid="class_k_win_1_1_window_1a3c7d9d00fef91f9caea2200864b6fa11" kindref="member">m_maximizeGeometryRestore</ref>,<sp/>oldScreenArea,<sp/>screenArea));</highlight></codeline>
<codeline lineno="4018"><highlight class="normal"></highlight></codeline>
<codeline lineno="4019"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>tso<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;ensureStackingOrder(<ref refid="class_k_win_1_1_window_1afb0480dda58c4c07e6bf7d2100b7b29e" kindref="member">transients</ref>());</highlight></codeline>
<codeline lineno="4020"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it<sp/>=<sp/>tso.constBegin(),<sp/>end<sp/>=<sp/>tso.constEnd();<sp/>it<sp/>!=<sp/>end;<sp/>++it)<sp/>{</highlight></codeline>
<codeline lineno="4021"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(*it)-&gt;sendToOutput(newOutput);</highlight></codeline>
<codeline lineno="4022"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4023"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4024"><highlight class="normal"></highlight></codeline>
<codeline lineno="4025" refid="class_k_win_1_1_window_1a39bbb6d7fea7175cb9d9956bb0218064" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a39bbb6d7fea7175cb9d9956bb0218064" kindref="member">Window::checkWorkspacePosition</ref>(QRectF<sp/>oldGeometry,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_virtual_desktop" kindref="compound">VirtualDesktop</ref><sp/>*oldDesktop)</highlight></codeline>
<codeline lineno="4026"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4027"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>())<sp/>{</highlight></codeline>
<codeline lineno="4028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>qCWarning(KWIN_CORE)<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Window::checkWorkspacePosition:<sp/>called<sp/>for<sp/>a<sp/>closed<sp/>window.<sp/>Consider<sp/>this<sp/>a<sp/>bug&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4030"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4031"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3b2b28edaa7b699d1407322fd11ec1cb" kindref="member">isDock</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1ab56044e6eff0cd7e2a144756834c0751" kindref="member">isDesktop</ref>()<sp/>||<sp/>!<ref refid="class_k_win_1_1_window_1a1aae947c69f1f83740db61c11d5524c2" kindref="member">isPlaceable</ref>())<sp/>{</highlight></codeline>
<codeline lineno="4032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4033"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4034"><highlight class="normal"></highlight></codeline>
<codeline lineno="4035"><highlight class="normal"><sp/><sp/><sp/><sp/>QRectF<sp/>newGeom<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="4036"><highlight class="normal"></highlight></codeline>
<codeline lineno="4037"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!oldGeometry.isValid())<sp/>{</highlight></codeline>
<codeline lineno="4038"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oldGeometry<sp/>=<sp/>newGeom;</highlight></codeline>
<codeline lineno="4039"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4040"><highlight class="normal"></highlight></codeline>
<codeline lineno="4041"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_virtual_desktop" kindref="compound">VirtualDesktop</ref><sp/>*desktop<sp/>=<sp/>!<ref refid="class_k_win_1_1_window_1aa975d4f4a79a999c827e0a4d7bb5c1dd" kindref="member">isOnCurrentDesktop</ref>()<sp/>?<sp/><ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>().constLast()<sp/>:<sp/>VirtualDesktopManager::self()-&gt;currentDesktop();</highlight></codeline>
<codeline lineno="4042"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!oldDesktop)<sp/>{</highlight></codeline>
<codeline lineno="4043"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oldDesktop<sp/>=<sp/>desktop;</highlight></codeline>
<codeline lineno="4044"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4045"><highlight class="normal"></highlight></codeline>
<codeline lineno="4046"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>window<sp/>was<sp/>touching<sp/>an<sp/>edge<sp/>before<sp/>but<sp/>not<sp/>now<sp/>move<sp/>it<sp/>so<sp/>it<sp/>is<sp/>again.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4047"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Old<sp/>and<sp/>new<sp/>maximums<sp/>have<sp/>different<sp/>starting<sp/>values<sp/>so<sp/>windows<sp/>on<sp/>the<sp/>screen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4048"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>edge<sp/>will<sp/>move<sp/>when<sp/>a<sp/>new<sp/>strut<sp/>is<sp/>placed<sp/>on<sp/>the<sp/>edge.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4049"><highlight class="normal"><sp/><sp/><sp/><sp/>QRect<sp/>oldScreenArea;</highlight></codeline>
<codeline lineno="4050"><highlight class="normal"><sp/><sp/><sp/><sp/>QRect<sp/>screenArea;</highlight></codeline>
<codeline lineno="4051"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;inRearrange())<sp/>{</highlight></codeline>
<codeline lineno="4052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>if<sp/>the<sp/>window<sp/>is<sp/>on<sp/>an<sp/>about<sp/>to<sp/>be<sp/>destroyed<sp/>output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_output" kindref="compound">Output</ref><sp/>*newOutput<sp/>=<sp/><ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">moveResizeOutput</ref>();</highlight></codeline>
<codeline lineno="4054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputs().contains(newOutput))<sp/>{</highlight></codeline>
<codeline lineno="4055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newOutput<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputAt(newGeom.center());</highlight></codeline>
<codeline lineno="4056"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4057"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>we<sp/>need<sp/>to<sp/>find<sp/>the<sp/>screen<sp/>area<sp/>as<sp/>it<sp/>was<sp/>before<sp/>the<sp/>change</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oldScreenArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;previousScreenSizes().value(<ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">moveResizeOutput</ref>());</highlight></codeline>
<codeline lineno="4059"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldScreenArea.isNull())<sp/>{</highlight></codeline>
<codeline lineno="4060"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oldScreenArea<sp/>=<sp/>newOutput-&gt;<ref refid="class_k_win_1_1_output_1acf46dad2b0990591fdebe45b4877ab16" kindref="member">geometry</ref>();</highlight></codeline>
<codeline lineno="4061"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>screenArea<sp/>=<sp/>newOutput-&gt;<ref refid="class_k_win_1_1_output_1acf46dad2b0990591fdebe45b4877ab16" kindref="member">geometry</ref>();</highlight></codeline>
<codeline lineno="4063"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGeom.translate(screenArea.topLeft()<sp/>-<sp/>oldScreenArea.topLeft());</highlight></codeline>
<codeline lineno="4064"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="4065"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oldScreenArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a55525774d8c6ed299ad03a68b84c70d6" kindref="member">ScreenArea</ref>,<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;outputAt(oldGeometry.center()),<sp/>oldDesktop).toRect();</highlight></codeline>
<codeline lineno="4066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>screenArea<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;clientArea(<ref refid="namespace_k_win_1a443ac4eb2683c028e5f174031c12ce22a55525774d8c6ed299ad03a68b84c70d6" kindref="member">ScreenArea</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>newGeom.center()).toRect();</highlight></codeline>
<codeline lineno="4067"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4068"><highlight class="normal"></highlight></codeline>
<codeline lineno="4069"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a4b695bf258e4c855a72d9c832e0ae4b9" kindref="member">isRequestedFullScreen</ref>()<sp/>||<sp/><ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>()<sp/>!=<sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref><sp/>||<sp/><ref refid="class_k_win_1_1_window_1a1ffaa1f6015de331667110a987922089" kindref="member">requestedQuickTileMode</ref>()<sp/>!=<sp/>QuickTileMode(<ref refid="namespace_k_win_1a7d8a57e0b5454d5598726350206b4fdfa6adf97f83acf6453d4a6a4b1070f3754" kindref="member">QuickTileFlag::None</ref>))<sp/>{</highlight></codeline>
<codeline lineno="4070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aca6e1f1d8772897c5efbfb3c17fa436e" kindref="member">moveResize</ref>(<ref refid="class_k_win_1_1_window_1a094255358ae73e7620a5716508e00968" kindref="member">ensureSpecialStateGeometry</ref>(newGeom));</highlight></codeline>
<codeline lineno="4071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aa475aaf802327aabba57f3c9404a34d3" kindref="member">setFullscreenGeometryRestore</ref>(<ref refid="class_k_win_1_1_window_1a48c39e5a2fae63c9480116fa64b89d57" kindref="member">moveToArea</ref>(<ref refid="class_k_win_1_1_window_1a7c7d55137ebad9559a28f1c0f142d7e3" kindref="member">m_fullscreenGeometryRestore</ref>,<sp/>oldScreenArea,<sp/>screenArea));</highlight></codeline>
<codeline lineno="4072"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9372354c3330f992f28ca6e6fb22d700" kindref="member">setGeometryRestore</ref>(<ref refid="class_k_win_1_1_window_1a48c39e5a2fae63c9480116fa64b89d57" kindref="member">moveToArea</ref>(<ref refid="class_k_win_1_1_window_1a3c7d9d00fef91f9caea2200864b6fa11" kindref="member">m_maximizeGeometryRestore</ref>,<sp/>oldScreenArea,<sp/>screenArea));</highlight></codeline>
<codeline lineno="4073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4074"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4075"><highlight class="normal"></highlight></codeline>
<codeline lineno="4076"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>oldGeomTall<sp/>=<sp/>QRect(oldGeometry.x(),<sp/>oldScreenArea.y(),<sp/>oldGeometry.width(),<sp/>oldScreenArea.height());<sp/></highlight><highlight class="comment">//<sp/>Full<sp/>screen<sp/>height</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4077"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>oldGeomWide<sp/>=<sp/>QRect(oldScreenArea.x(),<sp/>oldGeometry.y(),<sp/>oldScreenArea.width(),<sp/>oldGeometry.height());<sp/></highlight><highlight class="comment">//<sp/>Full<sp/>screen<sp/>width</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4078"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>oldTopMax<sp/>=<sp/>oldScreenArea.y();</highlight></codeline>
<codeline lineno="4079"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>oldRightMax<sp/>=<sp/>oldScreenArea.x()<sp/>+<sp/>oldScreenArea.width();</highlight></codeline>
<codeline lineno="4080"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>oldBottomMax<sp/>=<sp/>oldScreenArea.y()<sp/>+<sp/>oldScreenArea.height();</highlight></codeline>
<codeline lineno="4081"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>oldLeftMax<sp/>=<sp/>oldScreenArea.x();</highlight></codeline>
<codeline lineno="4082"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>topMax<sp/>=<sp/>screenArea.y();</highlight></codeline>
<codeline lineno="4083"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rightMax<sp/>=<sp/>screenArea.x()<sp/>+<sp/>screenArea.width();</highlight></codeline>
<codeline lineno="4084"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bottomMax<sp/>=<sp/>screenArea.y()<sp/>+<sp/>screenArea.height();</highlight></codeline>
<codeline lineno="4085"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>leftMax<sp/>=<sp/>screenArea.x();</highlight></codeline>
<codeline lineno="4086"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>newGeomTall<sp/>=<sp/>QRect(newGeom.x(),<sp/>screenArea.y(),<sp/>newGeom.width(),<sp/>screenArea.height());<sp/></highlight><highlight class="comment">//<sp/>Full<sp/>screen<sp/>height</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4087"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>newGeomWide<sp/>=<sp/>QRect(screenArea.x(),<sp/>newGeom.y(),<sp/>screenArea.width(),<sp/>newGeom.height());<sp/></highlight><highlight class="comment">//<sp/>Full<sp/>screen<sp/>width</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4088"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>the<sp/>max<sp/>strut<sp/>point<sp/>for<sp/>each<sp/>side<sp/>where<sp/>the<sp/>window<sp/>is<sp/>(E.g.<sp/>Highest<sp/>point<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4089"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>bottom<sp/>struts<sp/>bounded<sp/>by<sp/>the<sp/>window&apos;s<sp/>left<sp/>and<sp/>right<sp/>sides).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4090"><highlight class="normal"></highlight></codeline>
<codeline lineno="4091"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>These<sp/>4<sp/>compute<sp/>old<sp/>bounds<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4092"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>moveAreaFunc<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;inRearrange()<sp/>?<sp/>&amp;<ref refid="class_k_win_1_1_workspace_1a417632c2c422b30f2e750947acf30911" kindref="member">Workspace::previousRestrictedMoveArea</ref><sp/>:<sp/></highlight><highlight class="comment">//...<sp/>the<sp/>restricted<sp/>areas<sp/>changed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="class_k_win_1_1_workspace_1a9a4e6179b2a0380efac1a5c895348c8f" kindref="member">Workspace::restrictedMoveArea</ref>;<sp/></highlight><highlight class="comment">//...<sp/>when<sp/>e.g.<sp/>active<sp/>desktop<sp/>or<sp/>screen<sp/>changes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4094"><highlight class="normal"></highlight></codeline>
<codeline lineno="4095"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>oldStrutsTop<sp/>=<sp/>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;*moveAreaFunc)(oldDesktop,<sp/><ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1faaf851dfa7690117100f930e8976a2e39" kindref="member">StrutAreaTop</ref>);</highlight></codeline>
<codeline lineno="4096"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;r<sp/>:<sp/>oldStrutsTop)<sp/>{</highlight></codeline>
<codeline lineno="4097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRect<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref><sp/>=<sp/>r<sp/>&amp;<sp/>oldGeomTall;</highlight></codeline>
<codeline lineno="4098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="4099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oldTopMax<sp/>=<sp/>std::max(oldTopMax,<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.y()<sp/>+<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.height());</highlight></codeline>
<codeline lineno="4100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4101"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>oldStrutsRight<sp/>=<sp/>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;*moveAreaFunc)(oldDesktop,<sp/><ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1fa72eb7170aba4e9ea52c4f9ac5b2d353b" kindref="member">StrutAreaRight</ref>);</highlight></codeline>
<codeline lineno="4103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;r<sp/>:<sp/>oldStrutsRight)<sp/>{</highlight></codeline>
<codeline lineno="4104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRect<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref><sp/>=<sp/>r<sp/>&amp;<sp/>oldGeomWide;</highlight></codeline>
<codeline lineno="4105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="4106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oldRightMax<sp/>=<sp/>std::min(oldRightMax,<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.x());</highlight></codeline>
<codeline lineno="4107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4108"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>oldStrutsBottom<sp/>=<sp/>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;*moveAreaFunc)(oldDesktop,<sp/><ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1fa8a19680a6a57ccd911f098df7ebc09ee" kindref="member">StrutAreaBottom</ref>);</highlight></codeline>
<codeline lineno="4110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;r<sp/>:<sp/>oldStrutsBottom)<sp/>{</highlight></codeline>
<codeline lineno="4111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRect<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref><sp/>=<sp/>r<sp/>&amp;<sp/>oldGeomTall;</highlight></codeline>
<codeline lineno="4112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="4113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oldBottomMax<sp/>=<sp/>std::min(oldBottomMax,<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.y());</highlight></codeline>
<codeline lineno="4114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4115"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>oldStrutsLeft<sp/>=<sp/>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;*moveAreaFunc)(oldDesktop,<sp/><ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1fae563c9d36d4b08112f58bb8374d1a12b" kindref="member">StrutAreaLeft</ref>);</highlight></codeline>
<codeline lineno="4117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;r<sp/>:<sp/>oldStrutsLeft)<sp/>{</highlight></codeline>
<codeline lineno="4118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRect<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref><sp/>=<sp/>r<sp/>&amp;<sp/>oldGeomWide;</highlight></codeline>
<codeline lineno="4119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="4120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>oldLeftMax<sp/>=<sp/>std::max(oldLeftMax,<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.x()<sp/>+<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.width());</highlight></codeline>
<codeline lineno="4121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4122"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4123"><highlight class="normal"></highlight></codeline>
<codeline lineno="4124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>These<sp/>4<sp/>compute<sp/>new<sp/>bounds</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>newStrutsTop<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;restrictedMoveArea(desktop,<sp/><ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1faaf851dfa7690117100f930e8976a2e39" kindref="member">StrutAreaTop</ref>);</highlight></codeline>
<codeline lineno="4126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;r<sp/>:<sp/>newStrutsTop)<sp/>{</highlight></codeline>
<codeline lineno="4127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRect<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref><sp/>=<sp/>r<sp/>&amp;<sp/>newGeomTall;</highlight></codeline>
<codeline lineno="4128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="4129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>topMax<sp/>=<sp/>std::max(topMax,<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.y()<sp/>+<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.height());</highlight></codeline>
<codeline lineno="4130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4131"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>newStrutsRight<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;restrictedMoveArea(desktop,<sp/><ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1fa72eb7170aba4e9ea52c4f9ac5b2d353b" kindref="member">StrutAreaRight</ref>);</highlight></codeline>
<codeline lineno="4133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;r<sp/>:<sp/>newStrutsRight)<sp/>{</highlight></codeline>
<codeline lineno="4134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRect<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref><sp/>=<sp/>r<sp/>&amp;<sp/>newGeomWide;</highlight></codeline>
<codeline lineno="4135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="4136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rightMax<sp/>=<sp/>std::min(rightMax,<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.x());</highlight></codeline>
<codeline lineno="4137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4138"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>newStrutsBottom<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;restrictedMoveArea(desktop,<sp/><ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1fa8a19680a6a57ccd911f098df7ebc09ee" kindref="member">StrutAreaBottom</ref>);</highlight></codeline>
<codeline lineno="4140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;r<sp/>:<sp/>newStrutsBottom)<sp/>{</highlight></codeline>
<codeline lineno="4141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRect<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref><sp/>=<sp/>r<sp/>&amp;<sp/>newGeomTall;</highlight></codeline>
<codeline lineno="4142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="4143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bottomMax<sp/>=<sp/>std::min(bottomMax,<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.y());</highlight></codeline>
<codeline lineno="4144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4145"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>newStrutsLeft<sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;restrictedMoveArea(desktop,<sp/><ref refid="namespace_k_win_1a5e1f12b4f6fe1e98672dabf86c00fd1fae563c9d36d4b08112f58bb8374d1a12b" kindref="member">StrutAreaLeft</ref>);</highlight></codeline>
<codeline lineno="4147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRect<sp/>&amp;r<sp/>:<sp/>newStrutsLeft)<sp/>{</highlight></codeline>
<codeline lineno="4148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRect<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref><sp/>=<sp/>r<sp/>&amp;<sp/>newGeomWide;</highlight></codeline>
<codeline lineno="4149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.isEmpty())<sp/>{</highlight></codeline>
<codeline lineno="4150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>leftMax<sp/>=<sp/>std::max(leftMax,<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.x()<sp/>+<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>.width());</highlight></codeline>
<codeline lineno="4151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4152"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4153"><highlight class="normal"></highlight></codeline>
<codeline lineno="4154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>if<sp/>the<sp/>sides<sp/>were<sp/>inside<sp/>or<sp/>touching<sp/>but<sp/>are<sp/>no<sp/>longer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="4156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Left</ref><sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="4157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Top</ref>,</highlight></codeline>
<codeline lineno="4158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a92b09c7c48c520c3c55e497875da437c" kindref="member">Right</ref>,</highlight></codeline>
<codeline lineno="4159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Bottom</ref>,</highlight></codeline>
<codeline lineno="4160"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="4161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>keep[4]<sp/>=<sp/>{</highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="4162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>save[4]<sp/>=<sp/>{</highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">};</highlight></codeline>
<codeline lineno="4163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldGeometry.x()<sp/>&gt;=<sp/>oldLeftMax)<sp/>{</highlight></codeline>
<codeline lineno="4164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>save[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Left</ref>]<sp/>=<sp/>newGeom.x()<sp/>&lt;<sp/>leftMax;</highlight></codeline>
<codeline lineno="4165"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldGeometry.x()<sp/>==<sp/>oldLeftMax)<sp/>{</highlight></codeline>
<codeline lineno="4167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keep[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Left</ref>]<sp/>=<sp/>newGeom.x()<sp/>!=<sp/>leftMax;</highlight></codeline>
<codeline lineno="4168"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4169"><highlight class="normal"></highlight></codeline>
<codeline lineno="4170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldGeometry.y()<sp/>&gt;=<sp/>oldTopMax)<sp/>{</highlight></codeline>
<codeline lineno="4171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>save[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Top</ref>]<sp/>=<sp/>newGeom.y()<sp/>&lt;<sp/>topMax;</highlight></codeline>
<codeline lineno="4172"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4173"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldGeometry.y()<sp/>==<sp/>oldTopMax)<sp/>{</highlight></codeline>
<codeline lineno="4174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keep[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Top</ref>]<sp/>=<sp/>newGeom.y()<sp/>!=<sp/>topMax;</highlight></codeline>
<codeline lineno="4175"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4176"><highlight class="normal"></highlight></codeline>
<codeline lineno="4177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldGeometry.right()<sp/>&lt;=<sp/>oldRightMax)<sp/>{</highlight></codeline>
<codeline lineno="4178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>save[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a92b09c7c48c520c3c55e497875da437c" kindref="member">Right</ref>]<sp/>=<sp/>newGeom.right()<sp/>&gt;<sp/>rightMax;</highlight></codeline>
<codeline lineno="4179"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldGeometry.right()<sp/>==<sp/>oldRightMax)<sp/>{</highlight></codeline>
<codeline lineno="4181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keep[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a92b09c7c48c520c3c55e497875da437c" kindref="member">Right</ref>]<sp/>=<sp/>newGeom.right()<sp/>!=<sp/>rightMax;</highlight></codeline>
<codeline lineno="4182"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4183"><highlight class="normal"></highlight></codeline>
<codeline lineno="4184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldGeometry.bottom()<sp/>&lt;=<sp/>oldBottomMax)<sp/>{</highlight></codeline>
<codeline lineno="4185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>save[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Bottom</ref>]<sp/>=<sp/>newGeom.bottom()<sp/>&gt;<sp/>bottomMax;</highlight></codeline>
<codeline lineno="4186"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldGeometry.bottom()<sp/>==<sp/>oldBottomMax)<sp/>{</highlight></codeline>
<codeline lineno="4188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keep[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Bottom</ref>]<sp/>=<sp/>newGeom.bottom()<sp/>!=<sp/>bottomMax;</highlight></codeline>
<codeline lineno="4189"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4190"><highlight class="normal"></highlight></codeline>
<codeline lineno="4191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>randomly<sp/>touches<sp/>opposing<sp/>edges,<sp/>do<sp/>not<sp/>favor<sp/>either</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(keep[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Left</ref>]<sp/>&amp;&amp;<sp/>keep[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a92b09c7c48c520c3c55e497875da437c" kindref="member">Right</ref>])<sp/>{</highlight></codeline>
<codeline lineno="4193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keep[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Left</ref>]<sp/>=<sp/>keep[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a92b09c7c48c520c3c55e497875da437c" kindref="member">Right</ref>]<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4194"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(keep[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Top</ref>]<sp/>&amp;&amp;<sp/>keep[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Bottom</ref>])<sp/>{</highlight></codeline>
<codeline lineno="4196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keep[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Top</ref>]<sp/>=<sp/>keep[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Bottom</ref>]<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4197"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4198"><highlight class="normal"></highlight></codeline>
<codeline lineno="4199"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(save[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Left</ref>]<sp/>||<sp/>keep[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a945d5e233cf7d6240f6b783b36a374ff" kindref="member">Left</ref>])<sp/>{</highlight></codeline>
<codeline lineno="4200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGeom.moveLeft(std::max(leftMax,<sp/>screenArea.x()));</highlight></codeline>
<codeline lineno="4201"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4202"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(save[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Top</ref>]<sp/>||<sp/>keep[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8aa4ffdcf0dc1f31b9acaf295d75b51d00" kindref="member">Top</ref>])<sp/>{</highlight></codeline>
<codeline lineno="4203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGeom.moveTop(std::max(topMax,<sp/>screenArea.y()));</highlight></codeline>
<codeline lineno="4204"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(save[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a92b09c7c48c520c3c55e497875da437c" kindref="member">Right</ref>]<sp/>||<sp/>keep[<ref refid="namespace_k_win_1ab2206ebabcc9101a43b58473495efd03a92b09c7c48c520c3c55e497875da437c" kindref="member">Right</ref>])<sp/>{</highlight></codeline>
<codeline lineno="4206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGeom.moveRight(std::min(rightMax,<sp/>screenArea.right())<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="4207"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(save[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Bottom</ref>]<sp/>||<sp/>keep[<ref refid="namespace_k_win_1a09aef7c112a8b0cdfb6e27a081d50dc8a2ad9d63b69c4a10a5cc9cad923133bc4" kindref="member">Bottom</ref>])<sp/>{</highlight></codeline>
<codeline lineno="4209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGeom.moveBottom(std::min(bottomMax,<sp/>screenArea.bottom())<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="4210"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4211"><highlight class="normal"></highlight></codeline>
<codeline lineno="4212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldGeometry.x()<sp/>&gt;=<sp/>oldLeftMax<sp/>&amp;&amp;<sp/>newGeom.x()<sp/>&lt;<sp/>leftMax)<sp/>{</highlight></codeline>
<codeline lineno="4213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGeom.setLeft(std::max(leftMax,<sp/>screenArea.x()));</highlight></codeline>
<codeline lineno="4214"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(oldGeometry.y()<sp/>&gt;=<sp/>oldTopMax<sp/>&amp;&amp;<sp/>newGeom.y()<sp/>&lt;<sp/>topMax)<sp/>{</highlight></codeline>
<codeline lineno="4216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGeom.setTop(std::max(topMax,<sp/>screenArea.y()));</highlight></codeline>
<codeline lineno="4217"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4218"><highlight class="normal"></highlight></codeline>
<codeline lineno="4219"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a0b6dba6ec28ac38cae39cc392c735970" kindref="member">checkOffscreenPosition</ref>(&amp;newGeom,<sp/>screenArea);</highlight></codeline>
<codeline lineno="4220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Obey<sp/>size<sp/>hints.<sp/>TODO:<sp/>We<sp/>really<sp/>should<sp/>make<sp/>sure<sp/>it<sp/>stays<sp/>in<sp/>the<sp/>right<sp/>place</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_k_win_1_1_window_1a3dfd89167d57f28ebedf72ffddd33191" kindref="member">isShade</ref>())<sp/>{</highlight></codeline>
<codeline lineno="4222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGeom.setSize(<ref refid="class_k_win_1_1_window_1aba7fd5b92a9da565aecf8ae559f4af69" kindref="member">constrainFrameSize</ref>(newGeom.size()));</highlight></codeline>
<codeline lineno="4223"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4224"><highlight class="normal"></highlight></codeline>
<codeline lineno="4225"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aca6e1f1d8772897c5efbfb3c17fa436e" kindref="member">moveResize</ref>(<ref refid="class_k_win_1_1_window_1a7b0073ffa42fe46eec1c800a0ce2fe93" kindref="member">m_rules</ref>.checkGeometry(newGeom));</highlight></codeline>
<codeline lineno="4226"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4227"><highlight class="normal"></highlight></codeline>
<codeline lineno="4228" refid="class_k_win_1_1_window_1a0b6dba6ec28ac38cae39cc392c735970" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0b6dba6ec28ac38cae39cc392c735970" kindref="member">Window::checkOffscreenPosition</ref>(QRectF<sp/>*geom,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;screenArea)</highlight></codeline>
<codeline lineno="4229"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geom-&gt;left()<sp/>&gt;<sp/>screenArea.right())<sp/>{</highlight></codeline>
<codeline lineno="4231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom-&gt;moveLeft(screenArea.right()<sp/>-<sp/>screenArea.width()<sp/>/<sp/>4);</highlight></codeline>
<codeline lineno="4232"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geom-&gt;right()<sp/>&lt;<sp/>screenArea.left())<sp/>{</highlight></codeline>
<codeline lineno="4233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom-&gt;moveRight(screenArea.left()<sp/>+<sp/>screenArea.width()<sp/>/<sp/>4);</highlight></codeline>
<codeline lineno="4234"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geom-&gt;top()<sp/>&gt;<sp/>screenArea.bottom())<sp/>{</highlight></codeline>
<codeline lineno="4236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom-&gt;moveTop(screenArea.bottom()<sp/>-<sp/>screenArea.height()<sp/>/<sp/>4);</highlight></codeline>
<codeline lineno="4237"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geom-&gt;bottom()<sp/>&lt;<sp/>screenArea.top())<sp/>{</highlight></codeline>
<codeline lineno="4238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>geom-&gt;moveBottom(screenArea.top()<sp/>+<sp/>screenArea.width()<sp/>/<sp/>4);</highlight></codeline>
<codeline lineno="4239"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4240"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4241"><highlight class="normal"></highlight></codeline>
<codeline lineno="4247" refid="class_k_win_1_1_window_1abaf5c29b43c3bdd7415d4db7f3c441b4" refkind="member"><highlight class="normal">QSizeF<sp/><ref refid="class_k_win_1_1_window_1abaf5c29b43c3bdd7415d4db7f3c441b4" kindref="member">Window::constrainClientSize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSizeF<sp/>&amp;<ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>,<sp/><ref refid="class_k_win_1_1_window_1a96727035a8ba0a709cc464483d1d7b3e" kindref="member">SizeMode</ref><sp/>mode)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4248"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4249"><highlight class="normal"><sp/><sp/><sp/><sp/>qreal<sp/><ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>.width();</highlight></codeline>
<codeline lineno="4250"><highlight class="normal"><sp/><sp/><sp/><sp/>qreal<sp/><ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>.height();</highlight></codeline>
<codeline lineno="4251"><highlight class="normal"></highlight></codeline>
<codeline lineno="4252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>When<sp/>user<sp/>is<sp/>resizing<sp/>the<sp/>window,<sp/>the<sp/>move<sp/>resize<sp/>geometry<sp/>may<sp/>have<sp/>negative<sp/>width<sp/>or</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>height.<sp/>In<sp/>which<sp/>case,<sp/>we<sp/>need<sp/>to<sp/>set<sp/>negative<sp/>dimensions<sp/>to<sp/>reasonable<sp/>values.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref><sp/>&lt;<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="4255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="4256"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref><sp/>&lt;<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="4258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="4259"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4260"><highlight class="normal"></highlight></codeline>
<codeline lineno="4261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSizeF<sp/>minimumSize<sp/>=<sp/><ref refid="class_k_win_1_1_window_1acf74967cccfc708ba0dd82dce391d77f" kindref="member">minSize</ref>();</highlight></codeline>
<codeline lineno="4262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSizeF<sp/>maximumSize<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aed76f5fbe38ae0051ad9587c7e47bcd8" kindref="member">maxSize</ref>();</highlight></codeline>
<codeline lineno="4263"><highlight class="normal"></highlight></codeline>
<codeline lineno="4264"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref><sp/>=<sp/>std::clamp(<ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref>,<sp/>minimumSize.width(),<sp/>maximumSize.width());</highlight></codeline>
<codeline lineno="4265"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref><sp/>=<sp/>std::clamp(<ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref>,<sp/>minimumSize.height(),<sp/>maximumSize.height());</highlight></codeline>
<codeline lineno="4266"><highlight class="normal"></highlight></codeline>
<codeline lineno="4267"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>QSizeF(<ref refid="class_k_win_1_1_window_1a2cd647ee6dfed59b1dc820162e4acd9f" kindref="member">width</ref>,<sp/><ref refid="class_k_win_1_1_window_1ab18c68ce7b55201a2c3052994f80362b" kindref="member">height</ref>);</highlight></codeline>
<codeline lineno="4268"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4269"><highlight class="normal"></highlight></codeline>
<codeline lineno="4273" refid="class_k_win_1_1_window_1aba7fd5b92a9da565aecf8ae559f4af69" refkind="member"><highlight class="normal">QSizeF<sp/><ref refid="class_k_win_1_1_window_1aba7fd5b92a9da565aecf8ae559f4af69" kindref="member">Window::constrainFrameSize</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSizeF<sp/>&amp;<ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>,<sp/><ref refid="class_k_win_1_1_window_1a96727035a8ba0a709cc464483d1d7b3e" kindref="member">SizeMode</ref><sp/>mode)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4274"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSizeF<sp/>unconstrainedClientSize<sp/>=<sp/><ref refid="class_k_win_1_1_window_1abc82318fb715dcc5a0a3b98515897e92" kindref="member">nextFrameSizeToClientSize</ref>(<ref refid="class_k_win_1_1_window_1a3d66832f7a462d332759451c3633851d" kindref="member">size</ref>);</highlight></codeline>
<codeline lineno="4276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QSizeF<sp/>constrainedClientSize<sp/>=<sp/><ref refid="class_k_win_1_1_window_1abaf5c29b43c3bdd7415d4db7f3c441b4" kindref="member">constrainClientSize</ref>(unconstrainedClientSize,<sp/>mode);</highlight></codeline>
<codeline lineno="4277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af4f582315c040559fde4abcadf727776" kindref="member">nextClientSizeToFrameSize</ref>(constrainedClientSize);</highlight></codeline>
<codeline lineno="4278"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4279"><highlight class="normal"></highlight></codeline>
<codeline lineno="4280" refid="class_k_win_1_1_window_1aafa6825cf1306da791fa827c4ba98006" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1aafa6825cf1306da791fa827c4ba98006" kindref="member">Window::fullscreenGeometryRestore</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4281"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7c7d55137ebad9559a28f1c0f142d7e3" kindref="member">m_fullscreenGeometryRestore</ref>;</highlight></codeline>
<codeline lineno="4283"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4284"><highlight class="normal"></highlight></codeline>
<codeline lineno="4285" refid="class_k_win_1_1_window_1aa475aaf802327aabba57f3c9404a34d3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aa475aaf802327aabba57f3c9404a34d3" kindref="member">Window::setFullscreenGeometryRestore</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;geom)</highlight></codeline>
<codeline lineno="4286"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a7c7d55137ebad9559a28f1c0f142d7e3" kindref="member">m_fullscreenGeometryRestore</ref><sp/>!=<sp/>geom)<sp/>{</highlight></codeline>
<codeline lineno="4288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7c7d55137ebad9559a28f1c0f142d7e3" kindref="member">m_fullscreenGeometryRestore</ref><sp/>=<sp/>geom;</highlight></codeline>
<codeline lineno="4289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a2887b7589490c544849ac1ecc9c9a48c" kindref="member">fullscreenGeometryRestoreChanged</ref>();</highlight></codeline>
<codeline lineno="4290"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4291"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4292"><highlight class="normal"></highlight></codeline>
<codeline lineno="4298" refid="class_k_win_1_1_window_1a4f27ecb2b1e34b8c0d188b2a677b4d04" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4f27ecb2b1e34b8c0d188b2a677b4d04" kindref="member">Window::isFullScreenable</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4299"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4301"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4302"><highlight class="normal"></highlight></codeline>
<codeline lineno="4310" refid="class_k_win_1_1_window_1af68e2698e10f68963734220af029279f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af68e2698e10f68963734220af029279f" kindref="member">Window::isFullScreen</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4311"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4313"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4314"><highlight class="normal"></highlight></codeline>
<codeline lineno="4315" refid="class_k_win_1_1_window_1a4b695bf258e4c855a72d9c832e0ae4b9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4b695bf258e4c855a72d9c832e0ae4b9" kindref="member">Window::isRequestedFullScreen</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4316"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af68e2698e10f68963734220af029279f" kindref="member">isFullScreen</ref>();</highlight></codeline>
<codeline lineno="4318"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4319"><highlight class="normal"></highlight></codeline>
<codeline lineno="4327" refid="class_k_win_1_1_window_1a5f16d2ea8d86a8b9e94c2461d4dbb9c8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a5f16d2ea8d86a8b9e94c2461d4dbb9c8" kindref="member">Window::setFullScreen</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)</highlight></codeline>
<codeline lineno="4328"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4329"><highlight class="normal"><sp/><sp/><sp/><sp/>qCWarning(KWIN_CORE,<sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>doesn&apos;t<sp/>support<sp/>setting<sp/>fullscreen<sp/>state&quot;</highlight><highlight class="normal">,<sp/>metaObject()-&gt;className());</highlight></codeline>
<codeline lineno="4330"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4331"><highlight class="normal"></highlight></codeline>
<codeline lineno="4332" refid="class_k_win_1_1_window_1a477d5b4eb6907302d98c654bb940c9ae" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a477d5b4eb6907302d98c654bb940c9ae" kindref="member">Window::wantsAdaptiveSync</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4333"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkAdaptiveSync(<ref refid="class_k_win_1_1_window_1af68e2698e10f68963734220af029279f" kindref="member">isFullScreen</ref>());</highlight></codeline>
<codeline lineno="4335"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4336"><highlight class="normal"></highlight></codeline>
<codeline lineno="4337" refid="class_k_win_1_1_window_1a0f44df53bb213a357ea967843c94db67" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0f44df53bb213a357ea967843c94db67" kindref="member">Window::wantsTearing</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>tearingRequested)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4338"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4339"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkTearing(tearingRequested);</highlight></codeline>
<codeline lineno="4340"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4341"><highlight class="normal"></highlight></codeline>
<codeline lineno="4347" refid="class_k_win_1_1_window_1a0265481eb235342664f27f47dafbc2d4" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0265481eb235342664f27f47dafbc2d4" kindref="member">Window::isMinimizable</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4348"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4349"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4350"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4351"><highlight class="normal"></highlight></codeline>
<codeline lineno="4357" refid="class_k_win_1_1_window_1aa63a6139d1d83641d1e6d1617da0406d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aa63a6139d1d83641d1e6d1617da0406d" kindref="member">Window::isMaximizable</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4358"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4360"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4361"><highlight class="normal"></highlight></codeline>
<codeline lineno="4367" refid="class_k_win_1_1_window_1a1ca68b36bcceffd514324fe97b3bab11" refkind="member"><highlight class="normal"><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9" kindref="member">MaximizeMode</ref><sp/><ref refid="class_k_win_1_1_window_1aacb57e092c7155d3745e3964c7745ba3" kindref="member">Window::maximizeMode</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4368"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9a53d04d48a6022c3cdf27d735a3b1de29" kindref="member">MaximizeRestore</ref>;</highlight></codeline>
<codeline lineno="4370"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4371"><highlight class="normal"></highlight></codeline>
<codeline lineno="4379" refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" refkind="member"><highlight class="normal"><ref refid="namespace_k_win_1a58aad0d72424cd3d75519560dd43d9b9" kindref="member">MaximizeMode</ref><sp/><ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">Window::requestedMaximizeMode</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4380"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4381"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aacb57e092c7155d3745e3964c7745ba3" kindref="member">maximizeMode</ref>();</highlight></codeline>
<codeline lineno="4382"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4383"><highlight class="normal"></highlight></codeline>
<codeline lineno="4387" refid="class_k_win_1_1_window_1a5f94086b4bce785556425c530c59dbaf" refkind="member"><highlight class="normal">QRectF<sp/><ref refid="class_k_win_1_1_window_1a5f94086b4bce785556425c530c59dbaf" kindref="member">Window::geometryRestore</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4388"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a3c7d9d00fef91f9caea2200864b6fa11" kindref="member">m_maximizeGeometryRestore</ref>;</highlight></codeline>
<codeline lineno="4390"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4391"><highlight class="normal"></highlight></codeline>
<codeline lineno="4395" refid="class_k_win_1_1_window_1a9372354c3330f992f28ca6e6fb22d700" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a9372354c3330f992f28ca6e6fb22d700" kindref="member">Window::setGeometryRestore</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>&amp;<ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>)</highlight></codeline>
<codeline lineno="4396"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4397"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3c7d9d00fef91f9caea2200864b6fa11" kindref="member">m_maximizeGeometryRestore</ref><sp/>!=<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>)<sp/>{</highlight></codeline>
<codeline lineno="4398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a3c7d9d00fef91f9caea2200864b6fa11" kindref="member">m_maximizeGeometryRestore</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1aa9a98858e1f184f24e2bfa6cf9362b5f" kindref="member">rect</ref>;</highlight></codeline>
<codeline lineno="4399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a93879a21c2f72b3e4bb1e5eace66a2f2" kindref="member">maximizeGeometryRestoreChanged</ref>();</highlight></codeline>
<codeline lineno="4400"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4401"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4402"><highlight class="normal"></highlight></codeline>
<codeline lineno="4403" refid="class_k_win_1_1_window_1a584f743781c6709049fa7fe25fa3c88b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a584f743781c6709049fa7fe25fa3c88b" kindref="member">Window::invalidateDecoration</ref>()</highlight></codeline>
<codeline lineno="4404"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4405"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4406"><highlight class="normal"></highlight></codeline>
<codeline lineno="4407" refid="class_k_win_1_1_window_1a728e6755d954d62acad193681d709610" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a522f27150d53cdf33f9ff69940763621" kindref="member">Window::noBorder</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4408"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4409"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4410"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4411"><highlight class="normal"></highlight></codeline>
<codeline lineno="4412" refid="class_k_win_1_1_window_1a0078f08c782843fcb88397dff0ad6232" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0078f08c782843fcb88397dff0ad6232" kindref="member">Window::userCanSetNoBorder</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4413"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4414"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4415"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4416"><highlight class="normal"></highlight></codeline>
<codeline lineno="4417" refid="class_k_win_1_1_window_1ab2de2bd6a4bf0fabdf41c5cac3e595f3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab2de2bd6a4bf0fabdf41c5cac3e595f3" kindref="member">Window::setNoBorder</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>set)</highlight></codeline>
<codeline lineno="4418"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4419"><highlight class="normal"><sp/><sp/><sp/><sp/>qCWarning(KWIN_CORE,<sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>doesn&apos;t<sp/>support<sp/>setting<sp/>decorations&quot;</highlight><highlight class="normal">,<sp/>metaObject()-&gt;className());</highlight></codeline>
<codeline lineno="4420"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4421"><highlight class="normal"></highlight></codeline>
<codeline lineno="4422" refid="class_k_win_1_1_window_1a848c62c85204f55706acf4ea61a08d56" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a848c62c85204f55706acf4ea61a08d56" kindref="member">Window::checkNoBorder</ref>()</highlight></codeline>
<codeline lineno="4423"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4424"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ab2de2bd6a4bf0fabdf41c5cac3e595f3" kindref="member">setNoBorder</ref>(</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4425"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4426"><highlight class="normal"></highlight></codeline>
<codeline lineno="4427" refid="class_k_win_1_1_window_1a1a0b0f83a533b8b689dd8bd35c318b8b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1a0b0f83a533b8b689dd8bd35c318b8b" kindref="member">Window::showOnScreenEdge</ref>()</highlight></codeline>
<codeline lineno="4428"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4429"><highlight class="normal"><sp/><sp/><sp/><sp/>qCWarning(KWIN_CORE,<sp/></highlight><highlight class="stringliteral">&quot;%s<sp/>doesn&apos;t<sp/>support<sp/>screen<sp/>edge<sp/>activation&quot;</highlight><highlight class="normal">,<sp/>metaObject()-&gt;className());</highlight></codeline>
<codeline lineno="4430"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4431"><highlight class="normal"></highlight></codeline>
<codeline lineno="4432" refid="class_k_win_1_1_window_1a1aae947c69f1f83740db61c11d5524c2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1aae947c69f1f83740db61c11d5524c2" kindref="member">Window::isPlaceable</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4433"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4435"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4436"><highlight class="normal"></highlight></codeline>
<codeline lineno="4437" refid="class_k_win_1_1_window_1a64f67f09528b18e4ca30cf6a41fd17cb" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a64f67f09528b18e4ca30cf6a41fd17cb" kindref="member">Window::cleanTabBox</ref>()</highlight></codeline>
<codeline lineno="4438"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4439"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>KWIN_BUILD_TABBOX</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4440"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_tab_box_1_1_tab_box" kindref="compound">TabBox::TabBox</ref><sp/>*<ref refid="namespace_k_win_1_1_tab_box_1ab8e1cbfa02924a1537b961051b1a4038" kindref="member">tabBox</ref><sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;tabbox();</highlight></codeline>
<codeline lineno="4441"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1_1_tab_box_1ab8e1cbfa02924a1537b961051b1a4038" kindref="member">tabBox</ref><sp/>&amp;&amp;<sp/><ref refid="namespace_k_win_1_1_tab_box_1ab8e1cbfa02924a1537b961051b1a4038" kindref="member">tabBox</ref>-&gt;isDisplayed()<sp/>&amp;&amp;<sp/><ref refid="namespace_k_win_1_1_tab_box_1ab8e1cbfa02924a1537b961051b1a4038" kindref="member">tabBox</ref>-&gt;currentClient()<sp/>==<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="4442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1_1_tab_box_1ab8e1cbfa02924a1537b961051b1a4038" kindref="member">tabBox</ref>-&gt;nextPrev(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4443"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4444"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4445"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4446"><highlight class="normal"></highlight></codeline>
<codeline lineno="4447" refid="class_k_win_1_1_window_1a708d561f000dfe2d058b6017db96a684" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a708d561f000dfe2d058b6017db96a684" kindref="member">Window::supportsWindowRules</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4448"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4449"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4450"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4451"><highlight class="normal"></highlight></codeline>
<codeline lineno="4452" refid="class_k_win_1_1_window_1af8b11c559566d839b7665662b6d561a3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af8b11c559566d839b7665662b6d561a3" kindref="member">Window::removeRule</ref>(<ref refid="class_k_win_1_1_rules" kindref="compound">Rules</ref><sp/>*rule)</highlight></codeline>
<codeline lineno="4453"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4454"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7b0073ffa42fe46eec1c800a0ce2fe93" kindref="member">m_rules</ref>.remove(rule);</highlight></codeline>
<codeline lineno="4455"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4456"><highlight class="normal"></highlight></codeline>
<codeline lineno="4457" refid="class_k_win_1_1_window_1a5cab226e8c1d5f137f85aa3135e959cc" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a5cab226e8c1d5f137f85aa3135e959cc" kindref="member">Window::evaluateWindowRules</ref>()</highlight></codeline>
<codeline lineno="4458"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4459"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a91b2a6bd8ffbc9b12bf7e0dd7e93b4dd" kindref="member">setupWindowRules</ref>();</highlight></codeline>
<codeline lineno="4460"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ef20caeaf3db7a7bfc594b2b59e5797" kindref="member">applyWindowRules</ref>();</highlight></codeline>
<codeline lineno="4461"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4462"><highlight class="normal"></highlight></codeline>
<codeline lineno="4463" refid="class_k_win_1_1_window_1a91b2a6bd8ffbc9b12bf7e0dd7e93b4dd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a91b2a6bd8ffbc9b12bf7e0dd7e93b4dd" kindref="member">Window::setupWindowRules</ref>()</highlight></codeline>
<codeline lineno="4464"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4465"><highlight class="normal"><sp/><sp/><sp/><sp/>disconnect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ac61e96f4f734de1446c475cfebb0cf0d" kindref="member">Window::captionNormalChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a5cab226e8c1d5f137f85aa3135e959cc" kindref="member">Window::evaluateWindowRules</ref>);</highlight></codeline>
<codeline lineno="4466"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7b0073ffa42fe46eec1c800a0ce2fe93" kindref="member">m_rules</ref><sp/>=<sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;rulebook()-&gt;find(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4467"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>only<sp/>after<sp/>getting<sp/>the<sp/>rules,<sp/>because<sp/>there<sp/>may<sp/>be<sp/>a<sp/>rule<sp/>forcing<sp/>window<sp/>type</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4468"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4469"><highlight class="normal"></highlight></codeline>
<codeline lineno="4470" refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">Window::updateWindowRules</ref>(Rules::Types<sp/>selection)</highlight></codeline>
<codeline lineno="4471"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4472"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;rulebook()-&gt;areUpdatesDisabled())<sp/>{</highlight></codeline>
<codeline lineno="4473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4474"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4475"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7b0073ffa42fe46eec1c800a0ce2fe93" kindref="member">m_rules</ref>.update(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>selection);</highlight></codeline>
<codeline lineno="4476"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4477"><highlight class="normal"></highlight></codeline>
<codeline lineno="4478" refid="class_k_win_1_1_window_1afc19a299627232cd2f497ff1c91772b3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1afc19a299627232cd2f497ff1c91772b3" kindref="member">Window::finishWindowRules</ref>()</highlight></codeline>
<codeline lineno="4479"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4480"><highlight class="normal"><sp/><sp/><sp/><sp/>disconnect(</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1ac61e96f4f734de1446c475cfebb0cf0d" kindref="member">Window::captionNormalChanged</ref>,<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;<ref refid="class_k_win_1_1_window_1a5cab226e8c1d5f137f85aa3135e959cc" kindref="member">Window::evaluateWindowRules</ref>);</highlight></codeline>
<codeline lineno="4481"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6ee345225d453923e318c8344b86217f" kindref="member">updateWindowRules</ref>(<ref refid="class_k_win_1_1_rules_1af260e8f34c4f8e04cc312fe34c135501a5f34a4989e40d5351a197908f48c5ab0" kindref="member">Rules::All</ref>);</highlight></codeline>
<codeline lineno="4482"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7b0073ffa42fe46eec1c800a0ce2fe93" kindref="member">m_rules</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_rules" kindref="compound">WindowRules</ref>();</highlight></codeline>
<codeline lineno="4483"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4484"><highlight class="normal"></highlight></codeline>
<codeline lineno="4485"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Applies<sp/>Force,<sp/>ForceTemporarily<sp/>and<sp/>ApplyNow<sp/>rules</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4486"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Used<sp/>e.g.<sp/>after<sp/>the<sp/>rules<sp/>have<sp/>been<sp/>modified<sp/>using<sp/>the<sp/>kcm.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4487" refid="class_k_win_1_1_window_1a6ef20caeaf3db7a7bfc594b2b59e5797" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a6ef20caeaf3db7a7bfc594b2b59e5797" kindref="member">Window::applyWindowRules</ref>()</highlight></codeline>
<codeline lineno="4488"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4489"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT(!<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>());</highlight></codeline>
<codeline lineno="4490"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>apply<sp/>force<sp/>rules</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4491"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Placement<sp/>-<sp/>does<sp/>need<sp/>explicit<sp/>update,<sp/>just<sp/>like<sp/>some<sp/>others<sp/>below</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4492"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Geometry<sp/>:<sp/>setGeometry()<sp/>doesn&apos;t<sp/>check<sp/>rules</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>client_rules<sp/>=<sp/><ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>();</highlight></codeline>
<codeline lineno="4494"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>oldGeometry<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a5bd40e38d16c8453af9226579d1865ac" kindref="member">moveResizeGeometry</ref>();</highlight></codeline>
<codeline lineno="4495"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>QRectF<sp/>geometry<sp/>=<sp/>client_rules-&gt;checkGeometrySafe(oldGeometry);</highlight></codeline>
<codeline lineno="4496"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(geometry<sp/>!=<sp/>oldGeometry)<sp/>{</highlight></codeline>
<codeline lineno="4497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aca6e1f1d8772897c5efbfb3c17fa436e" kindref="member">moveResize</ref>(geometry);</highlight></codeline>
<codeline lineno="4498"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>MinSize,<sp/>MaxSize<sp/>handled<sp/>by<sp/>Geometry</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4500"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>IgnoreGeometry</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4501"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a017d0afde06ff1fac03f4c4ef7cfb6d9" kindref="member">setDesktops</ref>(<ref refid="class_k_win_1_1_window_1a8da79be4e140390a3b61957f927f5210" kindref="member">desktops</ref>());</highlight></codeline>
<codeline lineno="4502"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a43d064a134863a34bfe5956f21a35641" kindref="member">sendToOutput</ref>(<ref refid="class_k_win_1_1_window_1ad20775a66b1c93ffb3cd0a8e917cc92b" kindref="member">moveResizeOutput</ref>());</highlight></codeline>
<codeline lineno="4503"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7e638bc0587a8f3df06238420f94962f" kindref="member">setOnActivities</ref>(<ref refid="class_k_win_1_1_window_1aa71dc40a7137f7d9295a5ad7a635b0c7" kindref="member">activities</ref>());</highlight></codeline>
<codeline lineno="4504"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Type</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4505"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a513849e778f44172f57dceebf94cadd6" kindref="member">maximize</ref>(<ref refid="class_k_win_1_1_window_1acf3e2b244a1f328009073204ff50f5ae" kindref="member">requestedMaximizeMode</ref>());</highlight></codeline>
<codeline lineno="4506"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2020d42e4c3f51da3bcec8cfdc632f86" kindref="member">setMinimized</ref>(<ref refid="class_k_win_1_1_window_1a7ee9515027aa5076af42776c20b3a4a5" kindref="member">isMinimized</ref>());</highlight></codeline>
<codeline lineno="4507"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a14232d4a0703db154fc0f506be5a675a" kindref="member">setShade</ref>(<ref refid="class_k_win_1_1_window_1abfa6caaf2d5624a4cdd2b49d20ed228c" kindref="member">shadeMode</ref>());</highlight></codeline>
<codeline lineno="4508"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a42e28c55648d7fbd21d164b14d889dea" kindref="member">setOriginalSkipTaskbar</ref>(<ref refid="class_k_win_1_1_window_1aff0dcb9257a7c18c075605858ef64ad6" kindref="member">skipTaskbar</ref>());</highlight></codeline>
<codeline lineno="4509"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9511f02ec7549d4520c56cc8e71341ab" kindref="member">setSkipPager</ref>(<ref refid="class_k_win_1_1_window_1acab70f6f5c4c1fb524f1616f9cb13e03" kindref="member">skipPager</ref>());</highlight></codeline>
<codeline lineno="4510"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae740a221f99373e76b5ed57a6edfb5a8" kindref="member">setSkipSwitcher</ref>(<ref refid="class_k_win_1_1_window_1a09ff41ece0cac78c632f0a3218c2602d" kindref="member">skipSwitcher</ref>());</highlight></codeline>
<codeline lineno="4511"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afc24b8209fd3821a0b706667d7b97847" kindref="member">setKeepAbove</ref>(<ref refid="class_k_win_1_1_window_1ade1d7dfe29d1f709eca65af12b076d2b" kindref="member">keepAbove</ref>());</highlight></codeline>
<codeline lineno="4512"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a10220e62a04571d571a0950fb657b2d2" kindref="member">setKeepBelow</ref>(<ref refid="class_k_win_1_1_window_1a47ab87d36dc289a8f636f78b048a5b36" kindref="member">keepBelow</ref>());</highlight></codeline>
<codeline lineno="4513"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a5f16d2ea8d86a8b9e94c2461d4dbb9c8" kindref="member">setFullScreen</ref>(<ref refid="class_k_win_1_1_window_1a4b695bf258e4c855a72d9c832e0ae4b9" kindref="member">isRequestedFullScreen</ref>());</highlight></codeline>
<codeline lineno="4514"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ab2de2bd6a4bf0fabdf41c5cac3e595f3" kindref="member">setNoBorder</ref>(<ref refid="class_k_win_1_1_window_1a522f27150d53cdf33f9ff69940763621" kindref="member">noBorder</ref>());</highlight></codeline>
<codeline lineno="4515"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ace7499c5c0613f2a0389de51ab135971" kindref="member">updateColorScheme</ref>();</highlight></codeline>
<codeline lineno="4516"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a566fd5756c0cce34ab4f6ac8ba8dd96b" kindref="member">updateLayer</ref>();</highlight></codeline>
<codeline lineno="4517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>FSP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4518"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>AcceptFocus<sp/>:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4519"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;mostRecentlyActivatedWindow()<sp/>==<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;&amp;<sp/>!client_rules-&gt;checkAcceptFocus(</highlight><highlight class="keyword">true</highlight><highlight class="normal">))<sp/>{</highlight></codeline>
<codeline lineno="4521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;activateNextWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4522"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4523"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Autogrouping<sp/>:<sp/>Only<sp/>checked<sp/>on<sp/>window<sp/>manage</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4524"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>AutogroupInForeground<sp/>:<sp/>Only<sp/>checked<sp/>on<sp/>window<sp/>manage</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4525"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>AutogroupById<sp/>:<sp/>Only<sp/>checked<sp/>on<sp/>window<sp/>manage</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4526"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>StrictGeometry</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4527"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae45b3db3780c6b8ed8eab2b87a1031aa" kindref="member">setShortcut</ref>(<ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkShortcut(<ref refid="class_k_win_1_1_window_1adf86e393b2358d840cbe8d4b6870193b" kindref="member">shortcut</ref>().toString()));</highlight></codeline>
<codeline lineno="4528"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>see<sp/>also<sp/>X11Window::setActive()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4529"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a8466be38391212ef29a4c880506eb069" kindref="member">isActive</ref>())<sp/>{</highlight></codeline>
<codeline lineno="4530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a294f762b7e595263d56cb155330f19fd" kindref="member">setOpacity</ref>(<ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkOpacityActive(qRound(<ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">opacity</ref>()<sp/>*<sp/>100.0))<sp/>/<sp/>100.0);</highlight></codeline>
<codeline lineno="4531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;disableGlobalShortcutsForClient(<ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkDisableGlobalShortcuts(</highlight><highlight class="keyword">false</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="4532"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="4533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a294f762b7e595263d56cb155330f19fd" kindref="member">setOpacity</ref>(<ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkOpacityInactive(qRound(<ref refid="class_k_win_1_1_window_1abb0f10e1968953e89829431415fa803e" kindref="member">opacity</ref>()<sp/>*<sp/>100.0))<sp/>/<sp/>100.0);</highlight></codeline>
<codeline lineno="4534"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4535"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a4f8e4a201d469a4bec2646970b1a3f42" kindref="member">setDesktopFileName</ref>(<ref refid="class_k_win_1_1_window_1aab8020efbe1a1ddc2934570b9701d0c3" kindref="member">rules</ref>()-&gt;checkDesktopFile(<ref refid="class_k_win_1_1_window_1a405edf05a731189064fbd7298d06996e" kindref="member">desktopFileName</ref>()));</highlight></codeline>
<codeline lineno="4536"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4537"><highlight class="normal"></highlight></codeline>
<codeline lineno="4538" refid="class_k_win_1_1_window_1ab80ea35c277e387008a043b40ed19c3d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab80ea35c277e387008a043b40ed19c3d" kindref="member">Window::setLastUsageSerial</ref>(quint32<sp/>serial)</highlight></codeline>
<codeline lineno="4539"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4540"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1aeac686d7fa3178f4f8c48cad30fe64ae" kindref="member">m_lastUsageSerial</ref><sp/>&lt;<sp/>serial)<sp/>{</highlight></codeline>
<codeline lineno="4541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1aeac686d7fa3178f4f8c48cad30fe64ae" kindref="member">m_lastUsageSerial</ref><sp/>=<sp/>serial;</highlight></codeline>
<codeline lineno="4542"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4543"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4544"><highlight class="normal"></highlight></codeline>
<codeline lineno="4545" refid="class_k_win_1_1_window_1a2c7d45f16d453f275e7ef16d8ec2118f" refkind="member"><highlight class="normal">quint32<sp/><ref refid="class_k_win_1_1_window_1a2c7d45f16d453f275e7ef16d8ec2118f" kindref="member">Window::lastUsageSerial</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4546"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4547"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aeac686d7fa3178f4f8c48cad30fe64ae" kindref="member">m_lastUsageSerial</ref>;</highlight></codeline>
<codeline lineno="4548"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4549"><highlight class="normal"></highlight></codeline>
<codeline lineno="4550" refid="class_k_win_1_1_window_1a7a0feefba9bd002fb35060568a605af3" refkind="member"><highlight class="normal">uint32_t<sp/><ref refid="class_k_win_1_1_window_1a7a0feefba9bd002fb35060568a605af3" kindref="member">Window::interactiveMoveResizeCount</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4551"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4552"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae18f2e2076546040be29be581bceb33a" kindref="member">m_interactiveMoveResize</ref>.counter;</highlight></codeline>
<codeline lineno="4553"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4554"><highlight class="normal"></highlight></codeline>
<codeline lineno="4555" refid="class_k_win_1_1_window_1a1e3e27bf725caadcf2484557afe24921" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a1e3e27bf725caadcf2484557afe24921" kindref="member">Window::setLockScreenOverlay</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>allowed)</highlight></codeline>
<codeline lineno="4556"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4557"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a974b55853ed7502a0d360dce8202ecf7" kindref="member">m_lockScreenOverlay</ref><sp/>==<sp/>allowed)<sp/>{</highlight></codeline>
<codeline lineno="4558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4559"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4560"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a974b55853ed7502a0d360dce8202ecf7" kindref="member">m_lockScreenOverlay</ref><sp/>=<sp/>allowed;</highlight></codeline>
<codeline lineno="4561"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a43e6e0af4a0864ecfad30c5eda29c2d8" kindref="member">lockScreenOverlayChanged</ref>();</highlight></codeline>
<codeline lineno="4562"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4563"><highlight class="normal"></highlight></codeline>
<codeline lineno="4564" refid="class_k_win_1_1_window_1ab7937ac44130efc04c6bc24f65f71958" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab7937ac44130efc04c6bc24f65f71958" kindref="member">Window::isLockScreenOverlay</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4565"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4566"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a974b55853ed7502a0d360dce8202ecf7" kindref="member">m_lockScreenOverlay</ref>;</highlight></codeline>
<codeline lineno="4567"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4568"><highlight class="normal"></highlight></codeline>
<codeline lineno="4569" refid="class_k_win_1_1_window_1a4d84c00bbc011d8a4b3b4a17b8851d15" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4d84c00bbc011d8a4b3b4a17b8851d15" kindref="member">Window::refOffscreenRendering</ref>()</highlight></codeline>
<codeline lineno="4570"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4571"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae8ba437342c4f6dc46da0fbe50a09e0f" kindref="member">m_offscreenRenderCount</ref>++;</highlight></codeline>
<codeline lineno="4572"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ae8ba437342c4f6dc46da0fbe50a09e0f" kindref="member">m_offscreenRenderCount</ref><sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="4573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a082147340c5e5bad774726702cc59d69" kindref="member">m_offscreenFramecallbackTimer</ref>.start(1&apos;000&apos;000<sp/>/<sp/><ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>()-&gt;refreshRate());</highlight></codeline>
<codeline lineno="4574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a045818526d97d3965985db1204036bd5" kindref="member">offscreenRenderingChanged</ref>();</highlight></codeline>
<codeline lineno="4575"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4576"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4577"><highlight class="normal"></highlight></codeline>
<codeline lineno="4578" refid="class_k_win_1_1_window_1a5298a339cf68f39640772342ab018e28" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a5298a339cf68f39640772342ab018e28" kindref="member">Window::unrefOffscreenRendering</ref>()</highlight></codeline>
<codeline lineno="4579"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4580"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_ASSERT(<ref refid="class_k_win_1_1_window_1ae8ba437342c4f6dc46da0fbe50a09e0f" kindref="member">m_offscreenRenderCount</ref>);</highlight></codeline>
<codeline lineno="4581"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae8ba437342c4f6dc46da0fbe50a09e0f" kindref="member">m_offscreenRenderCount</ref>--;</highlight></codeline>
<codeline lineno="4582"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ae8ba437342c4f6dc46da0fbe50a09e0f" kindref="member">m_offscreenRenderCount</ref><sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="4583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a082147340c5e5bad774726702cc59d69" kindref="member">m_offscreenFramecallbackTimer</ref>.stop();</highlight></codeline>
<codeline lineno="4584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1a045818526d97d3965985db1204036bd5" kindref="member">offscreenRenderingChanged</ref>();</highlight></codeline>
<codeline lineno="4585"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4586"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4587"><highlight class="normal"></highlight></codeline>
<codeline lineno="4588" refid="class_k_win_1_1_window_1a445d701c22287899adf39b5a34313628" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a445d701c22287899adf39b5a34313628" kindref="member">Window::isOffscreenRendering</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4589"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4590"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae8ba437342c4f6dc46da0fbe50a09e0f" kindref="member">m_offscreenRenderCount</ref><sp/>&gt;<sp/>0;</highlight></codeline>
<codeline lineno="4591"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4592"><highlight class="normal"></highlight></codeline>
<codeline lineno="4593" refid="class_k_win_1_1_window_1af9b82e7eb525e57206489164ae67df78" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1af9b82e7eb525e57206489164ae67df78" kindref="member">Window::maybeSendFrameCallback</ref>()</highlight></codeline>
<codeline lineno="4594"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4595"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a7fb37fb07218feaab2454465fbed6864" kindref="member">m_surface</ref><sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a42e178e26b4f5ac7ffd415293b9b9e5a" kindref="member">m_windowItem</ref>-&gt;isVisible())<sp/>{</highlight></codeline>
<codeline lineno="4596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>timestamp<sp/>=<sp/>std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(std::chrono::steady_clock::now().time_since_epoch()).count();</highlight></codeline>
<codeline lineno="4597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7fb37fb07218feaab2454465fbed6864" kindref="member">m_surface</ref>-&gt;traverseTree([</highlight><highlight class="keyword">this</highlight><highlight class="normal">,<sp/>&amp;timestamp](<ref refid="class_k_win_1_1_surface_interface" kindref="compound">SurfaceInterface</ref><sp/>*<ref refid="class_k_win_1_1_window_1a379c25dec85d7b0aee3b79676327b9b6" kindref="member">surface</ref>)<sp/>{</highlight></codeline>
<codeline lineno="4598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a379c25dec85d7b0aee3b79676327b9b6" kindref="member">surface</ref>-&gt;frameRendered(timestamp);</highlight></codeline>
<codeline lineno="4599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>feedback<sp/>=<sp/><ref refid="class_k_win_1_1_window_1a379c25dec85d7b0aee3b79676327b9b6" kindref="member">surface</ref>-&gt;takePresentationFeedback(</highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(feedback)<sp/>{</highlight></codeline>
<codeline lineno="4601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>feedback-&gt;presented(std::chrono::nanoseconds(1&apos;000&apos;000&apos;000&apos;000<sp/>/<sp/><ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>()-&gt;refreshRate()),<sp/>std::chrono::steady_clock::now().time_since_epoch(),<sp/><ref refid="namespace_k_win_1a5bac5dc1ad9b6deedfa5c46c4e432767a98b06ef30caa386be0f897d0e5c5a135" kindref="member">PresentationMode::VSync</ref>);</highlight></codeline>
<codeline lineno="4602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>});</highlight></codeline>
<codeline lineno="4604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>update<sp/>refresh<sp/>rate,<sp/>it<sp/>might<sp/>have<sp/>changed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a082147340c5e5bad774726702cc59d69" kindref="member">m_offscreenFramecallbackTimer</ref>.start(1&apos;000&apos;000<sp/>/<sp/><ref refid="class_k_win_1_1_window_1ae01b40bf580c920be022d66080e0685c" kindref="member">output</ref>()-&gt;refreshRate());</highlight></codeline>
<codeline lineno="4606"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4607"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4608"><highlight class="normal"></highlight></codeline>
<codeline lineno="4609" refid="class_k_win_1_1_window_1a81faef3b8b494d474c8acb202f9e8ddd" refkind="member"><highlight class="normal">qreal<sp/><ref refid="class_k_win_1_1_window_1a81faef3b8b494d474c8acb202f9e8ddd" kindref="member">Window::targetScale</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4610"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4611"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a2c70041797ff18d5c1a135feabbd8861" kindref="member">m_targetScale</ref>;</highlight></codeline>
<codeline lineno="4612"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4613"><highlight class="normal"></highlight></codeline>
<codeline lineno="4614" refid="class_k_win_1_1_window_1aed48d73c0d33bd1134f6c0b48104030d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1aed48d73c0d33bd1134f6c0b48104030d" kindref="member">Window::isShown</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4615"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4616"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>!<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a4eb66b6e398d1fecaf5a18adfcd5d621" kindref="member">isHidden</ref>()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1ac07f6126d0cbaa1688090ceadefe5ded" kindref="member">isHiddenByShowDesktop</ref>()<sp/>&amp;&amp;<sp/>!<ref refid="class_k_win_1_1_window_1a7ee9515027aa5076af42776c20b3a4a5" kindref="member">isMinimized</ref>();</highlight></codeline>
<codeline lineno="4617"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4618"><highlight class="normal"></highlight></codeline>
<codeline lineno="4619" refid="class_k_win_1_1_window_1a4eb66b6e398d1fecaf5a18adfcd5d621" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4eb66b6e398d1fecaf5a18adfcd5d621" kindref="member">Window::isHidden</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4620"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4621"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0ca7c21092d548fdf56b613e7a2ef757" kindref="member">m_hidden</ref>;</highlight></codeline>
<codeline lineno="4622"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4623"><highlight class="normal"></highlight></codeline>
<codeline lineno="4624" refid="class_k_win_1_1_window_1a5af4007f99eb32f7091d32d3331b0e7e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a5af4007f99eb32f7091d32d3331b0e7e" kindref="member">Window::setHidden</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab2e0f83863b9a8fc1ac12744fc8299c8" kindref="member">hidden</ref>)</highlight></codeline>
<codeline lineno="4625"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4626"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a0ca7c21092d548fdf56b613e7a2ef757" kindref="member">m_hidden</ref><sp/>==<sp/><ref refid="class_k_win_1_1_window_1ab2e0f83863b9a8fc1ac12744fc8299c8" kindref="member">hidden</ref>)<sp/>{</highlight></codeline>
<codeline lineno="4627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4628"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4629"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a0ca7c21092d548fdf56b613e7a2ef757" kindref="member">m_hidden</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1ab2e0f83863b9a8fc1ac12744fc8299c8" kindref="member">hidden</ref>;</highlight></codeline>
<codeline lineno="4630"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1acfcb309859b64b65e4f9bfdd3593e831" kindref="member">doSetHidden</ref>();</highlight></codeline>
<codeline lineno="4631"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ab2e0f83863b9a8fc1ac12744fc8299c8" kindref="member">hidden</ref>)<sp/>{</highlight></codeline>
<codeline lineno="4632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespace_k_win_1a8700e164bd811b5f862b944a87bb9b85" kindref="member">workspace</ref>()-&gt;activateNextWindow(</highlight><highlight class="keyword">this</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="4633"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4634"><highlight class="normal"><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1ade5c0d18d4d6deae42a63d61e54d5cdd" kindref="member">hiddenChanged</ref>();</highlight></codeline>
<codeline lineno="4635"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4636"><highlight class="normal"></highlight></codeline>
<codeline lineno="4637" refid="class_k_win_1_1_window_1ac07f6126d0cbaa1688090ceadefe5ded" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ac07f6126d0cbaa1688090ceadefe5ded" kindref="member">Window::isHiddenByShowDesktop</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4638"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4639"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ae180802be2d4f58f05d01eb88a1dd4eb" kindref="member">m_hiddenByShowDesktop</ref>;</highlight></codeline>
<codeline lineno="4640"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4641"><highlight class="normal"></highlight></codeline>
<codeline lineno="4642" refid="class_k_win_1_1_window_1a4c76c5f07d75a4f427466a9a6db35ef9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a4c76c5f07d75a4f427466a9a6db35ef9" kindref="member">Window::setHiddenByShowDesktop</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ab2e0f83863b9a8fc1ac12744fc8299c8" kindref="member">hidden</ref>)</highlight></codeline>
<codeline lineno="4643"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4644"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1ae180802be2d4f58f05d01eb88a1dd4eb" kindref="member">m_hiddenByShowDesktop</ref><sp/>!=<sp/><ref refid="class_k_win_1_1_window_1ab2e0f83863b9a8fc1ac12744fc8299c8" kindref="member">hidden</ref>)<sp/>{</highlight></codeline>
<codeline lineno="4645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ae180802be2d4f58f05d01eb88a1dd4eb" kindref="member">m_hiddenByShowDesktop</ref><sp/>=<sp/><ref refid="class_k_win_1_1_window_1ab2e0f83863b9a8fc1ac12744fc8299c8" kindref="member">hidden</ref>;</highlight></codeline>
<codeline lineno="4646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a9a8e4718ca55a6dbbd4a510b1f6dd7c0" kindref="member">doSetHiddenByShowDesktop</ref>();</highlight></codeline>
<codeline lineno="4647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1aa42a6f9a69ad698d2f8709b6d831c4c8" kindref="member">hiddenByShowDesktopChanged</ref>();</highlight></codeline>
<codeline lineno="4648"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4649"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4650"><highlight class="normal"></highlight></codeline>
<codeline lineno="4651" refid="class_k_win_1_1_window_1afc0da6efe05a813f7c8e5e4fdded0824" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1afc0da6efe05a813f7c8e5e4fdded0824" kindref="member">Window::isSuspended</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4652"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4653"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a265fba838812db557b4dc8d9c7ba4dba" kindref="member">m_suspended</ref>;</highlight></codeline>
<codeline lineno="4654"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4655"><highlight class="normal"></highlight></codeline>
<codeline lineno="4656" refid="class_k_win_1_1_window_1a6e70d5ab3f900d20cc2bf67fa3b0c7ae" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a6e70d5ab3f900d20cc2bf67fa3b0c7ae" kindref="member">Window::setSuspended</ref>(</highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>suspended)</highlight></codeline>
<codeline lineno="4657"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4658"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a3eb5ffa931e4a6f5b817084cf0cc9b71" kindref="member">isDeleted</ref>())<sp/>{</highlight></codeline>
<codeline lineno="4659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="4660"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4661"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a265fba838812db557b4dc8d9c7ba4dba" kindref="member">m_suspended</ref><sp/>!=<sp/>suspended)<sp/>{</highlight></codeline>
<codeline lineno="4662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a265fba838812db557b4dc8d9c7ba4dba" kindref="member">m_suspended</ref><sp/>=<sp/>suspended;</highlight></codeline>
<codeline lineno="4663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1ac16917dcfe5318a0e971eea28044dfda" kindref="member">doSetSuspended</ref>();</highlight></codeline>
<codeline lineno="4664"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4665"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4666"><highlight class="normal"></highlight></codeline>
<codeline lineno="4667" refid="class_k_win_1_1_window_1ac16917dcfe5318a0e971eea28044dfda" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ac16917dcfe5318a0e971eea28044dfda" kindref="member">Window::doSetSuspended</ref>()</highlight></codeline>
<codeline lineno="4668"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4669"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4670"><highlight class="normal"></highlight></codeline>
<codeline lineno="4671" refid="class_k_win_1_1_window_1a7a1e7cdb03f5e88cbda4cd80dc1e91c0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7a1e7cdb03f5e88cbda4cd80dc1e91c0" kindref="member">Window::doSetModal</ref>()</highlight></codeline>
<codeline lineno="4672"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4673"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4674"><highlight class="normal"></highlight></codeline>
<codeline lineno="4675" refid="class_k_win_1_1_window_1aa37ac55bb7dc545e7109d022b02202a7" refkind="member"><highlight class="normal">qreal<sp/><ref refid="class_k_win_1_1_window_1aa37ac55bb7dc545e7109d022b02202a7" kindref="member">Window::nextTargetScale</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4676"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4677"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a7ebdca86b3c0761c70c933c2218600cb" kindref="member">m_nextTargetScale</ref>;</highlight></codeline>
<codeline lineno="4678"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4679"><highlight class="normal"></highlight></codeline>
<codeline lineno="4680" refid="class_k_win_1_1_window_1a6757eacee3e64bdbcd4ad4583859846d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a6757eacee3e64bdbcd4ad4583859846d" kindref="member">Window::setNextTargetScale</ref>(qreal<sp/>scale)</highlight></codeline>
<codeline lineno="4681"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4682"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a7ebdca86b3c0761c70c933c2218600cb" kindref="member">m_nextTargetScale</ref><sp/>!=<sp/>scale)<sp/>{</highlight></codeline>
<codeline lineno="4683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a7ebdca86b3c0761c70c933c2218600cb" kindref="member">m_nextTargetScale</ref><sp/>=<sp/>scale;</highlight></codeline>
<codeline lineno="4684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a629aaa055471ec8d1b61969412279e35" kindref="member">doSetNextTargetScale</ref>();</highlight></codeline>
<codeline lineno="4685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1ad7f7aca73ef4e87e1626a377f2cd168c" kindref="member">nextTargetScaleChanged</ref>();</highlight></codeline>
<codeline lineno="4686"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4687"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4688"><highlight class="normal"></highlight></codeline>
<codeline lineno="4689" refid="class_k_win_1_1_window_1a629aaa055471ec8d1b61969412279e35" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a629aaa055471ec8d1b61969412279e35" kindref="member">Window::doSetNextTargetScale</ref>()</highlight></codeline>
<codeline lineno="4690"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4691"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4692"><highlight class="normal"></highlight></codeline>
<codeline lineno="4693" refid="class_k_win_1_1_window_1a5ba5344f9d163c3f951057ddd84f2111" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a5ba5344f9d163c3f951057ddd84f2111" kindref="member">Window::updateNextTargetScale</ref>()</highlight></codeline>
<codeline lineno="4694"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4695"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a6757eacee3e64bdbcd4ad4583859846d" kindref="member">setNextTargetScale</ref>(<ref refid="class_k_win_1_1_window_1a0cf00bc60958289e00e98f54c5cd5efc" kindref="member">m_moveResizeOutput</ref>-&gt;scale());</highlight></codeline>
<codeline lineno="4696"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4697"><highlight class="normal"></highlight></codeline>
<codeline lineno="4698" refid="class_k_win_1_1_window_1ade9e5485cc346d37281078debb1badbc" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ade9e5485cc346d37281078debb1badbc" kindref="member">Window::setTargetScale</ref>(qreal<sp/>scale)</highlight></codeline>
<codeline lineno="4699"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4700"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a2c70041797ff18d5c1a135feabbd8861" kindref="member">m_targetScale</ref><sp/>!=<sp/>scale)<sp/>{</highlight></codeline>
<codeline lineno="4701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2c70041797ff18d5c1a135feabbd8861" kindref="member">m_targetScale</ref><sp/>=<sp/>scale;</highlight></codeline>
<codeline lineno="4702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Q_EMIT<sp/><ref refid="class_k_win_1_1_window_1ab43215452b63309c9442dafde7f3f2c3" kindref="member">targetScaleChanged</ref>();</highlight></codeline>
<codeline lineno="4703"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4704"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4705"><highlight class="normal"></highlight></codeline>
<codeline lineno="4706" refid="class_k_win_1_1_window_1aa6519c0e1267b9d6a4bfb925652d5ddb" refkind="member"><highlight class="normal"><ref refid="class_k_win_1_1_output_transform" kindref="compound">OutputTransform</ref><sp/><ref refid="class_k_win_1_1_window_1aa6519c0e1267b9d6a4bfb925652d5ddb" kindref="member">Window::preferredBufferTransform</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4707"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4708"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0084134b116f3a3a3b8890a50e967207" kindref="member">m_preferredBufferTransform</ref>;</highlight></codeline>
<codeline lineno="4709"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4710"><highlight class="normal"></highlight></codeline>
<codeline lineno="4711" refid="class_k_win_1_1_window_1a83c14ba0b0896374d05e78bc19f878b1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a83c14ba0b0896374d05e78bc19f878b1" kindref="member">Window::setPreferredBufferTransform</ref>(<ref refid="class_k_win_1_1_output_transform" kindref="compound">OutputTransform</ref><sp/>transform)</highlight></codeline>
<codeline lineno="4712"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4713"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a0084134b116f3a3a3b8890a50e967207" kindref="member">m_preferredBufferTransform</ref><sp/>!=<sp/>transform)<sp/>{</highlight></codeline>
<codeline lineno="4714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a0084134b116f3a3a3b8890a50e967207" kindref="member">m_preferredBufferTransform</ref><sp/>=<sp/>transform;</highlight></codeline>
<codeline lineno="4715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a2f020c644990bff80970d402c46c00a7" kindref="member">doSetPreferredBufferTransform</ref>();</highlight></codeline>
<codeline lineno="4716"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4717"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4718"><highlight class="normal"></highlight></codeline>
<codeline lineno="4719" refid="class_k_win_1_1_window_1a2f020c644990bff80970d402c46c00a7" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a2f020c644990bff80970d402c46c00a7" kindref="member">Window::doSetPreferredBufferTransform</ref>()</highlight></codeline>
<codeline lineno="4720"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4721"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4722"><highlight class="normal"></highlight></codeline>
<codeline lineno="4723" refid="class_k_win_1_1_window_1ac1a0623d451064d4938fc3f4872a2a9d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1ac1a0623d451064d4938fc3f4872a2a9d" kindref="member">Window::updatePreferredBufferTransform</ref>()</highlight></codeline>
<codeline lineno="4724"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4725"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a83c14ba0b0896374d05e78bc19f878b1" kindref="member">setPreferredBufferTransform</ref>(<ref refid="class_k_win_1_1_window_1a0cf00bc60958289e00e98f54c5cd5efc" kindref="member">m_moveResizeOutput</ref>-&gt;transform());</highlight></codeline>
<codeline lineno="4726"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4727"><highlight class="normal"></highlight></codeline>
<codeline lineno="4728" refid="class_k_win_1_1_window_1a4720452272fcfef7fb9e1c4fdf1d3c84" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_color_description" kindref="compound">ColorDescription</ref><sp/>&amp;<ref refid="class_k_win_1_1_window_1a4720452272fcfef7fb9e1c4fdf1d3c84" kindref="member">Window::preferredColorDescription</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="4729"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="4730"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a598d3d131ab6df350faf1e0d8e48c129" kindref="member">m_preferredColorDescription</ref>;</highlight></codeline>
<codeline lineno="4731"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4732"><highlight class="normal"></highlight></codeline>
<codeline lineno="4733" refid="class_k_win_1_1_window_1a0ba265750a8310c6566addce02164027" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a0ba265750a8310c6566addce02164027" kindref="member">Window::setPreferredColorDescription</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_color_description" kindref="compound">ColorDescription</ref><sp/>&amp;description)</highlight></codeline>
<codeline lineno="4734"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4735"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_k_win_1_1_window_1a598d3d131ab6df350faf1e0d8e48c129" kindref="member">m_preferredColorDescription</ref><sp/>!=<sp/>description)<sp/>{</highlight></codeline>
<codeline lineno="4736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a598d3d131ab6df350faf1e0d8e48c129" kindref="member">m_preferredColorDescription</ref><sp/>=<sp/>description;</highlight></codeline>
<codeline lineno="4737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1afe71e723a27aeb466c819f673890babc" kindref="member">doSetPreferredColorDescription</ref>();</highlight></codeline>
<codeline lineno="4738"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="4739"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4740"><highlight class="normal"></highlight></codeline>
<codeline lineno="4741" refid="class_k_win_1_1_window_1afe71e723a27aeb466c819f673890babc" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1afe71e723a27aeb466c819f673890babc" kindref="member">Window::doSetPreferredColorDescription</ref>()</highlight></codeline>
<codeline lineno="4742"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4743"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4744"><highlight class="normal"></highlight></codeline>
<codeline lineno="4745" refid="class_k_win_1_1_window_1a8317614541483173a05da42f7d35d06b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_k_win_1_1_window_1a8317614541483173a05da42f7d35d06b" kindref="member">Window::updatePreferredColorDescription</ref>()</highlight></codeline>
<codeline lineno="4746"><highlight class="normal">{</highlight></codeline>
<codeline lineno="4747"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_k_win_1_1_window_1a0ba265750a8310c6566addce02164027" kindref="member">setPreferredColorDescription</ref>(<ref refid="class_k_win_1_1_window_1a0cf00bc60958289e00e98f54c5cd5efc" kindref="member">m_moveResizeOutput</ref>-&gt;colorDescription());</highlight></codeline>
<codeline lineno="4748"><highlight class="normal">}</highlight></codeline>
<codeline lineno="4749"><highlight class="normal"></highlight></codeline>
<codeline lineno="4750"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>KWin</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4751"><highlight class="normal"></highlight></codeline>
<codeline lineno="4752"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;moc_window.cpp&quot;</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="kwin/src/window.cpp"/>
  </compounddef>
</doxygen>
